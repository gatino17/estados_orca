{\rtf1\adeflang1025\ansi\ansicpg1252\uc1\adeff0\deff0\stshfdbch31505\stshfloch31506\stshfhich31506\stshfbi0\deflang13322\deflangfe13322\themelang13322\themelangfe0\themelangcs0{\fonttbl{\f0\fbidi \froman\fcharset0\fprq2{\*\panose 02020603050405020304}Times New Roman;}{\f1\fbidi \fswiss\fcharset0\fprq2{\*\panose 020b0604020202020204}Arial;}
{\f2\fbidi \fmodern\fcharset0\fprq1{\*\panose 02070309020205020404}Courier New;}{\f3\fbidi \froman\fcharset2\fprq2{\*\panose 05050102010706020507}Symbol;}{\f34\fbidi \froman\fcharset0\fprq2{\*\panose 02040503050406030204}Cambria Math;}
{\f42\fbidi \fswiss\fcharset0\fprq2 Aptos;}{\f45\fbidi \fmodern\fcharset0\fprq1{\*\panose 00000000000000000000}Consolas;}{\flomajor\f31500\fbidi \froman\fcharset0\fprq2{\*\panose 02020603050405020304}Times New Roman;}
{\fdbmajor\f31501\fbidi \froman\fcharset0\fprq2{\*\panose 02020603050405020304}Times New Roman;}{\fhimajor\f31502\fbidi \fswiss\fcharset0\fprq2 Aptos Display;}{\fbimajor\f31503\fbidi \froman\fcharset0\fprq2{\*\panose 02020603050405020304}Times New Roman;}
{\flominor\f31504\fbidi \froman\fcharset0\fprq2{\*\panose 02020603050405020304}Times New Roman;}{\fdbminor\f31505\fbidi \froman\fcharset0\fprq2{\*\panose 02020603050405020304}Times New Roman;}{\fhiminor\f31506\fbidi \fswiss\fcharset0\fprq2 Aptos;}
{\fbiminor\f31507\fbidi \froman\fcharset0\fprq2{\*\panose 02020603050405020304}Times New Roman;}{\f47\fbidi \froman\fcharset238\fprq2 Times New Roman CE;}{\f48\fbidi \froman\fcharset204\fprq2 Times New Roman Cyr;}
{\f50\fbidi \froman\fcharset161\fprq2 Times New Roman Greek;}{\f51\fbidi \froman\fcharset162\fprq2 Times New Roman Tur;}{\f52\fbidi \froman\fcharset177\fprq2 Times New Roman (Hebrew);}{\f53\fbidi \froman\fcharset178\fprq2 Times New Roman (Arabic);}
{\f54\fbidi \froman\fcharset186\fprq2 Times New Roman Baltic;}{\f55\fbidi \froman\fcharset163\fprq2 Times New Roman (Vietnamese);}{\f57\fbidi \fswiss\fcharset238\fprq2 Arial CE;}{\f58\fbidi \fswiss\fcharset204\fprq2 Arial Cyr;}
{\f60\fbidi \fswiss\fcharset161\fprq2 Arial Greek;}{\f61\fbidi \fswiss\fcharset162\fprq2 Arial Tur;}{\f62\fbidi \fswiss\fcharset177\fprq2 Arial (Hebrew);}{\f63\fbidi \fswiss\fcharset178\fprq2 Arial (Arabic);}
{\f64\fbidi \fswiss\fcharset186\fprq2 Arial Baltic;}{\f65\fbidi \fswiss\fcharset163\fprq2 Arial (Vietnamese);}{\f67\fbidi \fmodern\fcharset238\fprq1 Courier New CE;}{\f68\fbidi \fmodern\fcharset204\fprq1 Courier New Cyr;}
{\f70\fbidi \fmodern\fcharset161\fprq1 Courier New Greek;}{\f71\fbidi \fmodern\fcharset162\fprq1 Courier New Tur;}{\f72\fbidi \fmodern\fcharset177\fprq1 Courier New (Hebrew);}{\f73\fbidi \fmodern\fcharset178\fprq1 Courier New (Arabic);}
{\f74\fbidi \fmodern\fcharset186\fprq1 Courier New Baltic;}{\f75\fbidi \fmodern\fcharset163\fprq1 Courier New (Vietnamese);}{\f77\fbidi \froman\fcharset238\fprq2 Cambria Math CE;}{\f78\fbidi \froman\fcharset204\fprq2 Cambria Math Cyr;}
{\f80\fbidi \froman\fcharset161\fprq2 Cambria Math Greek;}{\f81\fbidi \froman\fcharset162\fprq2 Cambria Math Tur;}{\f84\fbidi \froman\fcharset186\fprq2 Cambria Math Baltic;}{\f85\fbidi \froman\fcharset163\fprq2 Cambria Math (Vietnamese);}
{\f87\fbidi \fswiss\fcharset238\fprq2 Aptos CE;}{\f88\fbidi \fswiss\fcharset204\fprq2 Aptos Cyr;}{\f90\fbidi \fswiss\fcharset161\fprq2 Aptos Greek;}{\f91\fbidi \fswiss\fcharset162\fprq2 Aptos Tur;}{\f94\fbidi \fswiss\fcharset186\fprq2 Aptos Baltic;}
{\f95\fbidi \fswiss\fcharset163\fprq2 Aptos (Vietnamese);}{\f97\fbidi \fmodern\fcharset238\fprq1 Consolas CE;}{\f98\fbidi \fmodern\fcharset204\fprq1 Consolas Cyr;}{\f100\fbidi \fmodern\fcharset161\fprq1 Consolas Greek;}
{\f101\fbidi \fmodern\fcharset162\fprq1 Consolas Tur;}{\f104\fbidi \fmodern\fcharset186\fprq1 Consolas Baltic;}{\f105\fbidi \fmodern\fcharset163\fprq1 Consolas (Vietnamese);}{\flomajor\f31508\fbidi \froman\fcharset238\fprq2 Times New Roman CE;}
{\flomajor\f31509\fbidi \froman\fcharset204\fprq2 Times New Roman Cyr;}{\flomajor\f31511\fbidi \froman\fcharset161\fprq2 Times New Roman Greek;}{\flomajor\f31512\fbidi \froman\fcharset162\fprq2 Times New Roman Tur;}
{\flomajor\f31513\fbidi \froman\fcharset177\fprq2 Times New Roman (Hebrew);}{\flomajor\f31514\fbidi \froman\fcharset178\fprq2 Times New Roman (Arabic);}{\flomajor\f31515\fbidi \froman\fcharset186\fprq2 Times New Roman Baltic;}
{\flomajor\f31516\fbidi \froman\fcharset163\fprq2 Times New Roman (Vietnamese);}{\fdbmajor\f31518\fbidi \froman\fcharset238\fprq2 Times New Roman CE;}{\fdbmajor\f31519\fbidi \froman\fcharset204\fprq2 Times New Roman Cyr;}
{\fdbmajor\f31521\fbidi \froman\fcharset161\fprq2 Times New Roman Greek;}{\fdbmajor\f31522\fbidi \froman\fcharset162\fprq2 Times New Roman Tur;}{\fdbmajor\f31523\fbidi \froman\fcharset177\fprq2 Times New Roman (Hebrew);}
{\fdbmajor\f31524\fbidi \froman\fcharset178\fprq2 Times New Roman (Arabic);}{\fdbmajor\f31525\fbidi \froman\fcharset186\fprq2 Times New Roman Baltic;}{\fdbmajor\f31526\fbidi \froman\fcharset163\fprq2 Times New Roman (Vietnamese);}
{\fhimajor\f31528\fbidi \fswiss\fcharset238\fprq2 Aptos Display CE;}{\fhimajor\f31529\fbidi \fswiss\fcharset204\fprq2 Aptos Display Cyr;}{\fhimajor\f31531\fbidi \fswiss\fcharset161\fprq2 Aptos Display Greek;}
{\fhimajor\f31532\fbidi \fswiss\fcharset162\fprq2 Aptos Display Tur;}{\fhimajor\f31535\fbidi \fswiss\fcharset186\fprq2 Aptos Display Baltic;}{\fhimajor\f31536\fbidi \fswiss\fcharset163\fprq2 Aptos Display (Vietnamese);}
{\fbimajor\f31538\fbidi \froman\fcharset238\fprq2 Times New Roman CE;}{\fbimajor\f31539\fbidi \froman\fcharset204\fprq2 Times New Roman Cyr;}{\fbimajor\f31541\fbidi \froman\fcharset161\fprq2 Times New Roman Greek;}
{\fbimajor\f31542\fbidi \froman\fcharset162\fprq2 Times New Roman Tur;}{\fbimajor\f31543\fbidi \froman\fcharset177\fprq2 Times New Roman (Hebrew);}{\fbimajor\f31544\fbidi \froman\fcharset178\fprq2 Times New Roman (Arabic);}
{\fbimajor\f31545\fbidi \froman\fcharset186\fprq2 Times New Roman Baltic;}{\fbimajor\f31546\fbidi \froman\fcharset163\fprq2 Times New Roman (Vietnamese);}{\flominor\f31548\fbidi \froman\fcharset238\fprq2 Times New Roman CE;}
{\flominor\f31549\fbidi \froman\fcharset204\fprq2 Times New Roman Cyr;}{\flominor\f31551\fbidi \froman\fcharset161\fprq2 Times New Roman Greek;}{\flominor\f31552\fbidi \froman\fcharset162\fprq2 Times New Roman Tur;}
{\flominor\f31553\fbidi \froman\fcharset177\fprq2 Times New Roman (Hebrew);}{\flominor\f31554\fbidi \froman\fcharset178\fprq2 Times New Roman (Arabic);}{\flominor\f31555\fbidi \froman\fcharset186\fprq2 Times New Roman Baltic;}
{\flominor\f31556\fbidi \froman\fcharset163\fprq2 Times New Roman (Vietnamese);}{\fdbminor\f31558\fbidi \froman\fcharset238\fprq2 Times New Roman CE;}{\fdbminor\f31559\fbidi \froman\fcharset204\fprq2 Times New Roman Cyr;}
{\fdbminor\f31561\fbidi \froman\fcharset161\fprq2 Times New Roman Greek;}{\fdbminor\f31562\fbidi \froman\fcharset162\fprq2 Times New Roman Tur;}{\fdbminor\f31563\fbidi \froman\fcharset177\fprq2 Times New Roman (Hebrew);}
{\fdbminor\f31564\fbidi \froman\fcharset178\fprq2 Times New Roman (Arabic);}{\fdbminor\f31565\fbidi \froman\fcharset186\fprq2 Times New Roman Baltic;}{\fdbminor\f31566\fbidi \froman\fcharset163\fprq2 Times New Roman (Vietnamese);}
{\fhiminor\f31568\fbidi \fswiss\fcharset238\fprq2 Aptos CE;}{\fhiminor\f31569\fbidi \fswiss\fcharset204\fprq2 Aptos Cyr;}{\fhiminor\f31571\fbidi \fswiss\fcharset161\fprq2 Aptos Greek;}{\fhiminor\f31572\fbidi \fswiss\fcharset162\fprq2 Aptos Tur;}
{\fhiminor\f31575\fbidi \fswiss\fcharset186\fprq2 Aptos Baltic;}{\fhiminor\f31576\fbidi \fswiss\fcharset163\fprq2 Aptos (Vietnamese);}{\fbiminor\f31578\fbidi \froman\fcharset238\fprq2 Times New Roman CE;}
{\fbiminor\f31579\fbidi \froman\fcharset204\fprq2 Times New Roman Cyr;}{\fbiminor\f31581\fbidi \froman\fcharset161\fprq2 Times New Roman Greek;}{\fbiminor\f31582\fbidi \froman\fcharset162\fprq2 Times New Roman Tur;}
{\fbiminor\f31583\fbidi \froman\fcharset177\fprq2 Times New Roman (Hebrew);}{\fbiminor\f31584\fbidi \froman\fcharset178\fprq2 Times New Roman (Arabic);}{\fbiminor\f31585\fbidi \froman\fcharset186\fprq2 Times New Roman Baltic;}
{\fbiminor\f31586\fbidi \froman\fcharset163\fprq2 Times New Roman (Vietnamese);}}{\colortbl;\red0\green0\blue0;\red0\green0\blue255;\red0\green255\blue255;\red0\green255\blue0;\red255\green0\blue255;\red255\green0\blue0;\red255\green255\blue0;
\red255\green255\blue255;\red0\green0\blue128;\red0\green128\blue128;\red0\green128\blue0;\red128\green0\blue128;\red128\green0\blue0;\red128\green128\blue0;\red128\green128\blue128;\red192\green192\blue192;\red0\green0\blue0;\red0\green0\blue0;
\chyperlink\ctint255\cshade255\red70\green120\blue134;\red96\green94\blue92;\red225\green223\blue221;}{\*\defchp \fs24\kerning2\loch\af31506\hich\af31506\dbch\af31505 }{\*\defpap \ql \li0\ri0\sa160\sl278\slmult1
\widctlpar\wrapdefault\aspalpha\aspnum\faauto\adjustright\rin0\lin0\itap0 }\noqfpromote {\stylesheet{\ql \li0\ri0\sa160\sl278\slmult1\widctlpar\wrapdefault\aspalpha\aspnum\faauto\adjustright\rin0\lin0\itap0 \rtlch\fcs1 \af0\afs24\alang1025 \ltrch\fcs0 
\fs24\lang13322\langfe13322\kerning2\loch\f31506\hich\af31506\dbch\af31505\cgrid\langnp13322\langfenp13322 \snext0 \sqformat \spriority0 Normal;}{\s2\ql \li0\ri0\sb240\sa60\sl278\slmult1
\keepn\widctlpar\wrapdefault\aspalpha\aspnum\faauto\outlinelevel1\adjustright\rin0\lin0\itap0 \rtlch\fcs1 \ab\ai\af0\afs28\alang1025 \ltrch\fcs0 
\b\i\fs28\lang13322\langfe13322\kerning2\loch\f31502\hich\af31502\dbch\af31501\cgrid\langnp13322\langfenp13322 \sbasedon0 \snext0 \slink15 \ssemihidden \sunhideused \sqformat \spriority9 \styrsid15421444 heading 2;}{\*\cs10 \additive 
\sunhideused \spriority1 Default Paragraph Font;}{\*
\ts11\tsrowd\trftsWidthB3\trpaddl108\trpaddr108\trpaddfl3\trpaddft3\trpaddfb3\trpaddfr3\trcbpat1\trcfpat1\tblind0\tblindtype3\tsvertalt\tsbrdrt\tsbrdrl\tsbrdrb\tsbrdrr\tsbrdrdgl\tsbrdrdgr\tsbrdrh\tsbrdrv \ql \li0\ri0\sa160\sl278\slmult1
\widctlpar\wrapdefault\aspalpha\aspnum\faauto\adjustright\rin0\lin0\itap0 \rtlch\fcs1 \af0\afs24\alang1025 \ltrch\fcs0 \fs24\lang13322\langfe13322\kerning2\loch\f31506\hich\af31506\dbch\af31505\cgrid\langnp13322\langfenp13322 
\snext11 \ssemihidden \sunhideused Normal Table;}{\*\cs15 \additive \rtlch\fcs1 \ab\ai\af0\afs28 \ltrch\fcs0 \b\i\fs28\loch\f31502\hich\af31502\dbch\af31501 \sbasedon10 \slink2 \ssemihidden \spriority9 \styrsid15421444 T\'edtulo 2 Car;}{
\s16\ql \li0\ri0\widctlpar\wrapdefault\aspalpha\aspnum\faauto\adjustright\rin0\lin0\itap0 \rtlch\fcs1 \af0\afs21\alang1025 \ltrch\fcs0 \fs21\lang13322\langfe1033\kerning2\loch\f45\hich\af45\dbch\af31505\cgrid\langnp13322\langfenp1033 
\sbasedon0 \snext16 \slink17 \sunhideused \styrsid14967658 Plain Text;}{\*\cs17 \additive \rtlch\fcs1 \af0\afs21 \ltrch\fcs0 \f45\fs21\lang0\langfe1033\langnp0\langfenp1033 \sbasedon10 \slink16 \styrsid14967658 Texto sin formato Car;}{
\s18\ql \li0\ri0\sb100\sa100\sbauto1\saauto1\widctlpar\wrapdefault\aspalpha\aspnum\faauto\adjustright\rin0\lin0\itap0 \rtlch\fcs1 \af0\afs24\alang1025 \ltrch\fcs0 \fs24\lang13322\langfe13322\loch\f0\hich\af0\dbch\af31505\cgrid\langnp13322\langfenp13322 
\sbasedon0 \snext18 \spriority0 \styrsid8924899 msonormal;}{\*\cs19 \additive \rtlch\fcs1 \af0 \ltrch\fcs0 \ul\cf19 \sbasedon10 \sunhideused \styrsid9772457 Hyperlink;}{\*\cs20 \additive \rtlch\fcs1 \af0 \ltrch\fcs0 \cf20\chshdng0\chcfpat0\chcbpat21 
\sbasedon10 \ssemihidden \sunhideused \styrsid9772457 Unresolved Mention;}}{\*\listtable{\list\listtemplateid1778683870{\listlevel\levelnfc23\levelnfcn23\leveljc0\leveljcn0\levelfollow0\levelstartat1\levelspace0\levelindent0{\leveltext
\'01\u-3913 ?;}{\levelnumbers;}\f3\fs20\fbias0 \fi-360\li720\jclisttab\tx720\lin720 }{\listlevel\levelnfc23\levelnfcn23\leveljc0\leveljcn0\levelfollow0\levelstartat1\lvltentative\levelspace0\levelindent0{\leveltext\'01\u-3913 ?;}{\levelnumbers;}
\f3\fs20\fbias0 \fi-360\li1440\jclisttab\tx1440\lin1440 }{\listlevel\levelnfc23\levelnfcn23\leveljc0\leveljcn0\levelfollow0\levelstartat1\lvltentative\levelspace0\levelindent0{\leveltext\'01\u-3913 ?;}{\levelnumbers;}\f3\fs20\fbias0 \fi-360\li2160
\jclisttab\tx2160\lin2160 }{\listlevel\levelnfc23\levelnfcn23\leveljc0\leveljcn0\levelfollow0\levelstartat1\lvltentative\levelspace0\levelindent0{\leveltext\'01\u-3913 ?;}{\levelnumbers;}\f3\fs20\fbias0 \fi-360\li2880\jclisttab\tx2880\lin2880 }{\listlevel
\levelnfc23\levelnfcn23\leveljc0\leveljcn0\levelfollow0\levelstartat1\lvltentative\levelspace0\levelindent0{\leveltext\'01\u-3913 ?;}{\levelnumbers;}\f3\fs20\fbias0 \fi-360\li3600\jclisttab\tx3600\lin3600 }{\listlevel\levelnfc23\levelnfcn23\leveljc0
\leveljcn0\levelfollow0\levelstartat1\lvltentative\levelspace0\levelindent0{\leveltext\'01\u-3913 ?;}{\levelnumbers;}\f3\fs20\fbias0 \fi-360\li4320\jclisttab\tx4320\lin4320 }{\listlevel\levelnfc23\levelnfcn23\leveljc0\leveljcn0\levelfollow0\levelstartat1
\lvltentative\levelspace0\levelindent0{\leveltext\'01\u-3913 ?;}{\levelnumbers;}\f3\fs20\fbias0 \fi-360\li5040\jclisttab\tx5040\lin5040 }{\listlevel\levelnfc23\levelnfcn23\leveljc0\leveljcn0\levelfollow0\levelstartat1\lvltentative\levelspace0\levelindent0
{\leveltext\'01\u-3913 ?;}{\levelnumbers;}\f3\fs20\fbias0 \fi-360\li5760\jclisttab\tx5760\lin5760 }{\listlevel\levelnfc23\levelnfcn23\leveljc0\leveljcn0\levelfollow0\levelstartat1\lvltentative\levelspace0\levelindent0{\leveltext
\'01\u-3913 ?;}{\levelnumbers;}\f3\fs20\fbias0 \fi-360\li6480\jclisttab\tx6480\lin6480 }{\listname ;}\listid37825686}{\list\listtemplateid-1{\listlevel\levelnfc0\levelnfcn0\leveljc0\leveljcn0\levelfollow0\levelstartat3\levelspace0\levelindent0{\leveltext
\'02\'00.;}{\levelnumbers\'01;}\rtlch\fcs1 \af0 \ltrch\fcs0 \fi-360\li720\jclisttab\tx720\lin720 }{\listlevel\levelnfc0\levelnfcn0\leveljc0\leveljcn0\levelfollow0\levelstartat1\lvltentative\levelspace0\levelindent0{\leveltext\'02\'01.;}{\levelnumbers
\'01;}\rtlch\fcs1 \af0 \ltrch\fcs0 \fi-360\li1440\jclisttab\tx1440\lin1440 }{\listlevel\levelnfc0\levelnfcn0\leveljc0\leveljcn0\levelfollow0\levelstartat1\lvltentative\levelspace0\levelindent0{\leveltext\'02\'02.;}{\levelnumbers\'01;}\rtlch\fcs1 \af0 
\ltrch\fcs0 \fi-360\li2160\jclisttab\tx2160\lin2160 }{\listlevel\levelnfc0\levelnfcn0\leveljc0\leveljcn0\levelfollow0\levelstartat1\lvltentative\levelspace0\levelindent0{\leveltext\'02\'03.;}{\levelnumbers\'01;}\rtlch\fcs1 \af0 \ltrch\fcs0 \fi-360\li2880
\jclisttab\tx2880\lin2880 }{\listlevel\levelnfc0\levelnfcn0\leveljc0\leveljcn0\levelfollow0\levelstartat1\lvltentative\levelspace0\levelindent0{\leveltext\'02\'04.;}{\levelnumbers\'01;}\rtlch\fcs1 \af0 \ltrch\fcs0 \fi-360\li3600\jclisttab\tx3600\lin3600 }
{\listlevel\levelnfc0\levelnfcn0\leveljc0\leveljcn0\levelfollow0\levelstartat1\lvltentative\levelspace0\levelindent0{\leveltext\'02\'05.;}{\levelnumbers\'01;}\rtlch\fcs1 \af0 \ltrch\fcs0 \fi-360\li4320\jclisttab\tx4320\lin4320 }{\listlevel\levelnfc0
\levelnfcn0\leveljc0\leveljcn0\levelfollow0\levelstartat1\lvltentative\levelspace0\levelindent0{\leveltext\'02\'06.;}{\levelnumbers\'01;}\rtlch\fcs1 \af0 \ltrch\fcs0 \fi-360\li5040\jclisttab\tx5040\lin5040 }{\listlevel\levelnfc0\levelnfcn0\leveljc0
\leveljcn0\levelfollow0\levelstartat1\lvltentative\levelspace0\levelindent0{\leveltext\'02\'07.;}{\levelnumbers\'01;}\rtlch\fcs1 \af0 \ltrch\fcs0 \fi-360\li5760\jclisttab\tx5760\lin5760 }{\listlevel\levelnfc0\levelnfcn0\leveljc0\leveljcn0\levelfollow0
\levelstartat1\lvltentative\levelspace0\levelindent0{\leveltext\'02\'08.;}{\levelnumbers\'01;}\rtlch\fcs1 \af0 \ltrch\fcs0 \fi-360\li6480\jclisttab\tx6480\lin6480 }{\listname ;}\listid402921459}{\list\listtemplateid-974357988{\listlevel\levelnfc23
\levelnfcn23\leveljc0\leveljcn0\levelfollow0\levelstartat1\levelspace0\levelindent0{\leveltext\'01\u-3913 ?;}{\levelnumbers;}\f3\fs20\fbias0 \fi-360\li720\jclisttab\tx720\lin720 }{\listlevel\levelnfc23\levelnfcn23\leveljc0\leveljcn0\levelfollow0
\levelstartat1\levelspace0\levelindent0{\leveltext\'01\u-3913 ?;}{\levelnumbers;}\f3\fs20\fbias0 \fi-360\li1440\jclisttab\tx1440\lin1440 }{\listlevel\levelnfc23\levelnfcn23\leveljc0\leveljcn0\levelfollow0\levelstartat1\lvltentative\levelspace0
\levelindent0{\leveltext\'01\u-3913 ?;}{\levelnumbers;}\f3\fs20\fbias0 \fi-360\li2160\jclisttab\tx2160\lin2160 }{\listlevel\levelnfc23\levelnfcn23\leveljc0\leveljcn0\levelfollow0\levelstartat1\lvltentative\levelspace0\levelindent0{\leveltext
\'01\u-3913 ?;}{\levelnumbers;}\f3\fs20\fbias0 \fi-360\li2880\jclisttab\tx2880\lin2880 }{\listlevel\levelnfc23\levelnfcn23\leveljc0\leveljcn0\levelfollow0\levelstartat1\lvltentative\levelspace0\levelindent0{\leveltext\'01\u-3913 ?;}{\levelnumbers;}
\f3\fs20\fbias0 \fi-360\li3600\jclisttab\tx3600\lin3600 }{\listlevel\levelnfc23\levelnfcn23\leveljc0\leveljcn0\levelfollow0\levelstartat1\lvltentative\levelspace0\levelindent0{\leveltext\'01\u-3913 ?;}{\levelnumbers;}\f3\fs20\fbias0 \fi-360\li4320
\jclisttab\tx4320\lin4320 }{\listlevel\levelnfc23\levelnfcn23\leveljc0\leveljcn0\levelfollow0\levelstartat1\lvltentative\levelspace0\levelindent0{\leveltext\'01\u-3913 ?;}{\levelnumbers;}\f3\fs20\fbias0 \fi-360\li5040\jclisttab\tx5040\lin5040 }{\listlevel
\levelnfc23\levelnfcn23\leveljc0\leveljcn0\levelfollow0\levelstartat1\lvltentative\levelspace0\levelindent0{\leveltext\'01\u-3913 ?;}{\levelnumbers;}\f3\fs20\fbias0 \fi-360\li5760\jclisttab\tx5760\lin5760 }{\listlevel\levelnfc23\levelnfcn23\leveljc0
\leveljcn0\levelfollow0\levelstartat1\lvltentative\levelspace0\levelindent0{\leveltext\'01\u-3913 ?;}{\levelnumbers;}\f3\fs20\fbias0 \fi-360\li6480\jclisttab\tx6480\lin6480 }{\listname ;}\listid788007835}{\list\listtemplateid399036152{\listlevel
\levelnfc23\levelnfcn23\leveljc0\leveljcn0\levelfollow0\levelstartat1\levelspace0\levelindent0{\leveltext\'01\u-3913 ?;}{\levelnumbers;}\f3\fs20\fbias0 \fi-360\li720\jclisttab\tx720\lin720 }{\listlevel\levelnfc23\levelnfcn23\leveljc0\leveljcn0
\levelfollow0\levelstartat1\lvltentative\levelspace0\levelindent0{\leveltext\'01\u-3913 ?;}{\levelnumbers;}\f3\fs20\fbias0 \fi-360\li1440\jclisttab\tx1440\lin1440 }{\listlevel\levelnfc23\levelnfcn23\leveljc0\leveljcn0\levelfollow0\levelstartat1
\lvltentative\levelspace0\levelindent0{\leveltext\'01\u-3913 ?;}{\levelnumbers;}\f3\fs20\fbias0 \fi-360\li2160\jclisttab\tx2160\lin2160 }{\listlevel\levelnfc23\levelnfcn23\leveljc0\leveljcn0\levelfollow0\levelstartat1\lvltentative\levelspace0\levelindent0
{\leveltext\'01\u-3913 ?;}{\levelnumbers;}\f3\fs20\fbias0 \fi-360\li2880\jclisttab\tx2880\lin2880 }{\listlevel\levelnfc23\levelnfcn23\leveljc0\leveljcn0\levelfollow0\levelstartat1\lvltentative\levelspace0\levelindent0{\leveltext
\'01\u-3913 ?;}{\levelnumbers;}\f3\fs20\fbias0 \fi-360\li3600\jclisttab\tx3600\lin3600 }{\listlevel\levelnfc23\levelnfcn23\leveljc0\leveljcn0\levelfollow0\levelstartat1\lvltentative\levelspace0\levelindent0{\leveltext\'01\u-3913 ?;}{\levelnumbers;}
\f3\fs20\fbias0 \fi-360\li4320\jclisttab\tx4320\lin4320 }{\listlevel\levelnfc23\levelnfcn23\leveljc0\leveljcn0\levelfollow0\levelstartat1\lvltentative\levelspace0\levelindent0{\leveltext\'01\u-3913 ?;}{\levelnumbers;}\f3\fs20\fbias0 \fi-360\li5040
\jclisttab\tx5040\lin5040 }{\listlevel\levelnfc23\levelnfcn23\leveljc0\leveljcn0\levelfollow0\levelstartat1\lvltentative\levelspace0\levelindent0{\leveltext\'01\u-3913 ?;}{\levelnumbers;}\f3\fs20\fbias0 \fi-360\li5760\jclisttab\tx5760\lin5760 }{\listlevel
\levelnfc23\levelnfcn23\leveljc0\leveljcn0\levelfollow0\levelstartat1\lvltentative\levelspace0\levelindent0{\leveltext\'01\u-3913 ?;}{\levelnumbers;}\f3\fs20\fbias0 \fi-360\li6480\jclisttab\tx6480\lin6480 }{\listname ;}\listid1044140801}
{\list\listtemplateid-1{\listlevel\levelnfc0\levelnfcn0\leveljc0\leveljcn0\levelfollow0\levelstartat2\levelspace0\levelindent0{\leveltext\'02\'00.;}{\levelnumbers\'01;}\rtlch\fcs1 \af0 \ltrch\fcs0 \fi-360\li720\jclisttab\tx720\lin720 }{\listlevel
\levelnfc0\levelnfcn0\leveljc0\leveljcn0\levelfollow0\levelstartat1\lvltentative\levelspace0\levelindent0{\leveltext\'02\'01.;}{\levelnumbers\'01;}\rtlch\fcs1 \af0 \ltrch\fcs0 \fi-360\li1440\jclisttab\tx1440\lin1440 }{\listlevel\levelnfc0\levelnfcn0
\leveljc0\leveljcn0\levelfollow0\levelstartat1\lvltentative\levelspace0\levelindent0{\leveltext\'02\'02.;}{\levelnumbers\'01;}\rtlch\fcs1 \af0 \ltrch\fcs0 \fi-360\li2160\jclisttab\tx2160\lin2160 }{\listlevel\levelnfc0\levelnfcn0\leveljc0\leveljcn0
\levelfollow0\levelstartat1\lvltentative\levelspace0\levelindent0{\leveltext\'02\'03.;}{\levelnumbers\'01;}\rtlch\fcs1 \af0 \ltrch\fcs0 \fi-360\li2880\jclisttab\tx2880\lin2880 }{\listlevel\levelnfc0\levelnfcn0\leveljc0\leveljcn0\levelfollow0\levelstartat1
\lvltentative\levelspace0\levelindent0{\leveltext\'02\'04.;}{\levelnumbers\'01;}\rtlch\fcs1 \af0 \ltrch\fcs0 \fi-360\li3600\jclisttab\tx3600\lin3600 }{\listlevel\levelnfc0\levelnfcn0\leveljc0\leveljcn0\levelfollow0\levelstartat1\lvltentative\levelspace0
\levelindent0{\leveltext\'02\'05.;}{\levelnumbers\'01;}\rtlch\fcs1 \af0 \ltrch\fcs0 \fi-360\li4320\jclisttab\tx4320\lin4320 }{\listlevel\levelnfc0\levelnfcn0\leveljc0\leveljcn0\levelfollow0\levelstartat1\lvltentative\levelspace0\levelindent0{\leveltext
\'02\'06.;}{\levelnumbers\'01;}\rtlch\fcs1 \af0 \ltrch\fcs0 \fi-360\li5040\jclisttab\tx5040\lin5040 }{\listlevel\levelnfc0\levelnfcn0\leveljc0\leveljcn0\levelfollow0\levelstartat1\lvltentative\levelspace0\levelindent0{\leveltext\'02\'07.;}{\levelnumbers
\'01;}\rtlch\fcs1 \af0 \ltrch\fcs0 \fi-360\li5760\jclisttab\tx5760\lin5760 }{\listlevel\levelnfc0\levelnfcn0\leveljc0\leveljcn0\levelfollow0\levelstartat1\lvltentative\levelspace0\levelindent0{\leveltext\'02\'08.;}{\levelnumbers\'01;}\rtlch\fcs1 \af0 
\ltrch\fcs0 \fi-360\li6480\jclisttab\tx6480\lin6480 }{\listname ;}\listid1045299484}{\list\listtemplateid153112170{\listlevel\levelnfc23\levelnfcn23\leveljc0\leveljcn0\levelfollow0\levelstartat1\levelspace0\levelindent0{\leveltext
\'01\u-3913 ?;}{\levelnumbers;}\f3\fs20\fbias0 \fi-360\li720\jclisttab\tx720\lin720 }{\listlevel\levelnfc23\levelnfcn23\leveljc0\leveljcn0\levelfollow0\levelstartat1\levelspace0\levelindent0{\leveltext\'01\u-3913 ?;}{\levelnumbers;}\f3\fs20\fbias0 
\fi-360\li1440\jclisttab\tx1440\lin1440 }{\listlevel\levelnfc23\levelnfcn23\leveljc0\leveljcn0\levelfollow0\levelstartat1\levelspace0\levelindent0{\leveltext\'01\u-3913 ?;}{\levelnumbers;}\f3\fs20\fbias0 \fi-360\li2160\jclisttab\tx2160\lin2160 }
{\listlevel\levelnfc23\levelnfcn23\leveljc0\leveljcn0\levelfollow0\levelstartat1\lvltentative\levelspace0\levelindent0{\leveltext\'01\u-3913 ?;}{\levelnumbers;}\f3\fs20\fbias0 \fi-360\li2880\jclisttab\tx2880\lin2880 }{\listlevel\levelnfc23\levelnfcn23
\leveljc0\leveljcn0\levelfollow0\levelstartat1\lvltentative\levelspace0\levelindent0{\leveltext\'01\u-3913 ?;}{\levelnumbers;}\f3\fs20\fbias0 \fi-360\li3600\jclisttab\tx3600\lin3600 }{\listlevel\levelnfc23\levelnfcn23\leveljc0\leveljcn0\levelfollow0
\levelstartat1\lvltentative\levelspace0\levelindent0{\leveltext\'01\u-3913 ?;}{\levelnumbers;}\f3\fs20\fbias0 \fi-360\li4320\jclisttab\tx4320\lin4320 }{\listlevel\levelnfc23\levelnfcn23\leveljc0\leveljcn0\levelfollow0\levelstartat1\lvltentative
\levelspace0\levelindent0{\leveltext\'01\u-3913 ?;}{\levelnumbers;}\f3\fs20\fbias0 \fi-360\li5040\jclisttab\tx5040\lin5040 }{\listlevel\levelnfc23\levelnfcn23\leveljc0\leveljcn0\levelfollow0\levelstartat1\lvltentative\levelspace0\levelindent0{\leveltext
\'01\u-3913 ?;}{\levelnumbers;}\f3\fs20\fbias0 \fi-360\li5760\jclisttab\tx5760\lin5760 }{\listlevel\levelnfc23\levelnfcn23\leveljc0\leveljcn0\levelfollow0\levelstartat1\lvltentative\levelspace0\levelindent0{\leveltext\'01\u-3913 ?;}{\levelnumbers;}
\f3\fs20\fbias0 \fi-360\li6480\jclisttab\tx6480\lin6480 }{\listname ;}\listid1084641792}{\list\listtemplateid-1{\listlevel\levelnfc0\levelnfcn0\leveljc0\leveljcn0\levelfollow0\levelstartat1\levelspace0\levelindent0{\leveltext\'02\'00.;}{\levelnumbers
\'01;}\rtlch\fcs1 \af0 \ltrch\fcs0 \fi-360\li720\jclisttab\tx720\lin720 }{\listlevel\levelnfc0\levelnfcn0\leveljc0\leveljcn0\levelfollow0\levelstartat1\lvltentative\levelspace0\levelindent0{\leveltext\'02\'01.;}{\levelnumbers\'01;}\rtlch\fcs1 \af0 
\ltrch\fcs0 \fi-360\li1440\jclisttab\tx1440\lin1440 }{\listlevel\levelnfc0\levelnfcn0\leveljc0\leveljcn0\levelfollow0\levelstartat1\lvltentative\levelspace0\levelindent0{\leveltext\'02\'02.;}{\levelnumbers\'01;}\rtlch\fcs1 \af0 \ltrch\fcs0 \fi-360\li2160
\jclisttab\tx2160\lin2160 }{\listlevel\levelnfc0\levelnfcn0\leveljc0\leveljcn0\levelfollow0\levelstartat1\lvltentative\levelspace0\levelindent0{\leveltext\'02\'03.;}{\levelnumbers\'01;}\rtlch\fcs1 \af0 \ltrch\fcs0 \fi-360\li2880\jclisttab\tx2880\lin2880 }
{\listlevel\levelnfc0\levelnfcn0\leveljc0\leveljcn0\levelfollow0\levelstartat1\lvltentative\levelspace0\levelindent0{\leveltext\'02\'04.;}{\levelnumbers\'01;}\rtlch\fcs1 \af0 \ltrch\fcs0 \fi-360\li3600\jclisttab\tx3600\lin3600 }{\listlevel\levelnfc0
\levelnfcn0\leveljc0\leveljcn0\levelfollow0\levelstartat1\lvltentative\levelspace0\levelindent0{\leveltext\'02\'05.;}{\levelnumbers\'01;}\rtlch\fcs1 \af0 \ltrch\fcs0 \fi-360\li4320\jclisttab\tx4320\lin4320 }{\listlevel\levelnfc0\levelnfcn0\leveljc0
\leveljcn0\levelfollow0\levelstartat1\lvltentative\levelspace0\levelindent0{\leveltext\'02\'06.;}{\levelnumbers\'01;}\rtlch\fcs1 \af0 \ltrch\fcs0 \fi-360\li5040\jclisttab\tx5040\lin5040 }{\listlevel\levelnfc0\levelnfcn0\leveljc0\leveljcn0\levelfollow0
\levelstartat1\lvltentative\levelspace0\levelindent0{\leveltext\'02\'07.;}{\levelnumbers\'01;}\rtlch\fcs1 \af0 \ltrch\fcs0 \fi-360\li5760\jclisttab\tx5760\lin5760 }{\listlevel\levelnfc0\levelnfcn0\leveljc0\leveljcn0\levelfollow0\levelstartat1\lvltentative
\levelspace0\levelindent0{\leveltext\'02\'08.;}{\levelnumbers\'01;}\rtlch\fcs1 \af0 \ltrch\fcs0 \fi-360\li6480\jclisttab\tx6480\lin6480 }{\listname ;}\listid1087311561}{\list\listtemplateid394415126{\listlevel\levelnfc23\levelnfcn23\leveljc0\leveljcn0
\levelfollow0\levelstartat1\levelspace0\levelindent0{\leveltext\'01\u-3913 ?;}{\levelnumbers;}\f3\fs20\fbias0 \fi-360\li720\jclisttab\tx720\lin720 }{\listlevel\levelnfc23\levelnfcn23\leveljc0\leveljcn0\levelfollow0\levelstartat1\lvltentative\levelspace0
\levelindent0{\leveltext\'01\u-3913 ?;}{\levelnumbers;}\f3\fs20\fbias0 \fi-360\li1440\jclisttab\tx1440\lin1440 }{\listlevel\levelnfc23\levelnfcn23\leveljc0\leveljcn0\levelfollow0\levelstartat1\lvltentative\levelspace0\levelindent0{\leveltext
\'01\u-3913 ?;}{\levelnumbers;}\f3\fs20\fbias0 \fi-360\li2160\jclisttab\tx2160\lin2160 }{\listlevel\levelnfc23\levelnfcn23\leveljc0\leveljcn0\levelfollow0\levelstartat1\lvltentative\levelspace0\levelindent0{\leveltext\'01\u-3913 ?;}{\levelnumbers;}
\f3\fs20\fbias0 \fi-360\li2880\jclisttab\tx2880\lin2880 }{\listlevel\levelnfc23\levelnfcn23\leveljc0\leveljcn0\levelfollow0\levelstartat1\lvltentative\levelspace0\levelindent0{\leveltext\'01\u-3913 ?;}{\levelnumbers;}\f3\fs20\fbias0 \fi-360\li3600
\jclisttab\tx3600\lin3600 }{\listlevel\levelnfc23\levelnfcn23\leveljc0\leveljcn0\levelfollow0\levelstartat1\lvltentative\levelspace0\levelindent0{\leveltext\'01\u-3913 ?;}{\levelnumbers;}\f3\fs20\fbias0 \fi-360\li4320\jclisttab\tx4320\lin4320 }{\listlevel
\levelnfc23\levelnfcn23\leveljc0\leveljcn0\levelfollow0\levelstartat1\lvltentative\levelspace0\levelindent0{\leveltext\'01\u-3913 ?;}{\levelnumbers;}\f3\fs20\fbias0 \fi-360\li5040\jclisttab\tx5040\lin5040 }{\listlevel\levelnfc23\levelnfcn23\leveljc0
\leveljcn0\levelfollow0\levelstartat1\lvltentative\levelspace0\levelindent0{\leveltext\'01\u-3913 ?;}{\levelnumbers;}\f3\fs20\fbias0 \fi-360\li5760\jclisttab\tx5760\lin5760 }{\listlevel\levelnfc23\levelnfcn23\leveljc0\leveljcn0\levelfollow0\levelstartat1
\lvltentative\levelspace0\levelindent0{\leveltext\'01\u-3913 ?;}{\levelnumbers;}\f3\fs20\fbias0 \fi-360\li6480\jclisttab\tx6480\lin6480 }{\listname ;}\listid1167667623}}{\*\listoverridetable{\listoverride\listid1087311561\listoverridecount0\ls1}
{\listoverride\listid1045299484\listoverridecount0\ls2}{\listoverride\listid402921459\listoverridecount0\ls3}{\listoverride\listid788007835\listoverridecount0\ls4}{\listoverride\listid1084641792\listoverridecount0\ls5}{\listoverride\listid37825686
\listoverridecount0\ls6}{\listoverride\listid1044140801\listoverridecount0\ls7}{\listoverride\listid1167667623\listoverridecount0\ls8}}{\*\rsidtbl \rsid93642\rsid3039096\rsid8924899\rsid9772457\rsid12465008\rsid14967658\rsid15421444}{\mmathPr\mmathFont34
\mbrkBin0\mbrkBinSub0\msmallFrac0\mdispDef1\mlMargin0\mrMargin0\mdefJc1\mwrapIndent1440\mintLim0\mnaryLim1}{\info{\operator alejandro gatino}{\creatim\yr2025\mo10\dy20\hr10\min15}{\revtim\yr2025\mo11\dy10\hr16\min15}{\version5}{\edmins245}{\nofpages20}
{\nofwords5165}{\nofchars28411}{\nofcharsws33509}{\vern3}}{\*\xmlnstbl {\xmlns1 http://schemas.microsoft.com/office/word/2003/wordml}}\paperw12240\paperh15840\margl1701\margr1701\margt1417\margb1417\gutter0\ltrsect 
\widowctrl\ftnbj\aenddoc\hyphhotz425\trackmoves0\trackformatting1\donotembedsysfont0\relyonvml0\donotembedlingdata1\grfdocevents0\validatexml0\showplaceholdtext0\ignoremixedcontent0\saveinvalidxml0\showxmlerrors0\horzdoc\dghspace120\dgvspace120
\dghorigin1701\dgvorigin1984\dghshow0\dgvshow3\jcompress\viewkind1\viewscale100\rsidroot14967658 \fet0{\*\wgrffmtfilter 2450}\ilfomacatclnup0\ltrpar \sectd \ltrsect\linex0\sectdefaultcl\sftnbj {\*\pnseclvl1\pnucrm\pnstart1\pnindent720\pnhang {\pntxta .}}
{\*\pnseclvl2\pnucltr\pnstart1\pnindent720\pnhang {\pntxta .}}{\*\pnseclvl3\pndec\pnstart1\pnindent720\pnhang {\pntxta .}}{\*\pnseclvl4\pnlcltr\pnstart1\pnindent720\pnhang {\pntxta )}}{\*\pnseclvl5\pndec\pnstart1\pnindent720\pnhang {\pntxtb (}{\pntxta )}}
{\*\pnseclvl6\pnlcltr\pnstart1\pnindent720\pnhang {\pntxtb (}{\pntxta )}}{\*\pnseclvl7\pnlcrm\pnstart1\pnindent720\pnhang {\pntxtb (}{\pntxta )}}{\*\pnseclvl8\pnlcltr\pnstart1\pnindent720\pnhang {\pntxtb (}{\pntxta )}}{\*\pnseclvl9
\pnlcrm\pnstart1\pnindent720\pnhang {\pntxtb (}{\pntxta )}}\pard\plain \ltrpar\ql \li0\ri0\nowidctlpar\wrapdefault\faauto\rin0\lin0\itap0 \rtlch\fcs1 \af0\afs24\alang1025 \ltrch\fcs0 
\fs24\lang13322\langfe13322\kerning2\loch\af31506\hich\af31506\dbch\af31505\cgrid\langnp13322\langfenp13322 {\rtlch\fcs1 \ab\af1\afs28 \ltrch\fcs0 \b\f1\fs28\kerning0\insrsid93642 \hich\af1\dbch\af31505\loch\f1 \hich\f1 Plan de Restauraci\'c3\'b3\loch\f1 
n y Respaldo - Estados Orca }{\rtlch\fcs1 \af1 \ltrch\fcs0 \f1\kerning0\insrsid93642 
\par \hich\af1\dbch\af31505\loch\f1 \hich\f1 Fecha de generaci\'c3\'b3\loch\f1 n: 2025-10-15_151328
\par 
\par }{\rtlch\fcs1 \ab\af1\afs26 \ltrch\fcs0 \b\f1\fs26\kerning0\insrsid93642 \hich\af1\dbch\af31505\loch\f1 1) Resumen }{\rtlch\fcs1 \af1 \ltrch\fcs0 \f1\kerning0\insrsid93642 
\par \hich\af1\dbch\af31505\loch\f1 \hich\f1 Este documento describe c\'c3\'b3\hich\af1\dbch\af31505\loch\f1 \hich\f1 mo respaldar y restaurar la configuraci\'c3\'b3\loch\f1 \hich\f1 n y archivos clave de la instancia (Apache, Nginx, pgAdmin, sitios est\'c3
\'a1\loch\f1 ticos y certificados) en el servidor }{\rtlch\fcs1 \af2 \ltrch\fcs0 \f2\kerning0\insrsid93642 \hich\af2\dbch\af31505\loch\f2 204.48.22.217 }{\rtlch\fcs1 \af1 \ltrch\fcs0 \f1\kerning0\insrsid93642 \hich\af1\dbch\af31505\loch\f1 . 
\par 
\par }{\rtlch\fcs1 \ab\af1\afs26 \ltrch\fcs0 \b\f1\fs26\kerning0\insrsid93642 \hich\af1\dbch\af31505\loch\f1 \hich\f1 2) Qu\'c3\'a9\loch\f1  se respalda }{\rtlch\fcs1 \af1 \ltrch\fcs0 \f1\kerning0\insrsid93642 
\par \hich\af1\dbch\af31505\loch\f1 - Confs de Apache: }{\rtlch\fcs1 \af2 \ltrch\fcs0 \f2\kerning0\insrsid93642 \hich\af2\dbch\af31505\loch\f2 /etc/apache2 }{\rtlch\fcs1 \af1 \ltrch\fcs0 \f1\kerning0\insrsid93642 
\par \hich\af1\dbch\af31505\loch\f1 - Confs de Nginx: }{\rtlch\fcs1 \af2 \ltrch\fcs0 \f2\kerning0\insrsid93642 \hich\af2\dbch\af31505\loch\f2 /etc/nginx }{\rtlch\fcs1 \af1 \ltrch\fcs0 \f1\kerning0\insrsid93642 
\par \hich\af1\dbch\af31505\loch\f1 - Certificados Let's Encrypt (si existen): }{\rtlch\fcs1 \af2 \ltrch\fcs0 \f2\kerning0\insrsid93642 \hich\af2\dbch\af31505\loch\f2 /etc/letsencrypt }{\rtlch\fcs1 \af1 \ltrch\fcs0 \f1\kerning0\insrsid93642 
\par \hich\af1\dbch\af31505\loch\f1 \hich\f1 - Sitios est\'c3\'a1\loch\f1 ticos: }{\rtlch\fcs1 \af2 \ltrch\fcs0 \f2\kerning0\insrsid93642 \hich\af2\dbch\af31505\loch\f2 /var/www/estados_frontend }{\rtlch\fcs1 \af1 \ltrch\fcs0 \f1\kerning0\insrsid93642 
\hich\af1\dbch\af31505\loch\f1  y }{\rtlch\fcs1 \af2 \ltrch\fcs0 \f2\kerning0\insrsid93642 \hich\af2\dbch\af31505\loch\f2 /var/www/kiosko }{\rtlch\fcs1 \af1 \ltrch\fcs0 \f1\kerning0\insrsid93642 
\par \hich\af1\dbch\af31505\loch\f1 - Datos de pgAdmin: }{\rtlch\fcs1 \af2 \ltrch\fcs0 \f2\kerning0\insrsid93642 \hich\af2\dbch\af31505\loch\f2 /var/lib/pgadmin }{\rtlch\fcs1 \af1 \ltrch\fcs0 \f1\kerning0\insrsid93642 \hich\af1\dbch\af31505\loch\f1  y }{
\rtlch\fcs1 \af2 \ltrch\fcs0 \f2\kerning0\insrsid93642 \hich\af2\dbch\af31505\loch\f2 /var/log/pgadmin }{\rtlch\fcs1 \af1 \ltrch\fcs0 \f1\kerning0\insrsid93642 
\par \hich\af1\dbch\af31505\loch\f1 \hich\f1 - Estado del sistema (diagn\'c3\'b3\loch\f1 \hich\f1 sticos): vhosts, m\'c3\'b3\loch\f1 dulos, puertos, UFW, stat\hich\af1\dbch\af31505\loch\f1 us de servicios. 
\par 
\par }{\rtlch\fcs1 \ab\af1\afs26 \ltrch\fcs0 \b\f1\fs26\kerning0\insrsid93642 \hich\af1\dbch\af31505\loch\f1 3) Crear un respaldo (snapshot) }{\rtlch\fcs1 \af1 \ltrch\fcs0 \f1\kerning0\insrsid93642 
\par \hich\af1\dbch\af31505\loch\f1 Ejecutar en el servidor como root:
\par }{\rtlch\fcs1 \af2 \ltrch\fcs0 \f2\lang1033\langfe13322\kerning0\langnp1033\insrsid93642\charrsid9772457 \hich\af2\dbch\af31505\loch\f2 TS=$(date +%F_%H%M%S)
\par \hich\af2\dbch\af31505\loch\f2 BASE=/root/backups/$TS
\par \hich\af2\dbch\af31505\loch\f2 mkdir -p $BASE
\par 
\par \hich\af2\dbch\af31505\loch\f2 \hich\f2 # Inventarios / diagn\'c3\'b3\loch\f2 stico
\par \hich\af2\dbch\af31505\loch\f2 apachectl -S            | tee $BASE/apache_vhosts.txt
\par \hich\af2\dbch\af31505\loch\f2 apache2ctl -M           | tee $BASE/apache_modules.txt
\par \hich\af2\dbch\af31505\loch\f2 a2query -s              | tee $BASE/apache_sites_enabled.txt
\par \hich\af2\dbch\af31505\loch\f2 a2query -c              | tee $BASE/apache_confs_enabled.txt
\par \hich\af2\dbch\af31505\loch\f2 nginx -T                | tee $BASE/nginx_full_dump.txt
\par \hich\af2\dbch\af31505\loch\f2 ss -tulpn               | tee $BASE/listen_ports.txt
\par \hich\af2\dbch\af31505\loch\f2 ufw status numbered     | tee $BASE/ufw_rules.txt
\par \hich\af2\dbch\af31505\loch\f2 systemctl status apache2 --no-pa\hich\af2\dbch\af31505\loch\f2 ger | tee $BASE/status_apache2.txt
\par \hich\af2\dbch\af31505\loch\f2 systemctl status nginx  --no-pager | tee $BASE/status_nginx.txt
\par 
\par }{\rtlch\fcs1 \af2 \ltrch\fcs0 \f2\kerning0\insrsid93642 \hich\af2\dbch\af31505\loch\f2 # Configs
\par \hich\af2\dbch\af31505\loch\f2 rsync -a /etc/apache2/     $BASE/etc_apache2/
\par \hich\af2\dbch\af31505\loch\f2 rsync -a /etc/nginx/       $BASE/etc_nginx/
\par }{\rtlch\fcs1 \af2 \ltrch\fcs0 \f2\lang1033\langfe13322\kerning0\langnp1033\insrsid93642\charrsid9772457 \hich\af2\dbch\af31505\loch\f2 rsync -a /etc/letsencrypt/ $BASE/etc_letsencrypt/ 2>/dev/null || true
\par 
\par }{\rtlch\fcs1 \af2 \ltrch\fcs0 \f2\kerning0\insrsid93642 \hich\af2\dbch\af31505\loch\f2 \hich\f2 # Sitios est\'c3\'a1\loch\f2 ticos
\par \hich\af2\dbch\af31505\loch\f2 rsync -a /var/www/estados_frontend/ $BASE/www_estados_frontend/
\par }{\rtlch\fcs1 \af2 \ltrch\fcs0 \f2\lang1033\langfe13322\kerning0\langnp1033\insrsid93642\charrsid9772457 \hich\af2\dbch\af31505\loch\f2 rsync -a /var/www/kiosko/           $BASE/www_kiosko/ 2>/dev/null || true
\par 
\par \hich\af2\dbch\af31505\loch\f2 # pgAdmin
\par \hich\af2\dbch\af31505\loch\f2 rsync -a /var/lib/pgadmin/ $BASE/var_lib_pgadmin/ 2>/dev/null || true
\par \hich\af2\dbch\af31505\loch\f2 rsync -a /var/log/pgadmin/ $BASE/var_log_pgadmin/ 2>/dev/null || true
\par 
\par \hich\af2\dbch\af31505\loch\f2 # Empaquetar
\par \hich\af2\dbch\af31505\loch\f2 cd /root/backups
\par \hich\af2\dbch\af31505\loch\f2 tar -czf estados_orca_backup_$TS.tgz $TS
\par \hich\af2\dbch\af31505\loch\f2 ls -lh /root/backups/estados_orca_backup_$TS.tgz
\par }{\rtlch\fcs1 \af1 \ltrch\fcs0 \f1\lang1033\langfe13322\kerning0\langnp1033\insrsid93642\charrsid9772457 
\par 
\par }{\rtlch\fcs1 \ab\af1\afs26 \ltrch\fcs0 \b\f1\fs26\kerning0\insrsid93642 \hich\af1\dbch\af31505\loch\f1 4) Restaurar desde un respaldo }{\rtlch\fcs1 \af1 \ltrch\fcs0 \f1\kerning0\insrsid93642 
\par \hich\af1\dbch\af31505\loch\f1 1. Desempaquetar el archivo (reemplace }{\rtlch\fcs1 \af2 \ltrch\fcs0 \f2\kerning0\insrsid93642 \hich\af2\dbch\af31505\loch\f2 YYYY-MM-DD_HHMMSS }{\rtlch\fcs1 \af1 \ltrch\fcs0 \f1\kerning0\insrsid93642 
\hich\af1\dbch\af31505\loch\f1  por el timestamp del backup):
\par }{\rtlch\fcs1 \af2 \ltrch\fcs0 \f2\kerning0\insrsid93642 \hich\af2\dbch\af31505\loch\f2 cd /root/backups
\par \hich\af2\dbch\af31505\loch\f2 tar -xzf estados_orca_backup_YYYY-MM-DD_HHMMSS.tgz
\par \hich\af2\dbch\af31505\loch\f2 TS=YYYY-MM-DD_HHMMSS
\par }{\rtlch\fcs1 \af1 \ltrch\fcs0 \f1\kerning0\insrsid93642 
\par \hich\af1\dbch\af31505\loch\f1 2. Revisar y restaurar componentes deseados:
\par }{\rtlch\fcs1 \af1 \ltrch\fcs0 \f1\lang1033\langfe13322\kerning0\langnp1033\insrsid93642\charrsid9772457 \hich\af1\dbch\af31505\loch\f1 - }{\rtlch\fcs1 \ab\af1 \ltrch\fcs0 \b\f1\lang1033\langfe13322\kerning0\langnp1033\insrsid93642\charrsid9772457 
\hich\af1\dbch\af31505\loch\f1 Apache }{\rtlch\fcs1 \af1 \ltrch\fcs0 \f1\lang1033\langfe13322\kerning0\langnp1033\insrsid93642\charrsid9772457 \hich\af1\dbch\af31505\loch\f1 :
\par }{\rtlch\fcs1 \af2 \ltrch\fcs0 \f2\lang1033\langfe13322\kerning0\langnp1033\insrsid93642\charrsid9772457 \hich\af2\dbch\af31505\loch\f2 rsync -a /root/backups/$TS/etc_apache2/ /etc/apache2/
\par \hich\af2\dbch\af31505\loch\f2 apachectl configtest && systemctl reload apache2
\par }{\rtlch\fcs1 \af1 \ltrch\fcs0 \f1\lang1033\langfe13322\kerning0\langnp1033\insrsid93642\charrsid9772457 
\par \hich\af1\dbch\af31505\loch\f1 - }{\rtlch\fcs1 \ab\af1 \ltrch\fcs0 \b\f1\lang1033\langfe13322\kerning0\langnp1033\insrsid93642\charrsid9772457 \hich\af1\dbch\af31505\loch\f1 Nginx }{\rtlch\fcs1 \af1 \ltrch\fcs0 
\f1\lang1033\langfe13322\kerning0\langnp1033\insrsid93642\charrsid9772457 \hich\af1\dbch\af31505\loch\f1 :
\par }{\rtlch\fcs1 \af2 \ltrch\fcs0 \f2\lang1033\langfe13322\kerning0\langnp1033\insrsid93642\charrsid9772457 \hich\af2\dbch\af31505\loch\f2 rsync -a /root/backups/$TS/etc_nginx/ /etc/nginx/
\par \hich\af2\dbch\af31505\loch\f2 nginx -t && systemctl reload nginx
\par }{\rtlch\fcs1 \af1 \ltrch\fcs0 \f1\lang1033\langfe13322\kerning0\langnp1033\insrsid93642\charrsid9772457 
\par \hich\af1\dbch\af31505\loch\f1 - }{\rtlch\fcs1 \ab\af1 \ltrch\fcs0 \b\f1\lang1033\langfe13322\kerning0\langnp1033\insrsid93642\charrsid9772457 \hich\af1\dbch\af31505\loch\f1 \hich\f1 Sitios est\'c3\'a1\loch\f1 ticos }{\rtlch\fcs1 \af1 \ltrch\fcs0 
\f1\lang1033\langfe13322\kerning0\langnp1033\insrsid93642\charrsid9772457 \hich\af1\dbch\af31505\loch\f1 :
\par }{\rtlch\fcs1 \af2 \ltrch\fcs0 \f2\lang1033\langfe13322\kerning0\langnp1033\insrsid93642\charrsid9772457 \hich\af2\dbch\af31505\loch\f2 rsync -a /root/backups/$TS/www_estados_frontend/ /var/www/estados_frontend/
\par \hich\af2\dbch\af31505\loch\f2 rsync -a /root/backups/$TS/www_kiosko/           /var/www/kiosko/
\par \hich\af2\dbch\af31505\loch\f2 chown -R www-data:www-data /var/www/estados_frontend /var/www/kiosko
\par }{\rtlch\fcs1 \af1 \ltrch\fcs0 \f1\lang1033\langfe13322\kerning0\langnp1033\insrsid93642\charrsid9772457 
\par }{\rtlch\fcs1 \af1 \ltrch\fcs0 \f1\kerning0\insrsid93642 \hich\af1\dbch\af31505\loch\f1 - }{\rtlch\fcs1 \ab\af1 \ltrch\fcs0 \b\f1\kerning0\insrsid93642 \hich\af1\dbch\af31505\loch\f1 Certificados }{\rtlch\fcs1 \af1 \ltrch\fcs0 \f1\kerning0\insrsid93642 
\hich\af1\dbch\af31505\loch\f1  (si aplica):
\par }{\rtlch\fcs1 \af2 \ltrch\fcs0 \f2\kerning0\insrsid93642 \hich\af2\dbch\af31505\loch\f2 rsync -a /root/backups/$TS/etc_letsencrypt/ /etc/letsencrypt/
\par \hich\af2\dbch\af31505\loch\f2 systemctl reload apache2
\par }{\rtlch\fcs1 \af1 \ltrch\fcs0 \f1\kerning0\insrsid93642 
\par \hich\af1\dbch\af31505\loch\f1 - }{\rtlch\fcs1 \ab\af1 \ltrch\fcs0 \b\f1\kerning0\insrsid93642 \hich\af1\dbch\af31505\loch\f1 pgAdmin }{\rtlch\fcs1 \af1 \ltrch\fcs0 \f1\kerning0\insrsid93642 \hich\af1\dbch\af31505\loch\f1  (datos y logs):
\par }{\rtlch\fcs1 \af2 \ltrch\fcs0 \f2\lang1033\langfe13322\kerning0\langnp1033\insrsid93642\charrsid9772457 \hich\af2\dbch\af31505\loch\f2 rsync -a /root/backups/$TS/var_lib_pgadmin/ /var/lib/pgadmin/
\par \hich\af2\dbch\af31505\loch\f2 rsync -a /root/backups/$TS/var_log_pgadmin/ /var/log/pgadmin/
\par }{\rtlch\fcs1 \af2 \ltrch\fcs0 \f2\kerning0\insrsid93642 \hich\af2\dbch\af31505\loch\f2 systemctl reload apache2
\par }{\rtlch\fcs1 \af1 \ltrch\fcs0 \f1\kerning0\insrsid93642 
\par 
\par }{\rtlch\fcs1 \ab\af1\afs26 \ltrch\fcs0 \b\f1\fs26\kerning0\insrsid93642 \hich\af1\dbch\af31505\loch\f1 5) Verificaciones tras restaurar }{\rtlch\fcs1 \af1 \ltrch\fcs0 \f1\kerning0\insrsid93642 
\par \hich\af1\dbch\af31505\loch\f1 \hich\f1 - Vhosts y m\'c3\'b3\loch\f1 dulos Apache: }{\rtlch\fcs1 \af2 \ltrch\fcs0 \f2\kerning0\insrsid93642 \hich\af2\dbch\af31505\loch\f2 apachectl -S }{\rtlch\fcs1 \af1 \ltrch\fcs0 \f1\kerning0\insrsid93642 
\hich\af1\dbch\af31505\loch\f1  y }{\rtlch\fcs1 \af2 \ltrch\fcs0 \f2\kerning0\insrsid93642 \hich\af2\dbch\af31505\loch\f2 apache2ctl -M }{\rtlch\fcs1 \af1 \ltrch\fcs0 \f1\kerning0\insrsid93642 \hich\af1\dbch\af31505\loch\f1  
\par \hich\af1\dbch\af31505\loch\f1 - Sitios activos: }{\rtlch\fcs1 \af2 \ltrch\fcs0 \f2\kerning0\insrsid93642 \hich\af2\dbch\af31505\loch\f2 ls -l /etc/apache2/sites-enabled/ }{\rtlch\fcs1 \af1 \ltrch\fcs0 \f1\kerning0\insrsid93642 
\hich\af1\dbch\af31505\loch\f1  
\par \hich\af1\dbch\af31505\loch\f1 - Puertos abiertos: }{\rtlch\fcs1 \af2 \ltrch\fcs0 \f2\kerning0\insrsid93642 \hich\af2\dbch\af31505\loch\f2 ss -tulpn | egrep ':80|:443|:8080|:8081|:5174|:5175|:5176' }{\rtlch\fcs1 \af1 \ltrch\fcs0 \f1\kerning0\insrsid93642 
\hich\af1\dbch\af31505\loch\f1  
\par }{\rtlch\fcs1 \af1 \ltrch\fcs0 \f1\lang1033\langfe13322\kerning0\langnp1033\insrsid93642\charrsid9772457 \hich\af1\dbch\af31505\loch\f1 - Firewall UFW: }{\rtlch\fcs1 \af2 \ltrch\fcs0 
\f2\lang1033\langfe13322\kerning0\langnp1033\insrsid93642\charrsid9772457 \hich\af2\dbch\af31505\loch\f2 ufw status numbered }{\rtlch\fcs1 \af1 \ltrch\fcs0 \f1\lang1033\langfe13322\kerning0\langnp1033\insrsid93642\charrsid9772457 
\hich\af1\dbch\af31505\loch\f1  
\par \hich\af1\dbch\af31505\loch\f1 \hich\f1 - Salud r\'c3\'a1\loch\f1 pida:
\par }{\rtlch\fcs1 \af2 \ltrch\fcs0 \f2\lang1033\langfe13322\kerning0\langnp1033\insrsid93642\charrsid9772457 \hich\af2\dbch\af31505\loch\f2 curl -kI https://204.48.22.217/pgadmin4/ 
\par \hich\af2\dbch\af31505\loch\f2 curl -I  http://204.48.22.217:8081/ 
\par \hich\af2\dbch\af31505\loch\f2 curl -kI https://204.48.22.217/ 
\par \hich\af2\dbch\af31505\loch\f2 curl -kI https://204.48.22.217/api/ 
\par }{\rtlch\fcs1 \af1 \ltrch\fcs0 \f1\lang1033\langfe13322\kerning0\langnp1033\insrsid93642\charrsid9772457 
\par 
\par }{\rtlch\fcs1 \ab\af1\afs26 \ltrch\fcs0 \b\f1\fs26\kerning0\insrsid93642 \hich\af1\dbch\af31505\loch\f1 \hich\f1 6) Notas y buenas pr\'c3\'a1\loch\f1 cticas }{\rtlch\fcs1 \af1 \ltrch\fcs0 \f1\kerning0\insrsid93642 
\par \hich\af1\dbch\af31505\loch\f1 \hich\f1 - Mantener un \'c3\'ba\loch\f1 nico vhost en }{\rtlch\fcs1 \af2 \ltrch\fcs0 \f2\kerning0\insrsid93642 \hich\af2\dbch\af31505\loch\f2 :80 }{\rtlch\fcs1 \af1 \ltrch\fcs0 \f1\kerning0\insrsid93642 
\hich\af1\dbch\af31505\loch\f1  con excepciones para }{\rtlch\fcs1 \af2 \ltrch\fcs0 \f2\kerning0\insrsid93642 \hich\af2\dbch\af31505\loch\f2 /.well-known/acme-challenge/ }{\rtlch\fcs1 \af1 \ltrch\fcs0 \f1\kerning0\insrsid93642 
\hich\af1\dbch\af31505\loch\f1  y }{\rtlch\fcs1 \af2 \ltrch\fcs0 \f2\kerning0\insrsid93642 \hich\af2\dbch\af31505\loch\f2 /pgadmin4/ }{\rtlch\fcs1 \af1 \ltrch\fcs0 \f1\kerning0\insrsid93642 \hich\af1\dbch\af31505\loch\f1 
 (no redirigir a HTTPS esos paths). 
\par \hich\af1\dbch\af31505\loch\f1 - En }{\rtlch\fcs1 \af2 \ltrch\fcs0 \f2\kerning0\insrsid93642 \hich\af2\dbch\af31505\loch\f2 :443 }{\rtlch\fcs1 \af1 \ltrch\fcs0 \f1\kerning0\insrsid93642 \hich\af1\dbch\af31505\loch\f1 , excluir }{\rtlch\fcs1 \af2 
\ltrch\fcs0 \f2\kerning0\insrsid93642 \hich\af2\dbch\af31505\loch\f2 /pgadmin4/ }{\rtlch\fcs1 \af1 \ltrch\fcs0 \f1\kerning0\insrsid93642 \hich\af1\dbch\af31505\loch\f1  del fallback de la SPA. 
\par \hich\af1\dbch\af31505\loch\f1 - Servir Kiosko en }{\rtlch\fcs1 \af2 \ltrch\fcs0 \f2\kerning0\insrsid93642 \hich\af2\dbch\af31505\loch\f2 /kiosko/ }{\rtlch\fcs1 \af1 \ltrch\fcs0 \f1\kerning0\insrsid93642 \hich\af1\dbch\af31505\loch\f1 
 con build Vite usando }{\rtlch\fcs1 \af2 \ltrch\fcs0 \f2\kerning0\insrsid93642 \hich\af2\dbch\af31505\loch\f2 base:'/kiosko/' }{\rtlch\fcs1 \af1 \ltrch\fcs0 \f1\kerning0\insrsid93642 \hich\af1\dbch\af31505\loch\f1 . 
\par \hich\af1\dbch\af31505\loch\f1 - Cuando el DNS de }{\rtlch\fcs1 \af2 \ltrch\fcs0 \f2\kerning0\insrsid93642 \hich\af2\dbch\af31505\loch\f2 estados.orcatecnologia.net }{\rtlch\fcs1 \af1 \ltrch\fcs0 \f1\kerning0\insrsid93642 \hich\af1\dbch\af31505\loch\f1 
 apunte a }{\rtlch\fcs1 \af2 \ltrch\fcs0 \f2\kerning0\insrsid93642 \hich\af2\dbch\af31505\loch\f2 204.48.22.217 }{\rtlch\fcs1 \af1 \ltrch\fcs0 \f1\kerning0\insrsid93642 \hich\af1\dbch\af31505\loch\f1 , emitir Let's Encrypt con webroot: 
\par }{\rtlch\fcs1 \af2 \ltrch\fcs0 \f2\lang1033\langfe13322\kerning0\langnp1033\insrsid93642\charrsid9772457 \hich\af2\dbch\af31505\loch\f2 certbot certonly --webroot -w /var/www/letsencrypt -d estados.orcatecnologia.net }{\rtlch\fcs1 \af1 \ltrch\fcs0 
\f1\lang1033\langfe13322\kerning0\langnp1033\insrsid93642\charrsid9772457 \hich\af1\dbch\af31505\loch\f1  
\par }{\rtlch\fcs1 \af1 \ltrch\fcs0 \f1\kerning0\insrsid93642 \hich\af1\dbch\af31505\loch\f1 - Sustituir snakeoil por LE en el vhost }{\rtlch\fcs1 \af2 \ltrch\fcs0 \f2\kerning0\insrsid93642 \hich\af2\dbch\af31505\loch\f2 *:443 }{\rtlch\fcs1 \af1 \ltrch\fcs0 
\f1\kerning0\insrsid93642 \hich\af1\dbch\af31505\loch\f1  y recargar Apache. 
\par 
\par }{\rtlch\fcs1 \ab\af1 \ltrch\fcs0 \b\f1\kerning0\insrsid93642 \hich\af1\dbch\af31505\loch\f1 Fin del documento. 
\par }{\rtlch\fcs1 \ab\af1 \ltrch\fcs0 \b\f1\kerning0\insrsid14967658 
\par 
\par }\pard\plain \ltrpar\s16\ql \li0\ri0\widctlpar\wrapdefault\aspalpha\aspnum\faauto\adjustright\rin0\lin0\itap0\pararsid14967658 \rtlch\fcs1 \af0\afs21\alang1025 \ltrch\fcs0 
\fs21\lang13322\langfe1033\kerning2\loch\af45\hich\af45\dbch\af31505\cgrid\langnp13322\langfenp1033 {\rtlch\fcs1 \ab\af1 \ltrch\fcs0 \b\f1\kerning0\insrsid14967658 \hich\af1\dbch\af31505\loch\f1 Diagrama: }{\rtlch\fcs1 \af2 \ltrch\fcs0 
\f2\insrsid14967658\charrsid3039096 \\\hich\af2\dbch\af31505\loch\f2 rtf1\\ansi\\deff0
\par }{\rtlch\fcs1 \af2 \ltrch\fcs0 \f2\lang1033\langfe1033\langnp1033\insrsid14967658\charrsid9772457 \{\\\hich\af2\dbch\af31505\loch\f2 fonttbl
\par \{\\\hich\af2\dbch\af31505\loch\f2 f0\\fswiss Arial;\}
\par \{\\\hich\af2\dbch\af31505\loch\f2 f1\\fmodern Courier New;\}
\par \}
\par \\\hich\af2\dbch\af31505\loch\f2 paperw11906\\paperh16838\\margl1134\\margr1134\\margt1134\\margb1134
\par 
\par }{\rtlch\fcs1 \af2 \ltrch\fcs0 \f2\insrsid14967658\charrsid3039096 \\\hich\af2\dbch\af31505\loch\f2 pard\\f0\\fs28\\b Estados ORCA \hich\f2 \emdash \loch\f2  Diagrama de Enrutamiento y Servicios\\b0\\par
\par \\\hich\af2\dbch\af31505\loch\f2 pard\\f0\\fs22 Generado: 2025-10-16 19:53 UTC\\par
\par \\\hich\af2\dbch\af31505\loch\f2 pard\\fs22 \\par
\par 
\par \\\hich\af2\dbch\af31505\loch\f2 pard\\f0\\fs24\\\hich\af2\dbch\af31505\loch\f2 b 1) Diagrama (ASCII)\\b0\\par
\par \\\hich\af2\dbch\af31505\loch\f2 pard\\f1\\fs20
\par \hich\af2\dbch\af31505\loch\f2 Usuario
\par \hich\af2\dbch\af31505\loch\f2   \loch\af2\dbch\af31505\hich\f2 \u9492\'2b\u9472\'2d\hich\af2\dbch\af31505\loch\f2 > http://estados.orcatecnologia.net  \loch\af2\dbch\af31505\hich\f2 \u8594\'3f\hich\af2\dbch\af31505\loch\f2 
 Apache:80 (vhost: estados-frontend.conf)
\par \hich\af2\dbch\af31505\loch\f2        }{\rtlch\fcs1 \af2 \ltrch\fcs0 \f2\lang1033\langfe1033\langnp1033\insrsid14967658\charrsid9772457 \loch\af2\dbch\af31505\hich\f2 \u9500\'2b\u9472\'2d\hich\af2\dbch\af31505\loch\f2  /.well-known/acme-challenge/ 
\loch\af2\dbch\af31505\hich\f2 \u8594\'3f\hich\af2\dbch\af31505\loch\f2  /var/www/letsencrypt
\par \hich\af2\dbch\af31505\loch\f2        }{\rtlch\fcs1 \af2 \ltrch\fcs0 \f2\insrsid14967658\charrsid3039096 \loch\af2\dbch\af31505\hich\f2 \u9500\'2b\u9472\'2d\hich\af2\dbch\af31505\loch\f2  /pgadmin4/ \loch\af2\dbch\af31505\hich\f2 \u8594\'3f
\hich\af2\dbch\af31505\loch\f2 \hich\f2  (exento de redirecci\'f3\loch\f2 n; lo maneja el vhost :443)
\par \hich\af2\dbch\af31505\loch\f2        \loch\af2\dbch\af31505\hich\f2 \u9492\'2b\u9472\'2d\hich\af2\dbch\af31505\loch\f2  resto \loch\af2\dbch\af31505\hich\f2 \u8594\'3f\hich\af2\dbch\af31505\loch\f2  301 a https://estados.orcatecnologia.net/*
\par 
\par \hich\af2\dbch\af31505\loch\f2   \loch\af2\dbch\af31505\hich\f2 \u9492\'2b\u9472\'2d\hich\af2\dbch\af31505\loch\f2 > https://estados.orcatecnologia.net \loch\af2\dbch\af31505\hich\f2 \u8594\'3f\hich\af2\dbch\af31505\loch\f2 
 Apache:443 (vhost: estados-frontend.conf)
\par \hich\af2\dbch\af31505\loch\f2        \loch\af2\dbch\af31505\hich\f2 \u9500\'2b\u9472\'2d\hich\af2\dbch\af31505\loch\f2  /pgadmin4/ \loch\af2\dbch\af31505\hich\f2 \u8594\'3f\hich\af2\dbch\af31505\loch\f2  pgAdmin4 (WSGI)  [/usr/pgadmin4]
\par \hich\af2\dbch\af31505\loch\f2        \loch\af2\dbch\af31505\hich\f2 \u9500\'2b\u9472\'2d\hich\af2\dbch\af31505\loch\f2  /kiosko/   \loch\af2\dbch\af31505\hich\f2 \u8594\'3f\hich\af2\dbch\af31505\loch\f2 \hich\f2  SPA Kiosko est\'e1\loch\f2 
tica  [/var/www/kiosko]
\par \hich\af2\dbch\af31505\loch\f2        \loch\af2\dbch\af31505\hich\f2 \u9500\'2b\u9472\'2d\hich\af2\dbch\af31505\loch\f2  /api/      \loch\af2\dbch\af31505\hich\f2 \u8594\'3f\hich\af2\dbch\af31505\loch\f2  Proxy \loch\af2\dbch\af31505\hich\f2 \u8594\'3f
\hich\af2\dbch\af31505\loch\f2  Backend ESTADOS  (http://127.0.0.1:5175/)
\par \hich\af2\dbch\af31505\loch\f2        \loch\af2\dbch\af31505\hich\f2 \u9492\'2b\u9472\'2d\hich\af2\dbch\af31505\loch\f2  fallback   \loch\af2\dbch\af31505\hich\f2 \u8594\'3f\hich\af2\dbch\af31505\loch\f2  SPA ESTADOS  [/var/www/estados_frontend 
\loch\af2\dbch\af31505\hich\f2 \u8594\'3f\hich\af2\dbch\af31505\loch\f2  /index.html]
\par 
\par \hich\af2\dbch\af31505\loch\f2   \loch\af2\dbch\af31505\hich\f2 \u9492\'2b\u9472\'2d\hich\af2\dbch\af31505\loch\f2 > http://204.48.22.217:8081 \loch\af2\dbch\af31505\hich\f2 \u8594\'3f\hich\af2\dbch\af31505\loch\f2  Nginx:8081
\par \hich\af2\dbch\af31505\loch\f2        \loch\af2\dbch\af31505\hich\f2 \u9492\'2b\u9472\'2d\hich\af2\dbch\af31505\loch\f2  Proxy \loch\af2\dbch\af31505\hich\f2 \u8594\'3f\hich\af2\dbch\af31505\loch\f2  https://204.48.22.217/pgadmin4/    (pruebas)
\par 
\par \hich\af2\dbch\af31505\loch\f2   \loch\af2\dbch\af31505\hich\f2 \u9492\'2b\u9472\'2d\hich\af2\dbch\af31505\loch\f2 > http://204.48.22.217:5176 \loch\af2\dbch\af31505\hich\f2 \u8594\'3f\hich\af2\dbch\af31505\loch\f2 
 Apache:5176 (vhost: estados-frontend-5176.conf)
\par \hich\af2\dbch\af31505\loch\f2        \loch\af2\dbch\af31505\hich\f2 \u9500\'2b\u9472\'2d\hich\af2\dbch\af31505\loch\f2  /api/  \loch\af2\dbch\af31505\hich\f2 \u8594\'3f\hich\af2\dbch\af31505\loch\f2  Proxy \loch\af2\dbch\af31505\hich\f2 \u8594\'3f
\hich\af2\dbch\af31505\loch\f2  Backend ESTADOS (http://127.0.0.1:5175/)
\par \hich\af2\dbch\af31505\loch\f2        \loch\af2\dbch\af31505\hich\f2 \u9492\'2b\u9472\'2d\hich\af2\dbch\af31505\loch\f2  resto  \loch\af2\dbch\af31505\hich\f2 \u8594\'3f\hich\af2\dbch\af31505\loch\f2  SPA ESTADOS (preview) [/var/www/estados_frontend]

\par 
\par \hich\af2\dbch\af31505\loch\f2   }{\rtlch\fcs1 \af2 \ltrch\fcs0 \f2\lang1033\langfe1033\langnp1033\insrsid14967658\charrsid9772457 \loch\af2\dbch\af31505\hich\f2 \u9492\'2b\u9472\'2d\hich\af2\dbch\af31505\loch\f2 > http://204.48.22.217:5174 
\loch\af2\dbch\af31505\hich\f2 \u8594\'3f\hich\af2\dbch\af31505\loch\f2 \hich\f2  Node \'93\loch\f2 \hich\f2 serve\'94\loch\f2  (systemd: kiosko-5174.service)
\par \hich\af2\dbch\af31505\loch\f2        \loch\af2\dbch\af31505\hich\f2 \u9492\'2b\u9472\'2d\hich\af2\dbch\af31505\loch\f2  Sirve SPA Kiosko (dist)  [/opt/punto_v/kiosko-pms/dist]
\par 
\par \hich\af2\dbch\af31505\loch\f2   \loch\af2\dbch\af31505\hich\f2 \u9492\'2b\u9472\'2d\hich\af2\dbch\af31505\loch\f2 > http://204.48.22.217:5173 \loch\af2\dbch\af31505\hich\f2 \u8594\'3f\hich\af2\dbch\af31505\loch\f2  Backend KIOSKO (FastAPI/Uvicorn)
\par \hich\af2\dbch\af31505\loch\f2        \loch\af2\dbch\af31505\hich\f2 \u9492\'2b\u9472\'2d\hich\af2\dbch\af31505\loch\f2 \hich\f2  /, /docs, /openapi.json \'85
\par 
\par \hich\af2\dbch\af31505\loch\f2   \loch\af2\dbch\af31505\hich\f2 \u9492\'2b\u9472\'2d\hich\af2\dbch\af31505\loch\f2 > http://204.48.22.217:5175 \loch\af2\dbch\af31505\hich\f2 \u8594\'3f\hich\af2\dbch\af31505\loch\f2  Backend ESTADOS (FastAPI/Uvicorn)

\par \hich\af2\dbch\af31505\loch\f2        \loch\af2\dbch\af31505\hich\f2 \u9492\'2b\u9472\'2d\hich\af2\dbch\af31505\loch\f2 \hich\f2  /api/users/login, /api/users/, /docs \'85
\par }{\rtlch\fcs1 \af2 \ltrch\fcs0 \f2\insrsid14967658\charrsid3039096 \\\hich\af2\dbch\af31505\loch\f2 par
\par 
\par \\\hich\af2\dbch\af31505\loch\f2 pard\\f0\\fs24\\\hich\f2 b 2) Leyenda y configuraci\'f3\loch\f2 n activa\\b0\\par
\par \\\hich\af2\dbch\af31505\loch\f2 pard\\f1\\fs20
\par \hich\af2\dbch\af31505\loch\f2 VHOSTS/APLICACIONES ACTIVAS
\par 
\par \hich\af2\dbch\af31505\loch\f2 Apache:
\par \hich\af2\dbch\af31505\loch\f2   - /etc/apache2/sites-enabled/estados-frontend.conf
\par \hich\af2\dbch\af31505\loch\f2       *:80   \loch\af2\dbch\af31505\hich\f2 \u8594\'3f\hich\af2\dbch\af31505\loch\f2 \hich\f2  redirecci\'f3\loch\f2 n 301 a HTTPS (salvo ACME y /pgadmin4/)
\par \hich\af2\dbch\af31505\loch\f2       *:443  \loch\af2\dbch\af31505\hich\f2 \u8594\'3f\hich\af2\dbch\af31505\loch\f2  SPA Estados (/), /kiosko/, /pgadmin4/ (WSGI) y /api/\loch\af2\dbch\af31505\hich\f2 \u8594\'3f\hich\af2\dbch\af31505\loch\f2 5175
\par 
\par \hich\af2\dbch\af31505\loch\f2   - /etc/apache2/sites-enabled/pgadmin-8080.conf
\par \hich\af2\dbch\af31505\loch\f2       *:8080 \loch\af2\dbch\af31505\hich\f2 \u8594\'3f\hich\af2\dbch\af31505\loch\f2  ProxyPass hacia http://127.0.0.1/pgadmin4/  (uso auxiliar)
\par 
\par \hich\af2\dbch\af31505\loch\f2   - /etc/apache2/sites-enabled/estados-frontend-5176.conf
\par \hich\af2\dbch\af31505\loch\f2       *:5176 \loch\af2\dbch\af31505\hich\f2 \u8594\'3f\hich\af2\dbch\af31505\loch\f2 \hich\f2  Preview SPA Estados (est\'e1\loch\f2 tico) y /api/\loch\af2\dbch\af31505\hich\f2 \u8594\'3f\hich\af2\dbch\af31505\loch\f2 5175

\par 
\par \hich\af2\dbch\af31505\loch\f2 Nginx:
\par \hich\af2\dbch\af31505\loch\f2   - /etc/nginx/sites-enabled/pgadmin-8081.conf
\par \hich\af2\dbch\af31505\loch\f2       :8081 \loch\af2\dbch\af31505\hich\f2 \u8594\'3f\hich\af2\dbch\af31505\loch\f2  proxy a https://IP/pgadmin4/  (pruebas / acceso alterno)
\par 
\par }{\rtlch\fcs1 \af2 \ltrch\fcs0 \f2\lang1033\langfe1033\langnp1033\insrsid14967658\charrsid9772457 \hich\af2\dbch\af31505\loch\f2 Backends:
\par \hich\af2\dbch\af31505\loch\f2   - ESTADOS (FastAPI):  :5175  (/docs OK)
\par \hich\af2\dbch\af31505\loch\f2   - KIOSKO  (FastAPI):  :5173  (/ devuelve \\\{"ok": true\\\})
\par 
\par \hich\af2\dbch\af31505\loch\f2 Frontends:
\par \hich\af2\dbch\af31505\loch\f2   - SPA Kiosko: Node serve :5174 (systemd: kiosko-5174.service)
\par \hich\af2\dbch\af31505\loch\f2   }{\rtlch\fcs1 \af2 \ltrch\fcs0 \f2\insrsid14967658\charrsid3039096 \hich\af2\dbch\af31505\loch\f2 \hich\f2 - SPA Estados: servido por Apache :443 en ra\'ed\loch\f2 z del dominio y por :5176 (preview)
\par 
\par \hich\af2\dbch\af31505\loch\f2 RUTAS CLAVE (Apache :443 - estados-frontend.conf)
\par \hich\af2\dbch\af31505\loch\f2   - /pgadmin4/             \loch\af2\dbch\af31505\hich\f2 \u8594\'3f\hich\af2\dbch\af31505\loch\f2  pgAdmin4 (WSGI)
\par \hich\af2\dbch\af31505\loch\f2   - /kiosko/               \loch\af2\dbch\af31505\hich\f2 \u8594\'3f\hich\af2\dbch\af31505\loch\f2  /var/www/kiosko  (fallback a /kiosko/index.html)
\par \hich\af2\dbch\af31505\loch\f2   - /api/                  \loch\af2\dbch\af31505\hich\f2 \u8594\'3f\hich\af2\dbch\af31505\loch\f2  Proxy http://127.0.0.1:5175/
\par \hich\af2\dbch\af31505\loch\f2   - /(cualquier otra)      \loch\af2\dbch\af31505\hich\f2 \u8594\'3f\hich\af2\dbch\af31505\loch\f2  /var/www/estados_frontend/index.html
\par 
\par \hich\af2\dbch\af31505\loch\f2 RUTAS CLAVE (Apache :80 - estados-frontend.conf)
\par \hich\af2\dbch\af31505\loch\f2   }{\rtlch\fcs1 \af2 \ltrch\fcs0 \f2\lang1033\langfe1033\langnp1033\insrsid14967658\charrsid9772457 \hich\af2\dbch\af31505\loch\f2 - /.well-known/acme-challenge/ \loch\af2\dbch\af31505\hich\f2 \u8594\'3f
\hich\af2\dbch\af31505\loch\f2  /var/www/letsencrypt
\par \hich\af2\dbch\af31505\loch\f2   }{\rtlch\fcs1 \af2 \ltrch\fcs0 \f2\insrsid14967658\charrsid3039096 \hich\af2\dbch\af31505\loch\f2 - /pgadmin4/                    \loch\af2\dbch\af31505\hich\f2 \u8594\'3f\hich\af2\dbch\af31505\loch\f2 \hich\f2 
 exento de redirecci\'f3\loch\f2 n (lo maneja :443)
\par \hich\af2\dbch\af31505\loch\f2   - resto                         \loch\af2\dbch\af31505\hich\f2 \u8594\'3f\hich\af2\dbch\af31505\loch\f2  301 \loch\af2\dbch\af31505\hich\f2 \u8594\'3f\hich\af2\dbch\af31505\loch\f2  HTTPS
\par 
\par \hich\af2\dbch\af31505\loch\f2 \hich\f2 COMANDOS DE COMPROBACI\'d3\loch\f2 \hich\f2 N R\'c1\loch\f2 PIDA (ejemplos)
\par \hich\af2\dbch\af31505\loch\f2   }{\rtlch\fcs1 \af2 \ltrch\fcs0 \f2\lang1033\langfe1033\langnp1033\insrsid14967658\charrsid9772457 \hich\af2\dbch\af31505\loch\f2 curl -kI https://estados.orcatecnologia.net/
\par \hich\af2\dbch\af31505\loch\f2   curl -kI https://estados.orcatecnologia.net/kiosko/
\par \hich\af2\dbch\af31505\loch\f2   curl -kI https://estados.orcatecnologia.net/pgadmin4/
\par \hich\af2\dbch\af31505\loch\f2   curl -s  http://127.0.0.1:5175/openapi.json | jq '.paths|keys'
\par \hich\af2\dbch\af31505\loch\f2   curl -I  http://204.48.22.217:5174/
\par \hich\af2\dbch\af31505\loch\f2   curl -I  http://204.48.22.217:5173/
\par \hich\af2\dbch\af31505\loch\f2   curl -I  http://204.48.22.217:5176/
\par \hich\af2\dbch\af31505\loch\f2   curl -I  http://204.48.22.217:8081/
\par 
\par }{\rtlch\fcs1 \af2 \ltrch\fcs0 \f2\insrsid14967658\charrsid3039096 \hich\af2\dbch\af31505\loch\f2 NOTAS
\par \hich\af2\dbch\af31505\loch\f2   - Certificado en :443 actualmente snakeoil; cuando emitas Let\hich\f2 \rquote \loch\f2 s Encrypt, sustituir:
\par \hich\af2\dbch\af31505\loch\f2       SSLCertificateFile /etc/letsencrypt/live/estados.orcatecnologia.net/fullchain.pem
\par \hich\af2\dbch\af31505\loch\f2       SSLCertificateKeyFile /etc/letsencrypt/live/estados.orcatecnologia.net/privkey.pem
\par \hich\af2\dbch\af31505\loch\f2       }{\rtlch\fcs1 \af2 \ltrch\fcs0 \f2\lang1033\langfe1033\langnp1033\insrsid14967658\charrsid9772457 \hich\af2\dbch\af31505\loch\f2 Include /etc/letsencrypt/options-ssl-apache.conf
\par 
\par \hich\af2\dbch\af31505\loch\f2   }{\rtlch\fcs1 \af2 \ltrch\fcs0 \f2\insrsid14967658\charrsid3039096 \hich\af2\dbch\af31505\loch\f2 \hich\f2 - SPA Estados y Kiosko: aseg\'fa\loch\f2 \hich\f2 rate de hacer \'93\loch\f2 \hich\f2 rsync -a dist/ \'85\'94
\loch\f2  tras cada build.
\par 
\par \hich\af2\dbch\af31505\loch\f2   }{\rtlch\fcs1 \af2 \ltrch\fcs0 \f2\lang1033\langfe1033\langnp1033\insrsid14967658\charrsid9772457 \hich\af2\dbch\af31505\loch\f2 - Kiosko frontend (systemd) usa /root/.nvm/versions/node/v20.19.0/bin/serve;
\par \hich\af2\dbch\af31505\loch\f2     }{\rtlch\fcs1 \af2 \ltrch\fcs0 \f2\insrsid14967658\charrsid3039096 \hich\af2\dbch\af31505\loch\f2 \hich\f2 si cambias de versi\'f3\loch\f2 n Node, actualiza la unidad systemd.
\par \\\hich\af2\dbch\af31505\loch\f2 par
\par }\pard\plain \ltrpar\ql \li0\ri0\nowidctlpar\wrapdefault\faauto\rin0\lin0\itap0\pararsid8924899 \rtlch\fcs1 \af0\afs24\alang1025 \ltrch\fcs0 \fs24\lang13322\langfe13322\kerning2\loch\af31506\hich\af31506\dbch\af31505\cgrid\langnp13322\langfenp13322 {
\rtlch\fcs1 \af1 \ltrch\fcs0 \f1\kerning0\insrsid8924899 \line \line \hich\af1\dbch\af31505\loch\f1 para hacer el .exe\line \line ubicar el agente y correr este comando:\line }{\rtlch\fcs1 \af1 \ltrch\fcs0 \f1\kerning0\insrsid8924899\charrsid8924899 
\hich\af1\dbch\af31505\loch\f1 C:\\agent>pyinstaller --clean --onefile --noconsole --name agent-factoria agent.py}{\rtlch\fcs1 \af1 \ltrch\fcs0 \f1\kerning0\insrsid8924899 \line \line \hich\af1\dbch\af31505\loch\f1 \hich\f1 
para detenerlo debe ser en servicios \'93\loch\f1 \hich\f1 agentes_estados\'94\line \line \loch\f1 \hich\f1 este es el c\'f3\loch\f1 digo del agente:\line }{\rtlch\fcs1 \af1 \ltrch\fcs0 \f1\kerning0\insrsid8924899\charrsid8924899 
\hich\af1\dbch\af31505\loch\f1 # agent.py
\par }{\rtlch\fcs1 \af1 \ltrch\fcs0 \f1\lang1033\langfe13322\kerning0\langnp1033\insrsid8924899\charrsid9772457 \hich\af1\dbch\af31505\loch\f1 import os
\par \hich\af1\dbch\af31505\loch\f1 import time
\par \hich\af1\dbch\af31505\loch\f1 import json
\par \hich\af1\dbch\af31505\loch\f1 import random
\par \hich\af1\dbch\af31505\loch\f1 import requests
\par \hich\af1\dbch\af31505\loch\f1 from datetime import datetime, date, timedelta
\par \hich\af1\dbch\af31505\loch\f1 from pathlib import Path
\par \hich\af1\dbch\af31505\loch\f1 from io import BytesIO
\par \hich\af1\dbch\af31505\loch\f1 from typing import Optional
\par \hich\af1\dbch\af31505\loch\f1 from PIL import Image, ImageDraw, ImageFont \~# pip install pillow
\par \hich\af1\dbch\af31505\loch\f1 from requests.auth import HTTPBasicAuth, HTTPDigestAuth
\par 
\par \hich\af1\dbch\af31505\loch\f1 # =======================
\par \hich\af1\dbch\af31505\loch\f1 # CONFIG (ENV VARS)
\par \hich\af1\dbch\af31505\loch\f1 # =======================
\par \hich\af1\dbch\af31505\loch\f1 SERVER = os.getenv("SERVER", "http://204.48.22.217:5175").rstrip("/")
\par }{\rtlch\fcs1 \af1 \ltrch\fcs0 \f1\kerning0\insrsid8924899\charrsid8924899 \hich\af1\dbch\af31505\loch\f1 UUID_EQUIPO = os.getenv("UUID_EQUIPO", "factoria")
\par 
\par }{\rtlch\fcs1 \af1 \ltrch\fcs0 \f1\lang1033\langfe13322\kerning0\langnp1033\insrsid8924899\charrsid9772457 \hich\af1\dbch\af31505\loch\f1 # ==== AUTOINSTALADOR (Scheduled Task / Startup) ==============================
\par \hich\af1\dbch\af31505\loch\f1 import sys, subprocess, ctypes, shutil
\par 
\par }{\rtlch\fcs1 \af1 \ltrch\fcs0 \f1\kerning0\insrsid8924899\charrsid8924899 \hich\af1\dbch\af31505\loch\f1 TASK_NAME = "AgenteEstados" \~\hich\f1 # c\'e1\loch\f1 mbialo si quieres
\par }{\rtlch\fcs1 \af1 \ltrch\fcs0 \f1\lang1033\langfe13322\kerning0\langnp1033\insrsid8924899\charrsid9772457 \hich\af1\dbch\af31505\loch\f1 STARTUP_DIR = os.path.join(os.getenv("APPDATA", ""), r"Microsoft\\Windows\\Start Menu\\Programs\\Startup")
\par 
\par \hich\af1\dbch\af31505\loch\f1 def is_admin() -> bool:
\par \~\hich\af1\dbch\af31505\loch\f1  \~ try:
\par \~\hich\af1\dbch\af31505\loch\f1  \~ \~ \~ return ctypes.windll.shell32.IsUserAnAdmin() != 0
\par \~\hich\af1\dbch\af31505\loch\f1  \~ except Exception:
\par \~\hich\af1\dbch\af31505\loch\f1  \~ \~ \~ return False
\par 
\par \hich\af1\dbch\af31505\loch\f1 def exe_path() -> str:
\par \~\hich\af1\dbch\af31505\loch\f1  \~ # Soporta .py y PyInstaller .exe
\par \~\hich\af1\dbch\af31505\loch\f1  \~ return sys.executable if getattr(sys, 'frozen', False) else sys.argv[0]
\par 
\par \hich\af1\dbch\af31505\loch\f1 def install_schtasks():
\par \~\hich\af1\dbch\af31505\loch\f1  \~ exe = exe_path()
\par \~\hich\af1\dbch\af31505\loch\f1  \~ }{\rtlch\fcs1 \af1 \ltrch\fcs0 \f1\kerning0\insrsid8924899\charrsid8924899 \hich\af1\dbch\af31505\loch\f1 \hich\f1 # Tarea \'da\loch\f1 \hich\f1 NICA: arranca al iniciar sesi\'f3\loch\f1 \hich\f1 n, en la sesi\'f3
\loch\f1 n interactiva
\par \~\hich\af1\dbch\af31505\loch\f1  \~ }{\rtlch\fcs1 \af1 \ltrch\fcs0 \f1\lang1033\langfe13322\kerning0\langnp1033\insrsid8924899\charrsid9772457 \hich\af1\dbch\af31505\loch\f1 subprocess.check_call([
\par \~\hich\af1\dbch\af31505\loch\f1  \~ \~ \~ "schtasks", "/Create",
\par \~\hich\af1\dbch\af31505\loch\f1  \~ \~ \~ "/TN", TASK_NAME,
\par \~\hich\af1\dbch\af31505\loch\f1  \~ \~ \~ "/TR", f'"\{exe\}"',
\par \~\hich\af1\dbch\af31505\loch\f1  \~ \~ \~ }{\rtlch\fcs1 \af1 \ltrch\fcs0 \f1\kerning0\insrsid8924899\charrsid8924899 \hich\af1\dbch\af31505\loch\f1 "/SC", "ONLOGON",
\par \~\hich\af1\dbch\af31505\loch\f1  \~ \~ \~ "/RL", "HIGHEST",
\par \~\hich\af1\dbch\af31505\loch\f1  \~ \~ \~ "/IT", \~ \~ \~ \~ \~\hich\f1 # importante: sesi\'f3\loch\f1 n interactiva (evita pantalla negra)
\par \~\hich\af1\dbch\af31505\loch\f1  \~ \~ \~ }{\rtlch\fcs1 \af1 \ltrch\fcs0 \f1\lang1033\langfe13322\kerning0\langnp1033\insrsid8924899\charrsid9772457 \hich\af1\dbch\af31505\loch\f1 "/F"
\par \~\hich\af1\dbch\af31505\loch\f1  \~ ], shell=False)
\par 
\par \hich\af1\dbch\af31505\loch\f1 def uninstall_schtasks():
\par \~\hich\af1\dbch\af31505\loch\f1  \~ }{\rtlch\fcs1 \af1 \ltrch\fcs0 \f1\kerning0\insrsid8924899\charrsid8924899 \hich\af1\dbch\af31505\loch\f1 # Borra la tarea actual y, si existe de antes, la vieja "Startup"
\par \~\hich\af1\dbch\af31505\loch\f1  \~\hich\af1\dbch\af31505\loch\f1  }{\rtlch\fcs1 \af1 \ltrch\fcs0 \f1\lang1033\langfe13322\kerning0\langnp1033\insrsid8924899\charrsid9772457 \hich\af1\dbch\af31505\loch\f1 
subprocess.call(["schtasks", "/Delete", "/TN", TASK_NAME, "/F"], shell=False)
\par \~\hich\af1\dbch\af31505\loch\f1  \~ subprocess.call(["schtasks", "/Delete", "/TN", TASK_NAME + "Startup", "/F"], shell=False)
\par 
\par }{\rtlch\fcs1 \af1 \ltrch\fcs0 \f1\kerning0\insrsid8924899\charrsid8924899 \hich\af1\dbch\af31505\loch\f1 def startup_fallback():
\par \~\hich\af1\dbch\af31505\loch\f1  \~ """
\par \~\hich\af1\dbch\af31505\loch\f1  \~ Si no hay admin, crea un acceso directo en Startup del usuario.
\par \~\hich\af1\dbch\af31505\loch\f1  \~ Usamos PowerShell para crear el .lnk sin dependencias extra.
\par \~\hich\af1\dbch\af31505\loch\f1  \~ }{\rtlch\fcs1 \af1 \ltrch\fcs0 \f1\lang1033\langfe13322\kerning0\langnp1033\insrsid8924899\charrsid9772457 \hich\af1\dbch\af31505\loch\f1 """
\par \~\hich\af1\dbch\af31505\loch\f1  \~ os.makedirs(STARTUP_DIR, exist_ok=True)
\par \~\hich\af1\dbch\af31505\loch\f1  \~ lnk = os.path.join(STARTUP_DIR, f"\{TASK_NAME\}.lnk")
\par \~\hich\af1\dbch\af31505\loch\f1  \~ exe = exe_path()
\par \~\hich\af1\dbch\af31505\loch\f1  \~ ps = r'''
\par \hich\af1\dbch\af31505\loch\f1 $WshShell = New-Object -ComObject WScript.Shell
\par \hich\af1\dbch\af31505\loch\f1 $Shortcut = $WshShell.CreateShortcut("\{lnk\}")
\par \hich\af1\dbch\af31505\loch\f1 $Shortcut.TargetPath = "\{exe\}"
\par \hich\af1\dbch\af31505\loch\f1 $Shortcut.WorkingDirectory = "\{workdir\}"
\par \hich\af1\dbch\af31505\loch\f1 $Shortcut.WindowStyle = 7 \~# minimizado/oculto
\par \hich\af1\dbch\af31505\loch\f1 $Shortcut.Save()
\par \hich\af1\dbch\af31505\loch\f1 '''.replace("\{lnk\}", lnk.replace("\\\\","\\\\\\\\"))\\
\par \~\hich\af1\dbch\af31505\loch\f1  \~.replace("\{exe\}", exe.replace("\\\\","\\\\\\\\"))\\
\par \~\hich\af1\dbch\af31505\loch\f1  \~.replace("\{workdir\}", os.path.dirname(exe).r\hich\af1\dbch\af31505\loch\f1 eplace("\\\\","\\\\\\\\"))
\par \~\hich\af1\dbch\af31505\loch\f1  \~ subprocess.check_call(["powershell","-NoProfile","-ExecutionPolicy","Bypass","-Command", ps], shell=False)
\par \~\hich\af1\dbch\af31505\loch\f1  \~ return lnk
\par 
\par \hich\af1\dbch\af31505\loch\f1 def ensure_persistence():
\par \~\hich\af1\dbch\af31505\loch\f1  \~ if is_admin():
\par \~\hich\af1\dbch\af31505\loch\f1  \~ \~ \~ install_schtasks()
\par \~\hich\af1\dbch\af31505\loch\f1  \~ \~ \~ }{\rtlch\fcs1 \af1 \ltrch\fcs0 \f1\kerning0\insrsid8924899\charrsid8924899 \hich\af1\dbch\af31505\loch\f1 print("[installer] Tarea Programada creada (admin).")
\par \~\hich\af1\dbch\af31505\loch\f1  \~ else:
\par \~\hich\af1\dbch\af31505\loch\f1  \~ \~ \~\hich\af1\dbch\af31505\loch\f1  # Intento elevar para crear la tarea (opcional). Si el usuario cancela, vamos a Startup.
\par \~\hich\af1\dbch\af31505\loch\f1  \~ \~ \~ }{\rtlch\fcs1 \af1 \ltrch\fcs0 \f1\lang1033\langfe13322\kerning0\langnp1033\insrsid8924899\charrsid9772457 \hich\af1\dbch\af31505\loch\f1 try:
\par \~\hich\af1\dbch\af31505\loch\f1  \~ \~ \~ \~ \~ params = " ".join([f'"\{p\}"' for p in sys.argv] + ["--elevated-create-task"])
\par \~\hich\af1\dbch\af31505\loch\f1  \~ \~ \~ \~ \~ ctypes.windll.shell32.ShellExecuteW(None, "runas", sys.executable, params, None, 1)
\par \~\hich\af1\dbch\af31505\loch\f1  \~ \~ \~ \~ \~ sys.exit(0)
\par \~\hich\af1\dbch\af31505\loch\f1  \~ \~ \~ except Exception:
\par \~\hich\af1\dbch\af31505\loch\f1  \~ \~ \~ \~ \~ lnk = startup_fallback()
\par \~\hich\af1\dbch\af31505\loch\f1  \~ \~ \~ \~ \~ print(f"[installer] Sin admin: usando Startup => \{lnk\}")
\par 
\par \hich\af1\dbch\af31505\loch\f1 def handle_elevated_create_task():
\par \~\hich\af1\dbch\af31505\loch\f1  \~ }{\rtlch\fcs1 \af1 \ltrch\fcs0 \f1\kerning0\insrsid8924899\charrsid8924899 \hich\af1\dbch\af31505\loch\f1 \hich\f1 # Llamado internamente tras elevaci\'f3\loch\f1 n
\par \~\hich\af1\dbch\af31505\loch\f1  \~ try:
\par \~\hich\af1\dbch\af31505\loch\f1  \~ \~ \~ install_schtasks()
\par \~\hich\af1\dbch\af31505\loch\f1  \~ \~ \~\hich\f1  print("[installer] Tarea Programada creada tras elevaci\'f3\loch\f1 n.")
\par \~\hich\af1\dbch\af31505\loch\f1  \~ }{\rtlch\fcs1 \af1 \ltrch\fcs0 \f1\lang1033\langfe13322\kerning0\langnp1033\insrsid8924899\charrsid9772457 \hich\af1\dbch\af31505\loch\f1 except subprocess.CalledProcessError as e:
\par \~\hich\af1\dbch\af31505\loch\f1  \~ \~ \~ }{\rtlch\fcs1 \af1 \ltrch\fcs0 \f1\kerning0\insrsid8924899\charrsid8924899 \hich\af1\dbch\af31505\loch\f1 print("[installer] Error creando tarea:", e)
\par \~\hich\af1\dbch\af31505\loch\f1  \~ }{\rtlch\fcs1 \af1 \ltrch\fcs0 \f1\lang1033\langfe13322\kerning0\langnp1033\insrsid8924899\charrsid9772457 \hich\af1\dbch\af31505\loch\f1 sys.exit(0)
\par 
\par \hich\af1\dbch\af31505\loch\f1 def remove_persistence():
\par \~\hich\af1\dbch\af31505\loch\f1  \~ if is_admin():
\par \~\hich\af1\dbch\af31505\loch\f1  \~ \~ \~ uninstall_schtasks()
\par \~\hich\af1\dbch\af31505\loch\f1  \~ \~ \~ }{\rtlch\fcs1 \af1 \ltrch\fcs0 \f1\kerning0\insrsid8924899\charrsid8924899 \hich\af1\dbch\af31505\loch\f1 print("[installer] Tareas eliminadas.")
\par \~\hich\af1\dbch\af31505\loch\f1  \~ # Limpia acceso directo si existe
\par \~\hich\af1\dbch\af31505\loch\f1  \~ }{\rtlch\fcs1 \af1 \ltrch\fcs0 \f1\lang1033\langfe13322\kerning0\langnp1033\insrsid8924899\charrsid9772457 \hich\af1\dbch\af31505\loch\f1 lnk = os.path.join(STARTUP_DIR, f"\{TASK_NAME\}.lnk")
\par \~\hich\af1\dbch\af31505\loch\f1  \~ try:
\par \~\hich\af1\dbch\af31505\loch\f1  \~ \~ \~ if os.path.exists(lnk):
\par \~\hich\af1\dbch\af31505\loch\f1  \~ \~ \~ \~ \~\hich\af1\dbch\af31505\loch\f1  os.remove(lnk)
\par \~\hich\af1\dbch\af31505\loch\f1  \~ \~ \~ \~ \~ print("[installer] Startup .lnk eliminado.")
\par \~\hich\af1\dbch\af31505\loch\f1  \~ }{\rtlch\fcs1 \af1 \ltrch\fcs0 \f1\kerning0\insrsid8924899\charrsid8924899 \hich\af1\dbch\af31505\loch\f1 except Exception:
\par \~\hich\af1\dbch\af31505\loch\f1  \~ \~ \~ pass
\par 
\par \hich\af1\dbch\af31505\loch\f1 \hich\f1 # IDs: se resuelven din\'e1\loch\f1 micamente al iniciar
\par }{\rtlch\fcs1 \af1 \ltrch\fcs0 \f1\lang1033\langfe13322\kerning0\langnp1033\insrsid8924899\charrsid9772457 \hich\af1\dbch\af31505\loch\f1 CLIENTE_ID = None
\par \hich\af1\dbch\af31505\loch\f1 CENTRO_ID = None
\par \hich\af1\dbch\af31505\loch\f1 DISPOSITIVO_ID = None
\par 
\par \hich\af1\dbch\af31505\loch\f1 IMAGE_MODE = os.getenv("IMAGE_MODE", "file").lower() \~# "file" | "screen"
\par \hich\af1\dbch\af31505\loch\f1 IMAGE_PATH = os.getenv("IMAGE_PATH", r"C:\\Users\\Nvr\\Pictures\\centro.jpg")
\par 
\par \hich\af1\dbch\af31505\loch\f1 DEFAULT_PICTURES = Path(os.environ.get("USERPROFILE", "")) / "Pictures"
\par \hich\af1\dbch\af31505\loch\f1 IMAGE_SAVE_DIR = Path(os.getenv("IMAGE_SAVE_DIR", str(DEFAULT_PICTURES)))
\par \hich\af1\dbch\af31505\loch\f1 SCREENSHOT_NAME = os.getenv("SCREENSHOT_NAME", "screenshot.jpg")
\par \hich\af1\dbch\af31505\loch\f1 SCREENSHOT_PATH = IMAGE_SAVE_DIR / SCREENSHOT_NAME
\par 
\par }{\rtlch\fcs1 \af1 \ltrch\fcs0 \f1\kerning0\insrsid8924899\charrsid8924899 \hich\af1\dbch\af31505\loch\f1 CENTER_NAME = os.getenv("CENTER_NAME", "Centro Desconocido")
\par }{\rtlch\fcs1 \af1 \ltrch\fcs0 \f1\lang1033\langfe13322\kerning0\langnp1033\insrsid8924899\charrsid9772457 \hich\af1\dbch\af31505\loch\f1 CAPTURE_AT = os.getenv("CAPTURE_AT", "09:50") \~# "HH:MM[,HH:MM...]"
\par 
\par }{\rtlch\fcs1 \af1 \ltrch\fcs0 \f1\kerning0\insrsid8924899\charrsid8924899 \hich\af1\dbch\af31505\loch\f1 TIMEZONE_LABEL = os.getenv("TZ", "America/Santiago")
\par }{\rtlch\fcs1 \af1 \ltrch\fcs0 \f1\lang1033\langfe13322\kerning0\langnp1033\insrsid8924899\charrsid9772457 \hich\af1\dbch\af31505\loch\f1 PULL_WAIT_SECONDS = int(os.getenv("PULL_WAIT_SECONDS", "20"))
\par \hich\af1\dbch\af31505\loch\f1 IDLE_SLEEP_SECONDS = float(os.getenv("IDLE_SLEEP_SECONDS", "1"))
\par \hich\af1\dbch\af31505\loch\f1 JITTER_MAX_SECONDS = float(os.getenv("JITTER_MAX_SECONDS", "3"))
\par \hich\af1\dbch\af31505\loch\f1 UPLOAD_MAX_\hich\af1\dbch\af31505\loch\f1 RETRIES = int(os.getenv("UPLOAD_MAX_RETRIES", "4"))
\par \hich\af1\dbch\af31505\loch\f1 MONITOR_INDEX = int(os.getenv("MONITOR_INDEX", "0"))
\par \hich\af1\dbch\af31505\loch\f1 DEBUG_SAVE = os.getenv("DEBUG_SAVE", "0") == "1"
\par 
\par \hich\af1\dbch\af31505\loch\f1 # ===== NETIO CONFIG =====
\par \hich\af1\dbch\af31505\loch\f1 NETIO_HOST = os.getenv("NETIO_HOST", "10.11.10.171") \~ # IP/DNS
\par }{\rtlch\fcs1 \af1 \ltrch\fcs0 \f1\kerning0\insrsid8924899\charrsid8924899 \hich\af1\dbch\af31505\loch\f1 NETIO_PORT = os.getenv("NETIO_PORT", "") \~ \~ \~ \~ \~ \~ \~\hich\f1  # ej "8090" (vac\'ed\loch\f1 o = 80)
\par \hich\af1\dbch\af31505\loch\f1 NETIO_PATH = os.getenv("NETIO_PATH", "/netio.json") \~ \~# ruta JSON API
\par \hich\af1\dbch\af31505\loch\f1 NETIO_USER = os.getenv("NETIO_USER", "netio") \~ \~ \~ \~ \~# usuario JSON API (no el del login web)
\par }{\rtlch\fcs1 \af1 \ltrch\fcs0 \f1\lang1033\langfe13322\kerning0\langnp1033\insrsid8924899\charrsid9772457 \hich\af1\dbch\af31505\loch\f1 NETIO_PASS = os.getenv("NETIO_PASS", "753524")
\par \hich\af1\dbch\af31505\loch\f1 NETIO_TIMEOUT = float(os.getenv("NETIO_TIMEOUT", "3.0"))
\par \hich\af1\dbch\af31505\loch\f1 NETIO_PUSH_EVERY = int(os.getenv("NETIO_PUSH_EVERY", "10")) \~# cada Xs reporta estado al backend
\par 
\par \hich\af1\dbch\af31505\loch\f1 # =======================
\par \hich\af1\dbch\af31505\loch\f1 # RESOLVE IDs
\par \hich\af1\dbch\af31505\loch\f1 # =======================
\par \hich\af1\dbch\af31505\loch\f1 def resolve_ids_by_uuid() -> dict:
\par \~\hich\af1\dbch\af31505\loch\f1  \~ }{\rtlch\fcs1 \af1 \ltrch\fcs0 \f1\kerning0\insrsid8924899\charrsid8924899 \hich\af1\dbch\af31505\loch\f1 """Consulta al backend por UUID y devuelve \{cliente_id, centro_id, dispositivo_id, nombre\}."""
\par \~\hich\af1\dbch\af31505\loch\f1  \~ }{\rtlch\fcs1 \af1 \ltrch\fcs0 \f1\lang1033\langfe13322\kerning0\langnp1033\insrsid8924899\charrsid9772457 \hich\af1\dbch\af31505\loch\f1 url = f"\{SERVER\}/api/centros/resolve"
\par \~\hich\af1\dbch\af31505\loch\f1  \~ r = requests.get(url, params=\{"uuid_equipo": UUID_EQUIPO\}, timeout=15)
\par \~\hich\af1\dbch\af31505\loch\f1  \~ if r.status_code != 200:
\par \~\hich\af1\dbch\af31505\loch\f1  \~ \~ \~ raise RuntimeError(f"resolve failed: \{r.status_code\} \{r.text\}")
\par \~\hich\af1\dbch\af31505\loch\f1  \~ return r.json()
\par 
\par \hich\af1\dbch\af31505\loch\f1 # =======================
\par \hich\af1\dbch\af31505\loch\f1 # UTILIDADES
\par \hich\af1\dbch\af31505\loch\f1 # =======================
\par \hich\af1\dbch\af31505\loch\f1 def log(*args):
\par \~\hich\af1\dbch\af31505\loch\f1  \~\hich\af1\dbch\af31505\loch\f1  ts = datetime.now().strftime("%Y-%m-%d %H:%M:%S")
\par \~\hich\af1\dbch\af31505\loch\f1  \~ print(f"[\{ts\} \{TIMEZONE_LABEL\}]", *args, flush=True)
\par 
\par \hich\af1\dbch\af31505\loch\f1 def parse_horas(s: str):
\par \~\hich\af1\dbch\af31505\loch\f1  \~ horas = []
\par \~\hich\af1\dbch\af31505\loch\f1  \~ for part in s.split(","):
\par \~\hich\af1\dbch\af31505\loch\f1  \~ \~ \~ part = part.strip()
\par \~\hich\af1\dbch\af31505\loch\f1  \~ \~ \~ if not part:
\par \~\hich\af1\dbch\af31505\loch\f1  \~ \~ \~ \~ \~ continue
\par \~\hich\af1\dbch\af31505\loch\f1  \~ \~ \~ hh, mm = part.split(":")
\par \~\hich\af1\dbch\af31505\loch\f1  \~ \~ \~ horas.append((int(hh), int(mm)))
\par \~\hich\af1\dbch\af31505\loch\f1  \~ return sorted(horas)
\par 
\par \hich\af1\dbch\af31505\loch\f1 AUTO_TIMES = parse_horas(CAPTURE_AT)
\par 
\par \hich\af1\dbch\af31505\loch\f1 def proxima_ejecucion(now: datetime) -> datetime:
\par \~\hich\af1\dbch\af31505\loch\f1  \~ candidatos = []
\par \~\hich\af1\dbch\af31505\loch\f1  \~ for hh, mm in AUTO_TIMES:
\par \~\hich\af1\dbch\af31505\loch\f1  \~ \~ \~ dt = now.replace(\hich\af1\dbch\af31505\loch\f1 hour=hh, minute=mm, second=0, microsecond=0)
\par \~\hich\af1\dbch\af31505\loch\f1  \~ \~ \~ if dt > now:
\par \~\hich\af1\dbch\af31505\loch\f1  \~ \~ \~ \~ \~ candidatos.append(dt)
\par \~\hich\af1\dbch\af31505\loch\f1  \~ if not candidatos:
\par \~\hich\af1\dbch\af31505\loch\f1  \~ \~ \~ hh, mm = AUTO_TIMES[0]
\par \~\hich\af1\dbch\af31505\loch\f1  \~ \~ \~\hich\f1  ma\'f1\loch\f1 ana = (now + timedelta(days=1)).replace(hour=hh, minute=mm, second=0, microsecond=0)
\par \~\hich\af1\dbch\af31505\loch\f1  \~ \~ \~ }{\rtlch\fcs1 \af1 \ltrch\fcs0 \f1\kerning0\insrsid8924899\charrsid8924899 \hich\af1\dbch\af31505\loch\f1 \hich\f1 return ma\'f1\loch\f1 ana
\par \~\hich\af1\dbch\af31505\loch\f1  \~ return min(candidatos)
\par 
\par \hich\af1\dbch\af31505\loch\f1 # =======================
\par \hich\af1\dbch\af31505\loch\f1 \hich\f1 # CONSTRUCCI\'d3\loch\f1 N DE IMAGEN
\par }{\rtlch\fcs1 \af1 \ltrch\fcs0 \f1\lang1033\langfe13322\kerning0\langnp1033\insrsid8924899\charrsid9772457 \hich\af1\dbch\af31505\loch\f1 # =======================
\par \hich\af1\dbch\af31505\loch\f1 def _draw_label(img: Image.Image, center_name: str) -> bytes:
\par \~\hich\af1\dbch\af31505\loch\f1  \~ draw = ImageDraw.Draw(img)
\par \~\hich\af1\dbch\af31505\loch\f1  \~\hich\af1\dbch\af31505\loch\f1  font = ImageFont.load_default()
\par \~\hich\af1\dbch\af31505\loch\f1  \~ text = f"\{center_name\} \~| \~\{datetime.now().strftime('%Y-%m-%d %H:%M:%S')\}"
\par \~\hich\af1\dbch\af31505\loch\f1  \~ padding = 10
\par \~\hich\af1\dbch\af31505\loch\f1  \~ w, h = img.size
\par \~\hich\af1\dbch\af31505\loch\f1  \~ try:
\par \~\hich\af1\dbch\af31505\loch\f1  \~ \~ \~ # Pillow >= 9
\par \~\hich\af1\dbch\af31505\loch\f1  \~ \~ \~ tw = draw.textlength(text, font=font)
\par \~\hich\af1\dbch\af31505\loch\f1  \~ \~ \~ th = font.size + 2
\par \~\hich\af1\dbch\af31505\loch\f1  \~ except Exception:
\par \~\hich\af1\dbch\af31505\loch\f1  \~ \~ \~ # Pillow < 9
\par \~\hich\af1\dbch\af31505\loch\f1  \~ \~ \~ bbox = draw.textbbox((0, 0), text, font=font)
\par \~\hich\af1\dbch\af31505\loch\f1  \~ \~ \~ tw, th = (bbox[2] - bbox[0], bbox[3] - bbox[1])
\par \~\hich\af1\dbch\af31505\loch\f1  \~ box_h = th + padding * 2
\par \~\hich\af1\dbch\af31505\loch\f1  \~ try:
\par \~\hich\af1\dbch\af31505\loch\f1  \~ \~ \~ draw.rectangle([0, h - box_h, w, h], fill=(0, 0, 0, 128))
\par \~\hich\af1\dbch\af31505\loch\f1  \~\hich\af1\dbch\af31505\loch\f1  except Exception:
\par \~\hich\af1\dbch\af31505\loch\f1  \~ \~ \~ draw.rectangle([0, h - box_h, w, h], fill=(0, 0, 0))
\par \~\hich\af1\dbch\af31505\loch\f1  \~ draw.text((padding, h - box_h + padding), text, fill=(255, 255, 255), font=font)
\par \~\hich\af1\dbch\af31505\loch\f1  \~ out = BytesIO()
\par \~\hich\af1\dbch\af31505\loch\f1  \~ img.save(out, format="JPEG", quality=90)
\par \~\hich\af1\dbch\af31505\loch\f1  \~ return out.getvalue()
\par 
\par \hich\af1\dbch\af31505\loch\f1 def _make_placeholder(center_name: str, size=(1280, 720)) -> bytes:
\par \~\hich\af1\dbch\af31505\loch\f1  \~ img = Image.new("RGB", size, (30, 60, 90))
\par \~\hich\af1\dbch\af31505\loch\f1  \~ return _draw_label(img, center_name)
\par 
\par \hich\af1\dbch\af31505\loch\f1 def _read_file_or_placeholder(path: Path, center_name: str) -> bytes:
\par \~\hich\af1\dbch\af31505\loch\f1  \~ if path.exists() and path.stat().st_size > 0:
\par \~\hich\af1\dbch\af31505\loch\f1  \~ \~ \~ img = Image.open(path).convert("RGB")
\par \~\hich\af1\dbch\af31505\loch\f1  \~ \~ \~ return _draw_label(img, center_name)
\par \~\hich\af1\dbch\af31505\loch\f1  \~ }{\rtlch\fcs1 \af1 \ltrch\fcs0 \f1\kerning0\insrsid8924899\charrsid8924899 \hich\af1\dbch\af31505\loch\f1 else:
\par \~\hich\af1\dbch\af31505\loch\f1  \~ \~ \~\hich\f1  log(f"Archivo no encontrado o vac\'ed\loch\f1 o: \{path\}")
\par \~\hich\af1\dbch\af31505\loch\f1  \~ \~ \~ }{\rtlch\fcs1 \af1 \ltrch\fcs0 \f1\lang1033\langfe13322\kerning0\langnp1033\insrsid8924899\charrsid9772457 \hich\af1\dbch\af31505\loch\f1 return _make_placeholder(center_name)
\par 
\par \hich\af1\dbch\af31505\loch\f1 # =======================
\par \hich\af1\dbch\af31505\loch\f1 # CAPTURA PANTALLA
\par \hich\af1\dbch\af31505\loch\f1 # =======================
\par \hich\af1\dbch\af31505\loch\f1 def _capture_with_pyautogui_to_file(out_path: Path) -> bool:
\par \~\hich\af1\dbch\af31505\loch\f1  \~ try:
\par \~\hich\af1\dbch\af31505\loch\f1  \~ \~ \~ import pyautogui
\par \~\hich\af1\dbch\af31505\loch\f1  \~ \~ \~ img = pyautogui.screenshot()
\par \~\hich\af1\dbch\af31505\loch\f1  \~ \~ \~ img = img.convert("RGB")
\par \~\hich\af1\dbch\af31505\loch\f1  \~ \~ \~ img.save(out_path, "JPEG", quality=95)
\par \~\hich\af1\dbch\af31505\loch\f1  \~ \~ \~ log(f"pyautogui: screenshot guardado en \{out_path\} (size=\{img.size\})")
\par \~\hich\af1\dbch\af31505\loch\f1  \~ \~ \~ return True
\par \~\hich\af1\dbch\af31505\loch\f1  \~ except Exception as e:
\par \~\hich\af1\dbch\af31505\loch\f1  \~ \~ \~ }{\rtlch\fcs1 \af1 \ltrch\fcs0 \f1\kerning0\insrsid8924899\charrsid8924899 \hich\af1\dbch\af31505\loch\f1 log("screen capture ERROR (pyautogui):", repr(e))
\par \~\hich\af1\dbch\af31505\loch\f1  \~ \~ \~ }{\rtlch\fcs1 \af1 \ltrch\fcs0 \f1\lang1033\langfe13322\kerning0\langnp1033\insrsid8924899\charrsid9772457 \hich\af1\dbch\af31505\loch\f1 return False
\par 
\par \hich\af1\dbch\af31505\loch\f1 def _capture_with_mss_to_file(out_path: Path) -> bool:
\par \~\hich\af1\dbch\af31505\loch\f1  \~ try:
\par \~\hich\af1\dbch\af31505\loch\f1  \~ \~ \~ import mss
\par \~\hich\af1\dbch\af31505\loch\f1  \~ \~ \~ with mss.mss() as sct:
\par \~\hich\af1\dbch\af31505\loch\f1  \~ \~ \~ \~ \~ monitors = sct.monitors
\par \~\hich\af1\dbch\af31505\loch\f1  \~ \~ \~ \~ \~\hich\af1\dbch\af31505\loch\f1  idx = MONITOR_INDEX if 0 <= MONITOR_INDEX < len(monitors) else (1 if len(monitors) > 1 else 0)
\par \~\hich\af1\dbch\af31505\loch\f1  \~ \~ \~ \~ \~ raw = sct.grab(monitors[idx])
\par \~\hich\af1\dbch\af31505\loch\f1  \~ \~ \~ \~ \~ img = Image.frombytes("RGB", raw.size, raw.rgb)
\par \~\hich\af1\dbch\af31505\loch\f1  \~ \~ \~ \~ \~ img.save(out_path, "JPEG", quality=95)
\par \~\hich\af1\dbch\af31505\loch\f1  \~ \~ \~ \~ \~ log(f"mss: screenshot guardado en \{out_path\} (size=\{img.size\})")
\par \~\hich\af1\dbch\af31505\loch\f1  \~ \~ \~ \~ \~ return True
\par \~\hich\af1\dbch\af31505\loch\f1  \~ except Exception as e:
\par \~\hich\af1\dbch\af31505\loch\f1  \~ \~ \~ }{\rtlch\fcs1 \af1 \ltrch\fcs0 \f1\kerning0\insrsid8924899\charrsid8924899 \hich\af1\dbch\af31505\loch\f1 log("screen capture ERROR (mss):", repr(e))
\par \~\hich\af1\dbch\af31505\loch\f1  \~ \~ \~ }{\rtlch\fcs1 \af1 \ltrch\fcs0 \f1\lang1033\langfe13322\kerning0\langnp1033\insrsid8924899\charrsid9772457 \hich\af1\dbch\af31505\loch\f1 return False
\par 
\par \hich\af1\dbch\af31505\loch\f1 def capture_screen_and_save() -> Path:
\par \~\hich\af1\dbch\af31505\loch\f1  \~ IMAGE_SAVE_DIR.mkdir(parents=True, exist_ok=True)
\par \~\hich\af1\dbch\af31505\loch\f1  \~ out = SCREENSHOT_PATH
\par \~\hich\af1\dbch\af31505\loch\f1  \~ try:
\par \~\hich\af1\dbch\af31505\loch\f1  \~ \~ \~ if out.exists():
\par \~\hich\af1\dbch\af31505\loch\f1  \~ \~ \~ \~ \~ out.unlink()
\par \~\hich\af1\dbch\af31505\loch\f1  \~ except Exception:
\par \~\hich\af1\dbch\af31505\loch\f1  \~ \~ \~ pass
\par \~\hich\af1\dbch\af31505\loch\f1  \~ if _capture_with_pyautogui_to_file(out):
\par \~\hich\af1\dbch\af31505\loch\f1  \~ \~ \~ return out
\par \~\hich\af1\dbch\af31505\loch\f1  \~ if _capture_with_mss_to_file(out):
\par \~\hich\af1\dbch\af31505\loch\f1  \~ \~ \~ return out
\par \~\hich\af1\dbch\af31505\loch\f1  \~ Image.new("RGB", (1280, 720), (30, 60, 90)).save(out, "JPEG", quality=85)
\par \~\hich\af1\dbch\af31505\loch\f1  \~ log(f"placeholder: guardado en \{out\}")
\par \~\hich\af1\dbch\af31505\loch\f1  \~ return out
\par 
\par \hich\af1\dbch\af31505\loch\f1 def read_file_after_wait(path: Path, timeout=5.0) -> bytes:
\par \~\hich\af1\dbch\af31505\loch\f1  \~ t0 = time.time()
\par \~\hich\af1\dbch\af31505\loch\f1  \~ while time.time() - t0 < timeout:
\par \~\hich\af1\dbch\af31505\loch\f1  \~ \~ \~ if path.exists() and path.stat().st_size > 0:
\par \~\hich\af1\dbch\af31505\loch\f1  \~ \~ \~ \~ \~ return path.read_bytes()
\par \~\hich\af1\dbch\af31505\loch\f1  \~ \~ \~ time.sleep(0.2)
\par \~\hich\af1\dbch\af31505\loch\f1  \~ if path.exists():
\par \~\hich\af1\dbch\af31505\loch\f1  \~ \~ \~ return path.read_bytes()
\par \~\hich\af1\dbch\af31505\loch\f1  \~ }{\rtlch\fcs1 \af1 \ltrch\fcs0 \f1\kerning0\insrsid8924899\charrsid8924899 \hich\af1\dbch\af31505\loch\f1 \hich\f1 raise FileNotFoundError(f"No se gener\'f3\loch\f1  el archivo a tiempo: \{path\}")
\par 
\par \hich\af1\dbch\af31505\loch\f1 # =======================
\par \hich\af1\dbch\af31505\loch\f1 # API BACKEND (capturas)
\par \hich\af1\dbch\af31505\loch\f1 # =======================
\par \hich\af1\dbch\af31505\loch\f1 def subir_imagen(img_bytes: bytes, fecha_reporte: date, origen: str = "auto") -> dict:
\par \~\hich\af1\dbch\af31505\loch\f1  \~ url = f"\{SERVER\}/api/capturas/upload"
\par \~\hich\af1\dbch\af31505\loch\f1  \~ data = \{
\par \~\hich\af1\dbch\af31505\loch\f1  \~ \~ \~ "uuid_equipo": UUID_EQUIPO,
\par \~\hich\af1\dbch\af31505\loch\f1  \~ \~ \~ "fecha_reporte": fecha_reporte.isoformat(),
\par \~\hich\af1\dbch\af31505\loch\f1  \~ \~ \~ }{\rtlch\fcs1 \af1 \ltrch\fcs0 \f1\lang1033\langfe13322\kerning0\langnp1033\insrsid8924899\charrsid9772457 \hich\af1\dbch\af31505\loch\f1 "origen": origen,
\par \~\hich\af1\dbch\af31505\loch\f1  \~ \}
\par \~\hich\af1\dbch\af31505\loch\f1  \~ filename = "screenshot.jpg"
\par \~\hich\af1\dbch\af31505\loch\f1  \~ files = \{"file": (filename, img_bytes, "image/jpeg")\}
\par \~\hich\af1\dbch\af31505\loch\f1  \~ backoff = 1.5
\par \~\hich\af1\dbch\af31505\loch\f1  \~\hich\af1\dbch\af31505\loch\f1  for intento in range(1, UPLOAD_MAX_RETRIES + 1):
\par \~\hich\af1\dbch\af31505\loch\f1  \~ \~ \~ try:
\par \~\hich\af1\dbch\af31505\loch\f1  \~ \~ \~ \~ \~ r = requests.post(url, data=data, files=files, timeout=60)
\par \~\hich\af1\dbch\af31505\loch\f1  \~ \~ \~ \~ \~ if r.status_code == 200:
\par \~\hich\af1\dbch\af31505\loch\f1  \~ \~ \~ \~ \~ \~ \~ log("upload OK:", r.text)
\par \~\hich\af1\dbch\af31505\loch\f1  \~ \~ \~ \~ \~ \~ \~ return r.json()
\par \~\hich\af1\dbch\af31505\loch\f1  \~ \~ \~ \~ \~ else:
\par \~\hich\af1\dbch\af31505\loch\f1  \~ \~ \~ \~ \~ \~ \~ log(f"upload HTTP \{r.status_code\}:", r.text)
\par \~\hich\af1\dbch\af31505\loch\f1  \~ \~ \~ except Exception as e:
\par \~\hich\af1\dbch\af31505\loch\f1  \~ \~ \~ \~ \~ log("upload ERROR:", repr(e))
\par \~\hich\af1\dbch\af31505\loch\f1  \~ \~ \~ if intento < UPLOAD_MAX_RETRIES:
\par \~\hich\af1\dbch\af31505\loch\f1  \~ \~ \~ \~ \~ sleep_s = backoff ** intento + random.uniform(0, 1.5)
\par \~\hich\af1\dbch\af31505\loch\f1  \~ \~ \~ \~\hich\af1\dbch\af31505\loch\f1  \~ log(f"reintentando upload en \{sleep_s:.1f\}s (intento \{intento+1\}/\{UPLOAD_MAX_RETRIES\})")
\par \~\hich\af1\dbch\af31505\loch\f1  \~ \~ \~ \~ \~ time.sleep(sleep_s)
\par \~\hich\af1\dbch\af31505\loch\f1  \~ }{\rtlch\fcs1 \af1 \ltrch\fcs0 \f1\kerning0\insrsid8924899\charrsid8924899 \hich\af1\dbch\af31505\loch\f1 \hich\f1 raise RuntimeError("No se pudo subir la imagen despu\'e9\loch\f1 s de varios reintentos.")
\par 
\par }{\rtlch\fcs1 \af1 \ltrch\fcs0 \f1\lang1033\langfe13322\kerning0\langnp1033\insrsid8924899\charrsid9772457 \hich\af1\dbch\af31505\loch\f1 # =======================
\par \hich\af1\dbch\af31505\loch\f1 # OBTENER BYTES
\par \hich\af1\dbch\af31505\loch\f1 # =======================
\par \hich\af1\dbch\af31505\loch\f1 def obtener_imagen_bytes() -> bytes:
\par \~\hich\af1\dbch\af31505\loch\f1  \~ if IMAGE_MODE == "screen":
\par \~\hich\af1\dbch\af31505\loch\f1  \~ \~ \~ out = capture_screen_and_save()
\par \~\hich\af1\dbch\af31505\loch\f1  \~ \~ \~ time.sleep(2.0)
\par \~\hich\af1\dbch\af31505\loch\f1  \~ \~ \~ raw = read_file_after_wait(out, timeout=5.0)
\par \~\hich\af1\dbch\af31505\loch\f1  \~ \~ \~ img = Image.open(BytesIO(raw)).convert("RGB")
\par \~\hich\af1\dbch\af31505\loch\f1  \~ \~ \~ return _draw_label(img, CENTER_NAME)
\par \~\hich\af1\dbch\af31505\loch\f1  \~ p = Path(IMAGE_PATH)
\par \~\hich\af1\dbch\af31505\loch\f1  \~ if not p.exists() or p.stat().st_size == 0:
\par \~\hich\af1\dbch\af31505\loch\f1  \~ \~ \~ }{\rtlch\fcs1 \af1 \ltrch\fcs0 \f1\kerning0\insrsid8924899\charrsid8924899 \hich\af1\dbch\af31505\loch\f1 log(f"[fallback] IMAGE_MODE=file pero no existe \{p\}\hich\f1 . Capturando pantalla\'85\loch\f1 ")
\par \~\hich\af1\dbch\af31505\loch\f1  \~ \~ \~\hich\af1\dbch\af31505\loch\f1  }{\rtlch\fcs1 \af1 \ltrch\fcs0 \f1\lang1033\langfe13322\kerning0\langnp1033\insrsid8924899\charrsid9772457 \hich\af1\dbch\af31505\loch\f1 out = capture_screen_and_save()
\par \~\hich\af1\dbch\af31505\loch\f1  \~ \~ \~ time.sleep(2.0)
\par \~\hich\af1\dbch\af31505\loch\f1  \~ \~ \~ raw = read_file_after_wait(out, timeout=5.0)
\par \~\hich\af1\dbch\af31505\loch\f1  \~ \~ \~ img = Image.open(BytesIO(raw)).convert("RGB")
\par \~\hich\af1\dbch\af31505\loch\f1  \~ \~ \~ return _draw_label(img, CENTER_NAME)
\par \~\hich\af1\dbch\af31505\loch\f1  \~ return _read_file_or_placeholder(p, CENTER_NAME)
\par 
\par \hich\af1\dbch\af31505\loch\f1 # =======================
\par \hich\af1\dbch\af31505\loch\f1 # ORDENES / ACK
\par \hich\af1\dbch\af31505\loch\f1 # =======================
\par \hich\af1\dbch\af31505\loch\f1 def pull_orden() -> Optional[dict]:
\par \~\hich\af1\dbch\af31505\loch\f1  \~ url = f"\{SERVER\}/api/ordenes/pull"
\par \~\hich\af1\dbch\af31505\loch\f1  \~ try:
\par \~\hich\af1\dbch\af31505\loch\f1  \~ \~ \~ r = requests.get(url, params=\{"uuid_equipo": UUID_EQUIPO, "wait": PULL_WAIT_SECONDS\}, time\hich\af1\dbch\af31505\loch\f1 out=PULL_WAIT_SECONDS + 5)
\par \~\hich\af1\dbch\af31505\loch\f1  \~ \~ \~ if r.status_code == 200:
\par \~\hich\af1\dbch\af31505\loch\f1  \~ \~ \~ \~ \~ data = r.json()
\par \~\hich\af1\dbch\af31505\loch\f1  \~ \~ \~ \~ \~ return data.get("orden")
\par \~\hich\af1\dbch\af31505\loch\f1  \~ \~ \~ else:
\par \~\hich\af1\dbch\af31505\loch\f1  \~ \~ \~ \~ \~ log("pull HTTP", r.status_code, r.text)
\par \~\hich\af1\dbch\af31505\loch\f1  \~ except Exception as e:
\par \~\hich\af1\dbch\af31505\loch\f1  \~ \~ \~ log("pull ERROR:", repr(e))
\par \~\hich\af1\dbch\af31505\loch\f1  \~ return None
\par 
\par \hich\af1\dbch\af31505\loch\f1 def ack_orden(orden_id: int):
\par \~\hich\af1\dbch\af31505\loch\f1  \~ url = f"\{SERVER\}/api/ordenes/\{orden_id\}/ack"
\par \~\hich\af1\dbch\af31505\loch\f1  \~ try:
\par \~\hich\af1\dbch\af31505\loch\f1  \~ \~ \~ r = requests.post(url, timeout=15)
\par \~\hich\af1\dbch\af31505\loch\f1  \~ \~ \~ if r.status_code == 200:
\par \~\hich\af1\dbch\af31505\loch\f1  \~ \~ \~ \~ \~ log(f"ack orden \{orden_id\} OK")
\par \~\hich\af1\dbch\af31505\loch\f1  \~ \~ \~ else:
\par \~\hich\af1\dbch\af31505\loch\f1  \~ \~ \~ \~ \~\hich\af1\dbch\af31505\loch\f1  log(f"ack orden \{orden_id\} HTTP \{r.status_code\}:", r.text)
\par \~\hich\af1\dbch\af31505\loch\f1  \~ except Exception as e:
\par \~\hich\af1\dbch\af31505\loch\f1  \~ \~ \~ log(f"ack orden \{orden_id\} ERROR:", repr(e))
\par 
\par \hich\af1\dbch\af31505\loch\f1 # =======================
\par \hich\af1\dbch\af31505\loch\f1 \hich\f1 # NETIO STATUS (telemetr\'ed\loch\f1 a)
\par \hich\af1\dbch\af31505\loch\f1 # =======================
\par \hich\af1\dbch\af31505\loch\f1 def _netio_url() -> str:
\par \~\hich\af1\dbch\af31505\loch\f1  \~ }{\rtlch\fcs1 \af1 \ltrch\fcs0 \f1\kerning0\insrsid8924899\charrsid8924899 \hich\af1\dbch\af31505\loch\f1 base = f"http://\{NETIO_HOST\}"
\par \~\hich\af1\dbch\af31505\loch\f1  \~ }{\rtlch\fcs1 \af1 \ltrch\fcs0 \f1\lang1033\langfe13322\kerning0\langnp1033\insrsid8924899\charrsid9772457 \hich\af1\dbch\af31505\loch\f1 if NETIO_PORT:
\par \~\hich\af1\dbch\af31505\loch\f1  \~ \~ \~ base += f":\{NETIO_PORT\}"
\par \~\hich\af1\dbch\af31505\loch\f1  \~ return f"\{base\}\{NETIO_PATH\}"
\par 
\par \hich\af1\dbch\af31505\loch\f1 def _auth_basic():
\par \~\hich\af1\dbch\af31505\loch\f1  \~ return HTTPBasicAuth(NETIO_USER, NETIO_PASS)
\par 
\par \hich\af1\dbch\af31505\loch\f1 def _auth_digest():
\par \~\hich\af1\dbch\af31505\loch\f1  \~ return HTTPDigestAuth(NETIO_USER, NETIO_PASS)
\par 
\par \hich\af1\dbch\af31505\loch\f1 def get_netio_status() -> dict:
\par \~\hich\af1\dbch\af31505\loch\f1  \~ """
\par \~\hich\af1\dbch\af31505\loch\f1  \~ Devuelve: \{"online": bool, "outputs": \{1: True/False/None, 2:..., 3:..., 4:...\}\}
\par \~\hich\af1\dbch\af31505\loch\f1  \~ }{\rtlch\fcs1 \af1 \ltrch\fcs0 \f1\kerning0\insrsid8924899\charrsid8924899 \hich\af1\dbch\af31505\loch\f1 Intenta BASIC y, si el servidor lo requiere, reintenta con DIGEST.
\par \~\hich\af1\dbch\af31505\loch\f1  \~ }{\rtlch\fcs1 \af1 \ltrch\fcs0 \f1\lang1033\langfe13322\kerning0\langnp1033\insrsid8924899\charrsid9772457 \hich\af1\dbch\af31505\loch\f1 """
\par \~\hich\af1\dbch\af31505\loch\f1  \~ out = \{\hich\af1\dbch\af31505\loch\f1 1: None, 2: None, 3: None, 4: None\}
\par \~\hich\af1\dbch\af31505\loch\f1  \~ url = _netio_url()
\par \~\hich\af1\dbch\af31505\loch\f1  \~ try:
\par \~\hich\af1\dbch\af31505\loch\f1  \~ \~ \~ # 1) Intento con BASIC
\par \~\hich\af1\dbch\af31505\loch\f1  \~ \~ \~ r = requests.get(url, auth=_auth_basic(), timeout=NETIO_TIMEOUT)
\par \~\hich\af1\dbch\af31505\loch\f1  \~ \~ \~ if r.status_code == 401:
\par \~\hich\af1\dbch\af31505\loch\f1  \~ \~ \~ \~ \~ wa = r.headers.get("WWW-Authenticate", "")
\par \~\hich\af1\dbch\af31505\loch\f1  \~ \~ \~ \~ \~ if "digest" in wa.lower():
\par \~\hich\af1\dbch\af31505\loch\f1  \~ \~ \~ \~ \~ \~ \~ # 2) Reintento con DIGEST
\par \~\hich\af1\dbch\af31505\loch\f1  \~ \~ \~ \~ \~ \~ \~ r = requests.get(url, auth=_auth_digest(), timeout=NETIO_TIMEOUT)
\par 
\par \~\hich\af1\dbch\af31505\loch\f1  \~ \~ \~ if r.status_code != 200:
\par \~\hich\af1\dbch\af31505\loch\f1  \~ \~ \~ \~ \~ log(f"NETIO status HTTP \{r.status_code\} url\hich\af1\dbch\af31505\loch\f1 =\{url\} user=\{NETIO_USER\}")
\par \~\hich\af1\dbch\af31505\loch\f1  \~ \~ \~ \~ \~ r.raise_for_status()
\par 
\par \~\hich\af1\dbch\af31505\loch\f1  \~ \~ \~ data = r.json()
\par \~\hich\af1\dbch\af31505\loch\f1  \~ \~ \~ outputs = data.get("Outputs") or []
\par \~\hich\af1\dbch\af31505\loch\f1  \~ \~ \~ for o in outputs:
\par \~\hich\af1\dbch\af31505\loch\f1  \~ \~ \~ \~ \~ oid = int(o.get("ID", 0))
\par \~\hich\af1\dbch\af31505\loch\f1  \~ \~ \~ \~ \~ if 1 <= oid <= 4:
\par \~\hich\af1\dbch\af31505\loch\f1  \~ \~ \~ \~ \~ \~ \~ out[oid] = bool(o.get("State", 0))
\par \~\hich\af1\dbch\af31505\loch\f1  \~ \~ \~ return \{"online": True, "outputs": out\}
\par 
\par \~\hich\af1\dbch\af31505\loch\f1  \~ except Exception as e:
\par \~\hich\af1\dbch\af31505\loch\f1  \~ \~ \~ log("NETIO status error:", repr(e), "url=", url, "user=", NETIO_USER)
\par \~\hich\af1\dbch\af31505\loch\f1  \~ \~ \~ return \{"online": False, "outputs": out\}
\par 
\par \hich\af1\dbch\af31505\loch\f1 def push_netio_state_to_backend(state: dict):
\par \~\hich\af1\dbch\af31505\loch\f1  \~ }{\rtlch\fcs1 \af1 \ltrch\fcs0 \f1\kerning0\insrsid8924899\charrsid8924899 \hich\af1\dbch\af31505\loch\f1 """
\par \~\hich\af1\dbch\af31505\loch\f1  \~ POST al backend para guardar/actualizar estado del NETIO de este agente.
\par \~\hich\af1\dbch\af31505\loch\f1  \~ }{\rtlch\fcs1 \af1 \ltrch\fcs0 \f1\lang1033\langfe13322\kerning0\langnp1033\insrsid8924899\charrsid9772457 \hich\af1\dbch\af31505\loch\f1 Espera que exista el endpoint: POST /api/netio/state
\par \~\hich\af1\dbch\af31505\loch\f1  \~ Body: \{uuid_equipo, online, outputs, ts\}
\par \~\hich\af1\dbch\af31505\loch\f1  \~ """
\par \~\hich\af1\dbch\af31505\loch\f1  \~ try:
\par \~\hich\af1\dbch\af31505\loch\f1  \~ \~ \~ url = f"\{SERVER\}/api/netio/state"
\par \~\hich\af1\dbch\af31505\loch\f1  \~ \~ \~ }{\rtlch\fcs1 \af1 \ltrch\fcs0 \f1\kerning0\insrsid8924899\charrsid8924899 \hich\af1\dbch\af31505\loch\f1 payload = \{
\par \~\hich\af1\dbch\af31505\loch\f1  \~ \~ \~ \~ \~ "uuid_equipo": UUID_EQUIPO,
\par \~\hich\af1\dbch\af31505\loch\f1  \~ \~ \~ \~ \~ }{\rtlch\fcs1 \af1 \ltrch\fcs0 \f1\lang1033\langfe13322\kerning0\langnp1033\insrsid8924899\charrsid9772457 \hich\af1\dbch\af31505\loch\f1 "online": bool(state.get("online")),
\par \~\hich\af1\dbch\af31505\loch\f1  \~ \~ \~ \~ \~ "outputs": \{str(k): state["outputs"].get(k) for k in [1, 2, 3, 4]\},
\par \~\hich\af1\dbch\af31505\loch\f1  \~ \~ \~ \~ \~ "ts": datetime.now().isoformat()
\par \~\hich\af1\dbch\af31505\loch\f1  \~ \~ \~ \}
\par \~\hich\af1\dbch\af31505\loch\f1  \~ \~ \~ r = requests.post(url, json=payload, timeout=10)
\par \~\hich\af1\dbch\af31505\loch\f1  \~ \~ \~ if r.status_code != 200:
\par \~\hich\af1\dbch\af31505\loch\f1  \~ \~ \~ \~ \~ log("push_netio_state HTTP", r.status_code, r.text)
\par \~\hich\af1\dbch\af31505\loch\f1  \~ except Exception as e:
\par \~\hich\af1\dbch\af31505\loch\f1  \~ \~ \~ log("push_netio_state error:", repr(e))
\par 
\par \hich\af1\dbch\af31505\loch\f1 # ==== Ordenes NETIO (pull y ack) ====
\par \hich\af1\dbch\af31505\loch\f1 def pull_netio_cmd(wait: int = 0) -> Optional[dict]:
\par \~\hich\af1\dbch\af31505\loch\f1  \~ url = f"\{SERVE\hich\af1\dbch\af31505\loch\f1 R\}/api/netio/command/pull"
\par \~\hich\af1\dbch\af31505\loch\f1  \~ try:
\par \~\hich\af1\dbch\af31505\loch\f1  \~ \~ \~ r = requests.get(url, params=\{\hich\af1\dbch\af31505\loch\f1 "uuid_equipo": UUID_EQUIPO, "wait": wait\}, timeout=wait + 5)
\par \~\hich\af1\dbch\af31505\loch\f1  \~ \~ \~ if r.status_code == 200:
\par \~\hich\af1\dbch\af31505\loch\f1  \~ \~ \~ \~ \~ data = r.json()
\par \~\hich\af1\dbch\af31505\loch\f1  \~ \~ \~ \~ \~ if data.get("id", 0) and data.get("items"):
\par \~\hich\af1\dbch\af31505\loch\f1  \~ \~ \~ \~ \~ \~ \~ return data
\par \~\hich\af1\dbch\af31505\loch\f1  \~ except Exception as e:
\par \~\hich\af1\dbch\af31505\loch\f1  \~ \~ \~ }{\rtlch\fcs1 \af1 \ltrch\fcs0 \f1\kerning0\insrsid8924899\charrsid8924899 \hich\af1\dbch\af31505\loch\f1 log("pull NETIO cmd ERROR:", repr(e))
\par \~\hich\af1\dbch\af31505\loch\f1  \~ }{\rtlch\fcs1 \af1 \ltrch\fcs0 \f1\lang1033\langfe13322\kerning0\langnp1033\insrsid8924899\charrsid9772457 \hich\af1\dbch\af31505\loch\f1 return None
\par 
\par \hich\af1\dbch\af31505\loch\f1 def ack_netio_cmd(cmd_id: int):
\par \~\hich\af1\dbch\af31505\loch\f1  \~ url = f"\{SERVER\}/api/netio/command/\{cmd_id\}/ack"
\par \~\hich\af1\dbch\af31505\loch\f1  \~ try:
\par \~\hich\af1\dbch\af31505\loch\f1  \~ \~ \~ requests.post(url, timeout=10)
\par \~\hich\af1\dbch\af31505\loch\f1  \~ }{\rtlch\fcs1 \af1 \ltrch\fcs0 \f1\kerning0\insrsid8924899\charrsid8924899 \hich\af1\dbch\af31505\loch\f1 except Exception as e:
\par \~\hich\af1\dbch\af31505\loch\f1  \~ \~ \~ log("ack NETIO cmd ERROR:", repr(e))
\par 
\par \hich\af1\dbch\af31505\loch\f1 # ==== Escritura en NETIO (una sola llamada con varios outlets) ====
\par }{\rtlch\fcs1 \af1 \ltrch\fcs0 \f1\lang1033\langfe13322\kerning0\langnp1033\insrsid8924899\charrsid9772457 \hich\af1\dbch\af31505\loch\f1 def netio_write_items(items: list) -> bool:
\par \~\hich\af1\dbch\af31505\loch\f1  \~ """
\par \~\hich\af1\dbch\af31505\loch\f1  \~ items: [\{"id": 1, "action": 1\}, ...] ; action=0..5 segun API
\par \~\hich\af1\dbch\af31505\loch\f1  \~ """
\par \~\hich\af1\dbch\af31505\loch\f1  \~ url = _netio_url()
\par \~\hich\af1\dbch\af31505\loch\f1  \~ body = \{"Outputs": [\{"ID": int(it["id"]), "Action": int(it["action"])\} for it in items]\}
\par \~\hich\af1\dbch\af31505\loch\f1  \~ }{\rtlch\fcs1 \af1 \ltrch\fcs0 \f1\kerning0\insrsid8924899\charrsid8924899 \hich\af1\dbch\af31505\loch\f1 # intentar BASIC, si responde Digest, reintentar
\par \~\hich\af1\dbch\af31505\loch\f1  \~ }{\rtlch\fcs1 \af1 \ltrch\fcs0 \f1\lang1033\langfe13322\kerning0\langnp1033\insrsid8924899\charrsid9772457 \hich\af1\dbch\af31505\loch\f1 try:
\par \~\hich\af1\dbch\af31505\loch\f1  \~ \~ \~ r = requests.post(url, json=body, auth=_auth_basic(), timeout=NETIO_TIMEOUT)
\par \~\hich\af1\dbch\af31505\loch\f1  \~ \~ \~ if r.status_code == 401 and "digest" in r.headers.get("WWW-Authenticate", "").lower():
\par \~\hich\af1\dbch\af31505\loch\f1  \~ \~ \~ \~ \~ r = requests.post(url, json=body, auth=_auth_digest(), timeout=NETIO_TIMEOUT)
\par \~\hich\af1\dbch\af31505\loch\f1  \~ \~ \~ r.raise_for_status()
\par \~\hich\af1\dbch\af31505\loch\f1  \~ \~ \~ return True
\par \~\hich\af1\dbch\af31505\loch\f1  \~ except Exception as e:
\par \~\hich\af1\dbch\af31505\loch\f1  \~ \~ \~\hich\af1\dbch\af31505\loch\f1  log("NETIO write error:", repr(e), "url=", url)
\par \~\hich\af1\dbch\af31505\loch\f1  \~ \~ \~ return False
\par 
\par }{\rtlch\fcs1 \af1 \ltrch\fcs0 \f1\kerning0\insrsid8924899\charrsid8924899 \hich\af1\dbch\af31505\loch\f1 # =======================
\par \hich\af1\dbch\af31505\loch\f1 \hich\f1 # EJECUCI\'d3\loch\f1 N
\par \hich\af1\dbch\af31505\loch\f1 # =======================
\par \hich\af1\dbch\af31505\loch\f1 def ejecutar_captura(origen: str, fecha: Optional[date] = None):
\par \~\hich\af1\dbch\af31505\loch\f1  \~ }{\rtlch\fcs1 \af1 \ltrch\fcs0 \f1\lang1033\langfe13322\kerning0\langnp1033\insrsid8924899\charrsid9772457 \hich\af1\dbch\af31505\loch\f1 if fecha is None:
\par \~\hich\af1\dbch\af31505\loch\f1  \~ \~ \~ fecha = date.today()
\par \~\hich\af1\dbch\af31505\loch\f1  \~ img_bytes = obtener_imagen_bytes()
\par \~\hich\af1\dbch\af31505\loch\f1  \~ if DEBUG_SAVE:
\par \~\hich\af1\dbch\af31505\loch\f1  \~ \~ \~ try:
\par \~\hich\af1\dbch\af31505\loch\f1  \~ \~ \~ \~ \~ dbg = Path.cwd() / "debug_last.jpg"
\par \~\hich\af1\dbch\af31505\loch\f1  \~ \~ \~ \~ \~ dbg.write_bytes(img_bytes)
\par \~\hich\af1\dbch\af31505\loch\f1  \~ \~ \~ \~ \~ log(f"DEBUG_SAVE: escrito \{dbg.resolve()\}")
\par \~\hich\af1\dbch\af31505\loch\f1  \~ \~ \~ except Exception as e:
\par \~\hich\af1\dbch\af31505\loch\f1  \~ \~ \~ \~ \~ }{\rtlch\fcs1 \af1 \ltrch\fcs0 \f1\kerning0\insrsid8924899\charrsid8924899 \hich\af1\dbch\af31505\loch\f1 log("DEBUG_SAVE error:", repr(e))
\par \~\hich\af1\dbch\af31505\loch\f1  \~ return subir_imagen(img_bytes, fecha_reporte=fecha, origen=origen)
\par 
\par }{\rtlch\fcs1 \af1 \ltrch\fcs0 \f1\lang1033\langfe13322\kerning0\langnp1033\insrsid8924899\charrsid9772457 \hich\af1\dbch\af31505\loch\f1 def proxima_automatico_str(dt: datetime) -> str:
\par \~\hich\af1\dbch\af31505\loch\f1  \~ return dt.strftime("%Y-%m-%d %H:%M:%S")
\par 
\par \hich\af1\dbch\af31505\loch\f1 def main():
\par \~\hich\af1\dbch\af31505\loch\f1  \~\hich\af1\dbch\af31505\loch\f1  global CLIENTE_ID, CENTRO_ID, DISPOSITIVO_ID, CENTER_NAME
\par \~\hich\af1\dbch\af31505\loch\f1  \~ try:
\par \~\hich\af1\dbch\af31505\loch\f1  \~ \~ \~ resolved = resolve_ids_by_uuid()
\par \~\hich\af1\dbch\af31505\loch\f1  \~ \~ \~ CLIENTE_ID = int(resolved["cliente_id"])
\par \~\hich\af1\dbch\af31505\loch\f1  \~ \~ \~ CENTRO_ID = int(resolved["centro_id"])
\par \~\hich\af1\dbch\af31505\loch\f1  \~ \~ \~ d = resolved.get("dispositivo_id")
\par \~\hich\af1\dbch\af31505\loch\f1  \~ \~ \~ DISPOSITIVO_ID = int(d) if d is not None else None
\par \~\hich\af1\dbch\af31505\loch\f1  \~ \~ \~ if not os.getenv("CENTER_NAME"):
\par \~\hich\af1\dbch\af31505\loch\f1  \~ \~ \~ \~ \~ CENTER_NAME = resolved.get("nombre") or CENTER_NAME
\par \~\hich\af1\dbch\af31505\loch\f1  \~ except Exception as e:
\par \~\hich\af1\dbch\af31505\loch\f1  \~ \~ \~ print("ERROR resolviendo IDs por uuid_equipo:", repr(e), flush=Tr\hich\af1\dbch\af31505\loch\f1 ue)
\par \~\hich\af1\dbch\af31505\loch\f1  \~ \~ \~ raise
\par 
\par \~\hich\af1\dbch\af31505\loch\f1  \~ log(
\par \~\hich\af1\dbch\af31505\loch\f1  \~ \~ \~ "Agente iniciado.",
\par \~\hich\af1\dbch\af31505\loch\f1  \~ \~ \~ f"SERVER=\{SERVER\}",
\par \~\hich\af1\dbch\af31505\loch\f1  \~ \~ \~ }{\rtlch\fcs1 \af1 \ltrch\fcs0 \f1\kerning0\insrsid8924899\charrsid8924899 \hich\af1\dbch\af31505\loch\f1 f"UUID=\{UUID_EQUIPO\} cliente=\{CLIENTE_ID\} centro=\{CENTRO_ID\} disp=\{DISPOSITIVO_ID\}",
\par \~\hich\af1\dbch\af31505\loch\f1  \~ \~ \~ }{\rtlch\fcs1 \af1 \ltrch\fcs0 \f1\lang1033\langfe13322\kerning0\langnp1033\insrsid8924899\charrsid9772457 \hich\af1\dbch\af31505\loch\f1 f"mode=\{IMAGE_MODE\} image_path=\{IMAGE_PATH\}",
\par \~\hich\af1\dbch\af31505\loch\f1  \~ \~ \~ f"save_dir=\{IMAGE_SAVE_DIR\} screenshot=\{SCREENSHOT_NAME\}",
\par \~\hich\af1\dbch\af31505\loch\f1  \~ \~ \~ f"center='\{CENTER_NAME\}' horarios=\{CAPTURE_AT\}",
\par \~\hich\af1\dbch\af31505\loch\f1  \~ \~ \~ f"NETIO host=\{NETIO_HOST\}\{(':'+NETIO_PORT) if NETIO_PORT else ''\} user=\{NETIO_USER\} push_every=\{NETIO_PUSH_EVERY\}s",
\par \~\hich\af1\dbch\af31505\loch\f1  \~ }{\rtlch\fcs1 \af1 \ltrch\fcs0 \f1\kerning0\insrsid8924899\charrsid8924899 \hich\af1\dbch\af31505\loch\f1 )
\par 
\par \~\hich\af1\dbch\af31505\loch\f1  \~ now = datetime.now()
\par \~\hich\af1\dbch\af31505\loch\f1  \~ siguiente_auto = proxima_ejecucion(now)
\par \~\hich\af1\dbch\af31505\loch\f1  \~\hich\f1  log("Pr\'f3\loch\f1 \hich\f1 xima captura autom\'e1\loch\f1 tica:", proxima_automatico_str(siguiente_auto))
\par 
\par \~\hich\af1\dbch\af31505\loch\f1  \~\hich\f1  # control de push peri\'f3\loch\f1 dico de estado NETIO (arranca inmediato)
\par \~\hich\af1\dbch\af31505\loch\f1  \~ }{\rtlch\fcs1 \af1 \ltrch\fcs0 \f1\lang1033\langfe13322\kerning0\langnp1033\insrsid8924899\charrsid9772457 \hich\af1\dbch\af31505\loch\f1 last_netio_push = 0.0
\par 
\par \~\hich\af1\dbch\af31505\loch\f1  \~ while True:
\par \~\hich\af1\dbch\af31505\loch\f1  \~ \~ \~ }{\rtlch\fcs1 \af1 \ltrch\fcs0 \f1\kerning0\insrsid8924899\charrsid8924899 \hich\af1\dbch\af31505\loch\f1 try:
\par \~\hich\af1\dbch\af31505\loch\f1  \~ \~ \~\hich\af1\dbch\af31505\loch\f1  \~ \~ now = datetime.now()
\par 
\par \~\hich\af1\dbch\af31505\loch\f1  \~ \~ \~ \~ \~\hich\f1  # 1) Captura autom\'e1\loch\f1 tica si corresponde
\par \~\hich\af1\dbch\af31505\loch\f1  \~ \~ \~ \~ \~ if now >= siguiente_auto:
\par \~\hich\af1\dbch\af31505\loch\f1  \~ \~ \~ \~ \~ \~ \~ try:
\par \~\hich\af1\dbch\af31505\loch\f1  \~ \~ \~ \~ \~ \~ \~ \~ \~\hich\f1  log("Ejecutando captura autom\'e1\loch\f1 \hich\f1 tica\'85\loch\f1 ")
\par \~\hich\af1\dbch\af31505\loch\f1  \~ \~ \~ \~ \~ \~ \~ \~ \~ ejecutar_captura(origen="auto", fecha=date.today())
\par \~\hich\af1\dbch\af31505\loch\f1  \~ \~ \~ \~ \~ \~ \~ except Exception as e:
\par \~\hich\af1\dbch\af31505\loch\f1  \~ \~ \~ \~ \~ \~ \~ \~ \~\hich\f1  log("Error en captura autom\'e1\loch\f1 tica:", repr(e))
\par \~\hich\af1\dbch\af31505\loch\f1  \~ \~ \~ \~ \~ \~ \~ siguiente_auto = proxima_ejecucion(datetime.now())
\par \~\hich\af1\dbch\af31505\loch\f1  \~ \~ \~ \~ \~ \~ \~\hich\f1  log("Siguiente autom\'e1\loch\f1 tica:", proxima_automatico_str(siguie\hich\af1\dbch\af31505\loch\f1 nte_auto))
\par 
\par \~\hich\af1\dbch\af31505\loch\f1  \~ \~ \~ \~ \~ }{\rtlch\fcs1 \af1 \ltrch\fcs0 \f1\lang1033\langfe13322\kerning0\langnp1033\insrsid8924899\charrsid9772457 \hich\af1\dbch\af31505\loch\f1 \hich\f1 # 2) Pull de \'f3\loch\f1 rdenes (long-poll)
\par \~\hich\af1\dbch\af31505\loch\f1  \~ \~ \~ \~ \~ }{\rtlch\fcs1 \af1 \ltrch\fcs0 \f1\kerning0\insrsid8924899\charrsid8924899 \hich\af1\dbch\af31505\loch\f1 orden = pull_orden()
\par \~\hich\af1\dbch\af31505\loch\f1  \~ \~ \~ \~ \~ if orden:
\par \~\hich\af1\dbch\af31505\loch\f1  \~ \~ \~ \~ \~ \~ \~ log("Orden recibida:", json.dumps(orden))
\par \~\hich\af1\dbch\af31505\loch\f1  \~ \~ \~ \~ \~ \~ \~ try:
\par \~\hich\af1\dbch\af31505\loch\f1  \~ \~ \~ \~ \~ \~ \~ \~ \~ # Comportamiento actual: retoma captura
\par \~\hich\af1\dbch\af31505\loch\f1  \~ \~ \~ \~ \~ \~ \~ \~ \~ try:
\par \~\hich\af1\dbch\af31505\loch\f1  \~ \~ \~ \~ \~ \~ \~ \~ \~ \~ \~ }{\rtlch\fcs1 \af1 \ltrch\fcs0 \f1\lang1033\langfe13322\kerning0\langnp1033\insrsid8924899\charrsid9772457 \hich\af1\dbch\af31505\loch\f1 
fecha_rep = date.fromisoformat(orden.get("fecha_reporte", date.today().isoformat()))
\par \~\hich\af1\dbch\af31505\loch\f1  \~ \~ \~ \~ \~ \~ \~ \~ \~ except Exception:
\par \~\hich\af1\dbch\af31505\loch\f1  \~ \~ \~ \~ \~ \~ \~ \~ \~ \~ \~ }{\rtlch\fcs1 \af1 \ltrch\fcs0 \f1\kerning0\insrsid8924899\charrsid8924899 \hich\af1\dbch\af31505\loch\f1 fecha_rep = date.today()
\par \~\hich\af1\dbch\af31505\loch\f1  \~ \~ \~ \~ \~ \~ \~ \~ \~\hich\af1\dbch\af31505\loch\f1  ejecutar_captura(origen="retoma", fecha=fecha_rep)
\par \~\hich\af1\dbch\af31505\loch\f1  \~ \~ \~ \~ \~ \~ \~ }{\rtlch\fcs1 \af1 \ltrch\fcs0 \f1\lang1033\langfe13322\kerning0\langnp1033\insrsid8924899\charrsid9772457 \hich\af1\dbch\af31505\loch\f1 finally:
\par \~\hich\af1\dbch\af31505\loch\f1  \~ \~ \~ \~ \~ \~ \~ \~ \~ ack_orden(int(orden["orden_id"]))
\par \~\hich\af1\dbch\af31505\loch\f1  \~ \~ \~ \~ \~ else:
\par \~\hich\af1\dbch\af31505\loch\f1  \~ \~ \~ \~ \~ \~ \~ }{\rtlch\fcs1 \af1 \ltrch\fcs0 \f1\kerning0\insrsid8924899\charrsid8924899 \hich\af1\dbch\af31505\loch\f1 \hich\f1 # 3) Empuje peri\'f3\loch\f1 dico del estado NETIO
\par \~\hich\af1\dbch\af31505\loch\f1  \~ \~ \~ \~ \~ \~ \~ t = time.time()
\par \~\hich\af1\dbch\af31505\loch\f1  \~ \~ \~ \~ \~ \~ \~ }{\rtlch\fcs1 \af1 \ltrch\fcs0 \f1\lang1033\langfe13322\kerning0\langnp1033\insrsid8924899\charrsid9772457 \hich\af1\dbch\af31505\loch\f1 if (t - last_netio_push) >= NETIO_PUSH_EVERY:
\par \~\hich\af1\dbch\af31505\loch\f1  \~ \~ \~ \~ \~ \~ \~ \~ \~ st = get_netio_status()
\par \~\hich\af1\dbch\af31505\loch\f1  \~ \~ \~ \~ \~ \~ \~ \~ \~\hich\f1  # log opcional al \'e9\loch\f1 xito:
\par \~\hich\af1\dbch\af31505\loch\f1  \~ \~ \~ \~ \~ \~ \~ \~ \~ # if st.get("online"): log(f"NETIO OK outputs=\{st['outputs']\}")
\par \~\hich\af1\dbch\af31505\loch\f1  \~ \~ \~ \~ \~ \~ \~ \~ \~ push_netio_state_to_backend(st)
\par \~\hich\af1\dbch\af31505\loch\f1  \~ \~ \~ \~ \~ \~ \~ \~ \~ }{\rtlch\fcs1 \af1 \ltrch\fcs0 \f1\kerning0\insrsid8924899\charrsid8924899 \hich\af1\dbch\af31505\loch\f1 last_netio_push = t
\par 
\par \~\hich\af1\dbch\af31505\loch\f1  \~ \~ \~ \~ \~ \~ \~ # 4) Consumir acciones NETIO (no bloquea)
\par \~\hich\af1\dbch\af31505\loch\f1  \~ \~ \~ \~ \~ \~ \~ }{\rtlch\fcs1 \af1 \ltrch\fcs0 \f1\lang1033\langfe13322\kerning0\langnp1033\insrsid8924899\charrsid9772457 \hich\af1\dbch\af31505\loch\f1 cmd = pull_netio_cmd(wait=0) \~ # non-block
\par \~\hich\af1\dbch\af31505\loch\f1  \~ \~ \~ \~ \~ \~ \~ if cmd:
\par \~\hich\af1\dbch\af31505\loch\f1  \~ \~ \~ \~ \~ \~ \~ \~ \~ ok = netio_write_items(cmd.get("items", []))
\par \~\hich\af1\dbch\af31505\loch\f1  \~ \~ \~ \~ \~ \~ \~ \~ \~ }{\rtlch\fcs1 \af1 \ltrch\fcs0 \f1\kerning0\insrsid8924899\charrsid8924899 \hich\af1\dbch\af31505\loch\f1 \hich\f1 # Refrescar estado inmediato si se ejecut\'f3\loch\f1  bien
\par \~\hich\af1\dbch\af31505\loch\f1  \~ \~ \~ \~ \~ \~ \~ \~ \~ }{\rtlch\fcs1 \af1 \ltrch\fcs0 \f1\lang1033\langfe13322\kerning0\langnp1033\insrsid8924899\charrsid9772457 \hich\af1\dbch\af31505\loch\f1 if ok:
\par \~\hich\af1\dbch\af31505\loch\f1  \~ \~ \~ \~ \~ \~ \~ \~ \~ \~ \~ st2 = get_netio_status()
\par \~\hich\af1\dbch\af31505\loch\f1  \~ \~ \~ \~ \~ \~ \~ \~ \~ \~ \~ push_netio_state_to_backend(st2)
\par \~\hich\af1\dbch\af31505\loch\f1  \~ \~ \~ \~ \~ \~ \~ \~ \~ ack_netio_cmd(int(cmd["id"]))
\par 
\par \~\hich\af1\dbch\af31505\loch\f1  \~ \~ \~ \~ \~ \~ \~ time.sleep(IDLE_SLEEP_SECONDS + random.uniform(0, JITTER_MAX_SECONDS))
\par 
\par \~\hich\af1\dbch\af31505\loch\f1  \~ \~ \~ except KeyboardInterrupt:
\par \~\hich\af1\dbch\af31505\loch\f1  \~ \~ \~ \~ \~ log("Saliendo por Ctrl+C")
\par \~\hich\af1\dbch\af31505\loch\f1  \~ \~ \~ \~ \~ break
\par \~\hich\af1\dbch\af31505\loch\f1  \~ \~ \~ except Exception as e:
\par \~\hich\af1\dbch\af31505\loch\f1  \~ \~ \~ \~ \~\hich\af1\dbch\af31505\loch\f1  }{\rtlch\fcs1 \af1 \ltrch\fcs0 \f1\kerning0\insrsid8924899\charrsid8924899 \hich\af1\dbch\af31505\loch\f1 log("Loop ERROR:", repr(e))
\par \~\hich\af1\dbch\af31505\loch\f1  \~ \~ \~ \~ \~ }{\rtlch\fcs1 \af1 \ltrch\fcs0 \f1\lang1033\langfe13322\kerning0\langnp1033\insrsid8924899\charrsid9772457 \hich\af1\dbch\af31505\loch\f1 time.sleep(3.0)
\par \hich\af1\dbch\af31505\loch\f1 def run():
\par \~\hich\af1\dbch\af31505\loch\f1  \~ """Entry point para servicio/EXE."""
\par \~\hich\af1\dbch\af31505\loch\f1  \~ main()
\par \hich\af1\dbch\af31505\loch\f1 import argparse
\par \hich\af1\dbch\af31505\loch\f1 parser = argparse.ArgumentParser()
\par \hich\af1\dbch\af31505\loch\f1 parser.add_argument("--install", action="store_true", help="Instala auto-inicio")
\par \hich\af1\dbch\af31505\loch\f1 parser.add_argument("--uninstall", action="store_true", help="Quita auto-inicio")
\par \hich\af1\dbch\af31505\loch\f1 parser.add_argument("--elevated-create-task", action="store_true", help=argparse.SUPPRESS)
\par \hich\af1\dbch\af31505\loch\f1 args, _ = parser.parse_known_args()
\par 
\par \hich\af1\dbch\af31505\loch\f1 if args.elevated_create_task:
\par \~\hich\af1\dbch\af31505\loch\f1  \~ handle_elevated_create_task()
\par \hich\af1\dbch\af31505\loch\f1 if args.install:
\par \~\hich\af1\dbch\af31505\loch\f1  \~ ensur\hich\af1\dbch\af31505\loch\f1 e_persistence()
\par \~\hich\af1\dbch\af31505\loch\f1  \~ sys.exit(0)
\par \hich\af1\dbch\af31505\loch\f1 if args.uninstall:
\par \~\hich\af1\dbch\af31505\loch\f1  \~ remove_persistence()
\par \~\hich\af1\dbch\af31505\loch\f1  \~ sys.exit(0)
\par 
\par \hich\af1\dbch\af31505\loch\f1 if __name__ == "__main__":
\par \~\hich\af1\dbch\af31505\loch\f1  \~ }{\rtlch\fcs1 \af1 \ltrch\fcs0 \f1\kerning0\insrsid8924899\charrsid8924899 \hich\af1\dbch\af31505\loch\f1 run()
\par 
\par }\pard \ltrpar\ql \li0\ri0\nowidctlpar\wrapdefault\faauto\rin0\lin0\itap0\pararsid15421444 {\rtlch\fcs1 \af1 \ltrch\fcs0 \f1\kerning0\insrsid8924899 \line }{\rtlch\fcs1 \af1 \ltrch\fcs0 \f1\kerning0\insrsid15421444 \hich\af1\dbch\af31505\loch\f1 
Para cambio en el frontend:\line }{\rtlch\fcs1 \ab\af1 \ltrch\fcs0 \b\f1\kerning0\insrsid15421444\charrsid15421444 \hich\af1\dbch\af31505\loch\f1 \hich\f1 Flujo m\'ed\loch\f1 nimo en cada cambio de frontend
\par {\listtext\pard\plain\ltrpar \rtlch\fcs1 \af0 \ltrch\fcs0 \f1\insrsid15421444\charrsid15421444 \hich\af1\dbch\af31505\loch\f1 1.\tab}}\pard \ltrpar\ql \fi-360\li720\ri0\nowidctlpar\jclisttab\tx720\wrapdefault\faauto\ls1\rin0\lin720\itap0\pararsid15421444 
{\rtlch\fcs1 \af1 \ltrch\fcs0 \f1\kerning0\insrsid15421444\charrsid15421444 \hich\af1\dbch\af31505\loch\f1 Desde el proyecto:
\par }\pard \ltrpar\ql \li0\ri0\nowidctlpar\wrapdefault\faauto\rin0\lin0\itap0\pararsid15421444 {\rtlch\fcs1 \af1 \ltrch\fcs0 \f1\kerning0\insrsid15421444\charrsid15421444 \hich\af1\dbch\af31505\loch\f1 cd /opt/estados_orca/frontend/captura-frontend
\par \hich\af1\dbch\af31505\loch\f1 npm run build
\par {\listtext\pard\plain\ltrpar \rtlch\fcs1 \af0 \ltrch\fcs0 \f1\insrsid15421444\charrsid15421444 \hich\af1\dbch\af31505\loch\f1 2.\tab}}\pard \ltrpar\ql \fi-360\li720\ri0\nowidctlpar\jclisttab\tx720\wrapdefault\faauto\ls2\rin0\lin720\itap0\pararsid15421444 
{\rtlch\fcs1 \af1 \ltrch\fcs0 \f1\kerning0\insrsid15421444\charrsid15421444 \hich\af1\dbch\af31505\loch\f1 Publica el build al }{\rtlch\fcs1 \ab\af1 \ltrch\fcs0 \b\f1\kerning0\insrsid15421444\charrsid15421444 \hich\af1\dbch\af31505\loch\f1 DocumentRoot}{
\rtlch\fcs1 \af1 \ltrch\fcs0 \f1\kerning0\insrsid15421444\charrsid15421444 \hich\af1\dbch\af31505\loch\f1  ya configurado (/var/www/estados_frontend):
\par }\pard \ltrpar\ql \li0\ri0\nowidctlpar\wrapdefault\faauto\rin0\lin0\itap0\pararsid15421444 {\rtlch\fcs1 \af1 \ltrch\fcs0 \f1\kerning0\insrsid15421444\charrsid15421444 \hich\af1\dbch\af31505\loch\f1 sudo rsync -av --delete dist/ /var/www/estados_frontend/

\par {\listtext\pard\plain\ltrpar \rtlch\fcs1 \af0 \ltrch\fcs0 \f1\insrsid15421444\charrsid15421444 \hich\af1\dbch\af31505\loch\f1 3.\tab}}\pard \ltrpar\ql \fi-360\li720\ri0\nowidctlpar\jclisttab\tx720\wrapdefault\faauto\ls3\rin0\lin720\itap0\pararsid15421444 
{\rtlch\fcs1 \af1 \ltrch\fcs0 \f1\kerning0\insrsid15421444\charrsid15421444 \hich\af1\dbch\af31505\loch\f1 \hich\f1 (Opcional) Ajusta permisos si cambiaste due\'f1\loch\f1 o/umask:
\par }\pard \ltrpar\ql \li0\ri0\nowidctlpar\wrapdefault\faauto\rin0\lin0\itap0\pararsid15421444 {\rtlch\fcs1 \af1 \ltrch\fcs0 \f1\lang1033\langfe13322\kerning0\langnp1033\insrsid15421444\charrsid9772457 \hich\af1\dbch\af31505\loch\f1 
sudo chown -R www-data:www-data /var/www/estados_frontend
\par }{\rtlch\fcs1 \ab\af1 \ltrch\fcs0 \b\f1\kerning0\insrsid15421444\charrsid15421444 \hich\af1\dbch\af31505\loch\f1 No necesitas}{\rtlch\fcs1 \af1 \ltrch\fcs0 \f1\kerning0\insrsid15421444\charrsid15421444 \hich\af1\dbch\af31505\loch\f1 \hich\f1 
 systemctl reload apache2 salvo que cambies la configuraci\'f3\loch\f1 n de Apache/VHost.\line \hich\f1 Si no ves el cambio: forza recarga (Ctrl+F5 / modo inc\'f3\loch\f1 gnito) o curl -I -H 'Cache-Control: no-cache' https://estados.orcatecnologia.net/.

\par }\pard \ltrpar\ql \li0\ri0\nowidctlpar\wrapdefault\faauto\rin0\lin0\itap0 {\rtlch\fcs1 \af1 \ltrch\fcs0 \f1\kerning0\insrsid14967658 
\par }{\rtlch\fcs1 \af1 \ltrch\fcs0 \f1\kerning0\insrsid9772457 
\par 
\par }\pard \ltrpar\ql \li0\ri0\nowidctlpar\wrapdefault\faauto\rin0\lin0\itap0\pararsid9772457 {\rtlch\fcs1 \af1 \ltrch\fcs0 \f1\kerning0\insrsid9772457 \hich\af1\dbch\af31505\loch\f1 P\hich\af1\dbch\af31505\loch\f1 ara \hich\af1\dbch\af31505\loch\f1 
dockerizar: }{\rtlch\fcs1 \af1 \ltrch\fcs0 \f1\kerning0\insrsid9772457\charrsid9772457 \hich\af1\dbch\af31505\loch\f1 \hich\f1 S\'ed\loch\f1 \hich\f1 . Con lo que dejamos ya puedes subirlo a un servidor Ubuntu y correrlo con Docker. Te dejo un \'93
\loch\f1 \hich\f1 runbook\'94\loch\f1  corto para que funcione a la primera.
\par }{\rtlch\fcs1 \ab\af1 \ltrch\fcs0 \b\f1\kerning0\insrsid9772457\charrsid9772457 \hich\af1\dbch\af31505\loch\f1 Requisitos}{\rtlch\fcs1 \af1 \ltrch\fcs0 \f1\kerning0\insrsid9772457\charrsid9772457 
\par {\listtext\pard\plain\ltrpar \rtlch\fcs1 \af1 \ltrch\fcs0 \f3\fs20\insrsid9772457\charrsid9772457 \loch\af3\dbch\af31505\hich\f3 \'b7\tab}}\pard \ltrpar\ql \fi-360\li720\ri0\nowidctlpar
\jclisttab\tx720\wrapdefault\faauto\ls4\rin0\lin720\itap0\pararsid9772457 {\rtlch\fcs1 \af1 \ltrch\fcs0 \f1\kerning0\insrsid9772457\charrsid9772457 \hich\af1\dbch\af31505\loch\f1 Ubuntu 22.04/24.04 con Docker y Compose plugin:
\par {\listtext\pard\plain\ltrpar \rtlch\fcs1 \af1 \ltrch\fcs0 \f3\fs20\insrsid9772457\charrsid9772457 \loch\af3\dbch\af31505\hich\f3 \'b7\tab}}\pard \ltrpar\ql \fi-360\li1440\ri0\nowidctlpar
\jclisttab\tx1440\wrapdefault\faauto\ls4\ilvl1\rin0\lin1440\itap0\pararsid9772457 {\rtlch\fcs1 \af1 \ltrch\fcs0 \f1\kerning0\insrsid9772457\charrsid9772457 \hich\af1\dbch\af31505\loch\f1 sudo apt-get update && \hich\af1\dbch\af31505\loch\f1 
sudo apt-get install -y ca-certificates curl gnupg
\par {\listtext\pard\plain\ltrpar \rtlch\fcs1 \af1 \ltrch\fcs0 \f3\fs20\insrsid9772457\charrsid9772457 \loch\af3\dbch\af31505\hich\f3 \'b7\tab}\hich\af1\dbch\af31505\loch\f1 sudo install -m 0755 -d /etc/apt/keyrings
\par {\listtext\pard\plain\ltrpar \rtlch\fcs1 \af1 \ltrch\fcs0 \f3\fs20\insrsid9772457\charrsid9772457 \loch\af3\dbch\af31505\hich\f3 \'b7\tab}\hich\af1\dbch\af31505\loch\f1 curl -fsSL\~}{\field\fldedit{\*\fldinst {\rtlch\fcs1 \af1 \ltrch\fcs0 
\f1\kerning0\insrsid9772457\charrsid9772457 \hich\af1\dbch\af31505\loch\f1 HYPERLINK "https://download.docker.com/linux/ubuntu/gpg" \\t "_blank"}{\rtlch\fcs1 \af1 \ltrch\fcs0 \f1\kerning0\insrsid9772457\charrsid9772457 {\*\datafield }}}{\fldrslt {
\rtlch\fcs1 \af1 \ltrch\fcs0 \cs19\f1\ul\cf19\kerning0\insrsid9772457\charrsid9772457 \hich\af1\dbch\af31505\loch\f1 https://download.docker.com/linux/ubuntu/gpg}}}\sectd \ltrsect\linex0\sectdefaultcl\sftnbj {\rtlch\fcs1 \af1 \ltrch\fcs0 
\f1\kerning0\insrsid9772457\charrsid9772457 \~\hich\af1\dbch\af31505\loch\f1 | sudo gpg --dearmor -o /etc/apt/keyrings/docker.gpg
\par {\listtext\pard\plain\ltrpar \rtlch\fcs1 \af1 \ltrch\fcs0 \f3\fs20\insrsid9772457\charrsid9772457 \loch\af3\dbch\af31505\hich\f3 \'b7\tab}\hich\af1\dbch\af31505\loch\f1 echo "deb [arch=$(dpkg --print-architecture) signed-by=/etc/apt/keyrings/docker.gpg]\~
}{\field\fldedit{\*\fldinst {\rtlch\fcs1 \af1 \ltrch\fcs0 \f1\kerning0\insrsid9772457\charrsid9772457 \hich\af1\dbch\af31505\loch\f1 HYPERLINK "https://download.docker.com/linux/ubuntu" \\t "_blank"}{\rtlch\fcs1 \af1 \ltrch\fcs0 
\f1\kerning0\insrsid9772457\charrsid9772457 {\*\datafield }}}{\fldrslt {\rtlch\fcs1 \af1 \ltrch\fcs0 \cs19\f1\ul\cf19\kerning0\insrsid9772457\charrsid9772457 \hich\af1\dbch\af31505\loch\f1 https://download.docker.com/linux/ubuntu}}}\sectd \ltrsect
\linex0\sectdefaultcl\sftnbj {\rtlch\fcs1 \af1 \ltrch\fcs0 \f1\kerning0\insrsid9772457\charrsid9772457 \~\hich\af1\dbch\af31505\loch\f1 $(. /etc/os-release; echo $VERSION_CODENAME) stable" | sudo tee /etc/apt/sources.list.d/docker.list > /dev/null
\par {\listtext\pard\plain\ltrpar \rtlch\fcs1 \af1 \ltrch\fcs0 \f3\fs20\insrsid9772457\charrsid9772457 \loch\af3\dbch\af31505\hich\f3 \'b7\tab}\hich\af1\dbch\af31505\loch\f1 
sudo apt-get update && sudo apt-get install -y docker-ce docker-ce-cli containerd.io docker-buildx-plugin docker-compose-plugin
\par }\pard \ltrpar\ql \li0\ri0\nowidctlpar\wrapdefault\faauto\rin0\lin0\itap0\pararsid9772457 {\rtlch\fcs1 \ab\af1 \ltrch\fcs0 \b\f1\kerning0\insrsid9772457\charrsid9772457 \hich\af1\dbch\af31505\loch\f1 Despliegue}{\rtlch\fcs1 \af1 \ltrch\fcs0 
\f1\kerning0\insrsid9772457\charrsid9772457 
\par {\listtext\pard\plain\ltrpar \rtlch\fcs1 \af1 \ltrch\fcs0 \f3\fs20\insrsid9772457\charrsid9772457 \loch\af3\dbch\af31505\hich\f3 \'b7\tab}}\pard \ltrpar\ql \fi-360\li720\ri0\nowidctlpar
\jclisttab\tx720\wrapdefault\faauto\ls5\rin0\lin720\itap0\pararsid9772457 {\rtlch\fcs1 \af1 \ltrch\fcs0 \f1\kerning0\insrsid9772457\charrsid9772457 \hich\af1\dbch\af31505\loch\f1 Copia el repo al servidor (git clone o scp).
\par {\listtext\pard\plain\ltrpar \rtlch\fcs1 \af1 \ltrch\fcs0 \f3\fs20\insrsid9772457\charrsid9772457 \loch\af3\dbch\af31505\hich\f3 \'b7\tab}\hich\af1\dbch\af31505\loch\f1 Crea y ajusta envs:
\par {\listtext\pard\plain\ltrpar \rtlch\fcs1 \af1 \ltrch\fcs0 \f3\fs20\insrsid9772457\charrsid9772457 \loch\af3\dbch\af31505\hich\f3 \'b7\tab}}\pard \ltrpar\ql \fi-360\li1440\ri0\nowidctlpar
\jclisttab\tx1440\wrapdefault\faauto\ls5\ilvl1\rin0\lin1440\itap0\pararsid9772457 {\rtlch\fcs1 \af1 \ltrch\fcs0 \f1\kerning0\insrsid9772457\charrsid9772457 \hich\af1\dbch\af31505\loch\f1 cp env/.backend.env.example env/.backend.env
\par {\listtext\pard\plain\ltrpar \rtlch\fcs1 \af1 \ltrch\fcs0 \f3\fs20\insrsid9772457\charrsid9772457 \loch\af3\dbch\af31505\hich\f3 \'b7\tab}\hich\af1\dbch\af31505\loch\f1 Edita\~\hich\af1\dbch\af31505\loch\f1 env/.backend.env\hich\af1\dbch\af31505\loch\f1 :

\par {\listtext\pard\plain\ltrpar \rtlch\fcs1 \af1 \ltrch\fcs0 \f3\fs20\insrsid9772457\charrsid9772457 \loch\af3\dbch\af31505\hich\f3 \'b7\tab}}\pard \ltrpar\ql \fi-360\li2160\ri0\nowidctlpar
\jclisttab\tx2160\wrapdefault\faauto\ls5\ilvl2\rin0\lin2160\itap0\pararsid9772457 {\rtlch\fcs1 \af1 \ltrch\fcs0 \f1\kerning0\insrsid9772457\charrsid9772457 \hich\af1\dbch\af31505\loch\f1 DATABASE_URL\hich\af1\dbch\af31505\loch\f1 
: si usas el Postgres del compose, deja\~\hich\af1\dbch\af31505\loch\f1 postgresql+asyncpg://orca:change_me@db:5432/bdcentros\~\hich\af1\dbch\af31505\loch\f1 \hich\f1 (cambia la contrase\'f1\loch\f1 a).
\par {\listtext\pard\plain\ltrpar \rtlch\fcs1 \af1 \ltrch\fcs0 \f3\fs20\insrsid9772457\charrsid9772457 \loch\af3\dbch\af31505\hich\f3 \'b7\tab}\hich\af1\dbch\af31505\loch\f1 ALLOWED_ORIGINS\hich\af1\dbch\af31505\loch\f1 : pon el dominio del frontend (ej.\~}
{\field\fldedit{\*\fldinst {\rtlch\fcs1 \af1 \ltrch\fcs0 \f1\kerning0\insrsid9772457\charrsid9772457 \hich\af1\dbch\af31505\loch\f1 HYPERLINK "https://app.tu-dominio.com/" \\t "_blank"}{\rtlch\fcs1 \af1 \ltrch\fcs0 
\f1\kerning0\insrsid9772457\charrsid9772457 {\*\datafield }}}{\fldrslt {\rtlch\fcs1 \af1 \ltrch\fcs0 \cs19\f1\ul\cf19\kerning0\insrsid9772457\charrsid9772457 \hich\af1\dbch\af31505\loch\f1 https://app.tu-dominio.com}}}\sectd \ltrsect
\linex0\sectdefaultcl\sftnbj {\rtlch\fcs1 \af1 \ltrch\fcs0 \f1\kerning0\insrsid9772457\charrsid9772457 \hich\af1\dbch\af31505\loch\f1 ).
\par {\listtext\pard\plain\ltrpar \rtlch\fcs1 \af1 \ltrch\fcs0 \f3\fs20\insrsid9772457\charrsid9772457 \loch\af3\dbch\af31505\hich\f3 \'b7\tab}}\pard \ltrpar\ql \fi-360\li1440\ri0\nowidctlpar
\jclisttab\tx1440\wrapdefault\faauto\ls5\ilvl1\rin0\lin1440\itap0\pararsid9772457 {\rtlch\fcs1 \af1 \ltrch\fcs0 \f1\kerning0\insrsid9772457\charrsid9772457 \hich\af1\dbch\af31505\loch\f1 Define\~\hich\af1\dbch\af31505\loch\f1 VITE_API_BASE\~
\hich\af1\dbch\af31505\loch\f1 \hich\f1 (URL p\'fa\loch\f1 blica del backend) de una de estas formas:
\par {\listtext\pard\plain\ltrpar \rtlch\fcs1 \af1 \ltrch\fcs0 \f3\fs20\insrsid9772457\charrsid9772457 \loch\af3\dbch\af31505\hich\f3 \'b7\tab}}\pard \ltrpar\ql \fi-360\li2160\ri0\nowidctlpar
\jclisttab\tx2160\wrapdefault\faauto\ls5\ilvl2\rin0\lin2160\itap0\pararsid9772457 {\rtlch\fcs1 \af1 \ltrch\fcs0 \f1\kerning0\insrsid9772457\charrsid9772457 \hich\af1\dbch\af31505\loch\f1 \hich\f1 Opci\'f3\loch\f1 \hich\f1 n r\'e1\loch\f1 
pida en shell: export VITE_API_BASE=http://TU_IP_O_DOMINIO:8000
\par {\listtext\pard\plain\ltrpar \rtlch\fcs1 \af1 \ltrch\fcs0 \f3\fs20\insrsid9772457\charrsid9772457 \loch\af3\dbch\af31505\hich\f3 \'b7\tab}\hich\af1\dbch\af31505\loch\f1 O crea un\~\hich\af1\dbch\af31505\loch\f1 .env\~\hich\af1\dbch\af31505\loch\f1 
\hich\f1 en la ra\'ed\loch\f1 z del repo con:\~\hich\af1\dbch\af31505\loch\f1 VITE_API_BASE=http://TU_IP_O_DOMINIO (line 8000)
\par {\listtext\pard\plain\ltrpar \rtlch\fcs1 \af1 \ltrch\fcs0 \f3\fs20\insrsid9772457\charrsid9772457 \loch\af3\dbch\af31505\hich\f3 \'b7\tab}}\pard \ltrpar\ql \fi-360\li720\ri0\nowidctlpar
\jclisttab\tx720\wrapdefault\faauto\ls5\rin0\lin720\itap0\pararsid9772457 {\rtlch\fcs1 \af1 \ltrch\fcs0 \f1\kerning0\insrsid9772457\charrsid9772457 \hich\af1\dbch\af31505\loch\f1 Build y levantar:
\par {\listtext\pard\plain\ltrpar \rtlch\fcs1 \af1 \ltrch\fcs0 \f3\fs20\insrsid9772457\charrsid9772457 \loch\af3\dbch\af31505\hich\f3 \'b7\tab}}\pard \ltrpar\ql \fi-360\li1440\ri0\nowidctlpar
\jclisttab\tx1440\wrapdefault\faauto\ls5\ilvl1\rin0\lin1440\itap0\pararsid9772457 {\rtlch\fcs1 \af1 \ltrch\fcs0 \f1\kerning0\insrsid9772457\charrsid9772457 \hich\af1\dbch\af31505\loch\f1 docker compose build --build-arg VITE_API_BASE=$VITE_API_BASE
\par {\listtext\pard\plain\ltrpar \rtlch\fcs1 \af1 \ltrch\fcs0 \f3\fs20\insrsid9772457\charrsid9772457 \loch\af3\dbch\af31505\hich\f3 \'b7\tab}\hich\af1\dbch\af31505\loch\f1 docker compose up -d
\par {\listtext\pard\plain\ltrpar \rtlch\fcs1 \af1 \ltrch\fcs0 \f3\fs20\insrsid9772457\charrsid9772457 \loch\af3\dbch\af31505\hich\f3 \'b7\tab}}\pard \ltrpar\ql \fi-360\li720\ri0\nowidctlpar
\jclisttab\tx720\wrapdefault\faauto\ls5\rin0\lin720\itap0\pararsid9772457 {\rtlch\fcs1 \af1 \ltrch\fcs0 \f1\kerning0\insrsid9772457\charrsid9772457 \hich\af1\dbch\af31505\loch\f1 \hich\f1 Verificaci\'f3\loch\f1 \hich\f1 n r\'e1\loch\f1 pida:
\par {\listtext\pard\plain\ltrpar \rtlch\fcs1 \af1 \ltrch\fcs0 \f3\fs20\insrsid9772457\charrsid9772457 \loch\af3\dbch\af31505\hich\f3 \'b7\tab}}\pard \ltrpar\ql \fi-360\li1440\ri0\nowidctlpar
\jclisttab\tx1440\wrapdefault\faauto\ls5\ilvl1\rin0\lin1440\itap0\pararsid9772457 {\rtlch\fcs1 \af1 \ltrch\fcs0 \f1\kerning0\insrsid9772457\charrsid9772457 \hich\af1\dbch\af31505\loch\f1 curl\~}{\field\fldedit{\*\fldinst {\rtlch\fcs1 \af1 \ltrch\fcs0 
\f1\kerning0\insrsid9772457\charrsid9772457 \hich\af1\dbch\af31505\loch\f1 HYPERLINK "http://127.0.0.1:8000/health" \\t "_blank"}{\rtlch\fcs1 \af1 \ltrch\fcs0 \f1\kerning0\insrsid9772457\charrsid9772457 {\*\datafield }}}{\fldrslt {\rtlch\fcs1 \af1 
\ltrch\fcs0 \cs19\f1\ul\cf19\kerning0\insrsid9772457\charrsid9772457 \hich\af1\dbch\af31505\loch\f1 http://127.0.0.1:8000/health}}}\sectd \ltrsect\linex0\sectdefaultcl\sftnbj {\rtlch\fcs1 \af1 \ltrch\fcs0 \f1\kerning0\insrsid9772457\charrsid9772457 \~
\loch\af1\dbch\af31505\hich\f1 \u8594\'3f\loch\f1  \{"status":"ok"\}
\par {\listtext\pard\plain\ltrpar \rtlch\fcs1 \af1 \ltrch\fcs0 \f3\fs20\insrsid9772457\charrsid9772457 \loch\af3\dbch\af31505\hich\f3 \'b7\tab}\hich\af1\dbch\af31505\loch\f1 Abre el frontend: http://TU_IP:8080
\par }\pard \ltrpar\ql \li0\ri0\nowidctlpar\wrapdefault\faauto\rin0\lin0\itap0\pararsid9772457 {\rtlch\fcs1 \ab\af1 \ltrch\fcs0 \b\f1\kerning0\insrsid9772457\charrsid9772457 \hich\af1\dbch\af31505\loch\f1 Puertos y seguridad}{\rtlch\fcs1 \af1 \ltrch\fcs0 
\f1\kerning0\insrsid9772457\charrsid9772457 
\par {\listtext\pard\plain\ltrpar \rtlch\fcs1 \af1 \ltrch\fcs0 \f3\fs20\insrsid9772457\charrsid9772457 \loch\af3\dbch\af31505\hich\f3 \'b7\tab}}\pard \ltrpar\ql \fi-360\li720\ri0\nowidctlpar
\jclisttab\tx720\wrapdefault\faauto\ls6\rin0\lin720\itap0\pararsid9772457 {\rtlch\fcs1 \af1 \ltrch\fcs0 \f1\kerning0\insrsid9772457\charrsid9772457 \hich\af1\dbch\af31505\loch\f1 \hich\f1 En pruebas: abre 8080 (frontend) y 8000 (backend). En producci\'f3
\loch\f1 \hich\f1 n, lo normal es publicar solo el frontend tras un proxy TLS (Nginx/Caddy/Traefik) y mantener el backend detr\'e1\loch\f1 s de red interna.
\par {\listtext\pard\plain\ltrpar \rtlch\fcs1 \af1 \ltrch\fcs0 \f3\fs20\insrsid9772457\charrsid9772457 \loch\af3\dbch\af31505\hich\f3 \'b7\tab}\hich\af1\dbch\af31505\loch\f1 \hich\f1 Ajusta UFW si lo usas: sudo ufw allow 8080, sudo ufw allow 8000 (o ci\'e9
\loch\f1 rralos si pones proxy).
\par }\pard \ltrpar\ql \li0\ri0\nowidctlpar\wrapdefault\faauto\rin0\lin0\itap0\pararsid9772457 {\rtlch\fcs1 \ab\af1 \ltrch\fcs0 \b\f1\kerning0\insrsid9772457\charrsid9772457 \hich\af1\dbch\af31505\loch\f1 Notas importantes}{\rtlch\fcs1 \af1 \ltrch\fcs0 
\f1\kerning0\insrsid9772457\charrsid9772457 
\par {\listtext\pard\plain\ltrpar \rtlch\fcs1 \af1 \ltrch\fcs0 \f3\fs20\insrsid9772457\charrsid9772457 \loch\af3\dbch\af31505\hich\f3 \'b7\tab}}\pard \ltrpar\ql \fi-360\li720\ri0\nowidctlpar
\jclisttab\tx720\wrapdefault\faauto\ls7\rin0\lin720\itap0\pararsid9772457 {\rtlch\fcs1 \af1 \ltrch\fcs0 \f1\kerning0\insrsid9772457\charrsid9772457 \hich\af1\dbch\af31505\loch\f1 \hich\f1 CORS: aseg\'fa\loch\f1 rate que\~\hich\af1\dbch\af31505\loch\f1 
ALLOWED_ORIGINS\~\hich\af1\dbch\af31505\loch\f1 \hich\f1 incluye exactamente el origen del frontend en producci\'f3\loch\f1 n.
\par {\listtext\pard\plain\ltrpar \rtlch\fcs1 \af1 \ltrch\fcs0 \f3\fs20\insrsid9772457\charrsid9772457 \loch\af3\dbch\af31505\hich\f3 \'b7\tab}\hich\af1\dbch\af31505\loch\f1 Postgres: el compose trae un servicio\~\hich\af1\dbch\af31505\loch\f1 db\~
\hich\af1\dbch\af31505\loch\f1 \hich\f1 con volumen persistente; cambia la contrase\'f1\loch\f1 \hich\f1 a por defecto. Si usar\'e1\loch\f1 s una BD externa, elimina el servicio\~\hich\af1\dbch\af31505\loch\f1 db\~\hich\af1\dbch\af31505\loch\f1 
del compose y apunta\~\hich\af1\dbch\af31505\loch\f1 DATABASE_URL\~\hich\af1\dbch\af31505\loch\f1 a tu servidor.
\par {\listtext\pard\plain\ltrpar \rtlch\fcs1 \af1 \ltrch\fcs0 \f3\fs20\insrsid9772457\charrsid9772457 \loch\af3\dbch\af31505\hich\f3 \'b7\tab}\hich\af1\dbch\af31505\loch\f1 
Workers: el backend corre con 1 worker (recomendado hoy por el estado/colas en memoria). Si luego quieres escalar, movemos\~\hich\af1\dbch\af31505\loch\f1 netio_*\~\hich\af1\dbch\af31505\loch\f1 a Redis.
\par {\listtext\pard\plain\ltrpar \rtlch\fcs1 \af1 \ltrch\fcs0 \f3\fs20\insrsid9772457\charrsid9772457 \loch\af3\dbch\af31505\hich\f3 \'b7\tab}\hich\af1\dbch\af31505\loch\f1 Logs: docker compose logs -f backend, docker compose logs -f frontend
\par {\listtext\pard\plain\ltrpar \rtlch\fcs1 \af1 \ltrch\fcs0 \f3\fs20\insrsid9772457\charrsid9772457 \loch\af3\dbch\af31505\hich\f3 \'b7\tab}\hich\af1\dbch\af31505\loch\f1 Actualizar: docker compose build --no-cache && docker compose up -d
\par }\pard \ltrpar\ql \li0\ri0\nowidctlpar\wrapdefault\faauto\rin0\lin0\itap0\pararsid9772457 {\rtlch\fcs1 \af1 \ltrch\fcs0 \f1\kerning0\insrsid9772457\charrsid9772457 \loch\af1\dbch\af31505\hich\f1 \'bf\loch\f1 Quieres que:
\par {\listtext\pard\plain\ltrpar \rtlch\fcs1 \af1 \ltrch\fcs0 \f3\fs20\insrsid9772457\charrsid9772457 \loch\af3\dbch\af31505\hich\f3 \'b7\tab}}\pard \ltrpar\ql \fi-360\li720\ri0\nowidctlpar
\jclisttab\tx720\wrapdefault\faauto\ls8\rin0\lin720\itap0\pararsid9772457 {\rtlch\fcs1 \af1 \ltrch\fcs0 \f1\kerning0\insrsid9772457\charrsid9772457 \hich\af1\dbch\af31505\loch\f1 Prepare un\~\hich\af1\dbch\af31505\loch\f1 .env\~
\hich\af1\dbch\af31505\loch\f1 \hich\f1 en la ra\'ed\loch\f1 z para simplificar el build y evitar export en shell?
\par {\listtext\pard\plain\ltrpar \rtlch\fcs1 \af1 \ltrch\fcs0 \f3\fs20\insrsid9772457\charrsid9772457 \loch\af3\dbch\af31505\hich\f3 \'b7\tab}\hich\af1\dbch\af31505\loch\f1 \hich\f1 A\'f1\loch\f1 \hich\f1 ada un compose \'93\loch\f1 \hich\f1 prod\'94\loch\f1 
 con Nginx reverse proxy + TLS (Let\hich\f1 \rquote \loch\f1 s Encrypt) para exponer solo 80/443?
\par {\listtext\pard\plain\ltrpar \rtlch\fcs1 \af1 \ltrch\fcs0 \f3\fs20\insrsid9772457\charrsid9772457 \loch\af3\dbch\af31505\hich\f3 \'b7\tab}\hich\af1\dbch\af31505\loch\f1 Quite el servicio\~\hich\af1\dbch\af31505\loch\f1 db\~\hich\af1\dbch\af31505\loch\f1 
y deje apuntado a tu Postgres externo?
\par }\pard \ltrpar\ql \li0\ri0\nowidctlpar\wrapdefault\faauto\rin0\lin0\itap0 {\rtlch\fcs1 \af1 \ltrch\fcs0 \f1\kerning0\insrsid9772457 
\par }{\*\themedata 504b030414000600080000002100e9de0fbfff0000001c020000130000005b436f6e74656e745f54797065735d2e786d6cac91cb4ec3301045f748fc83e52d4a
9cb2400825e982c78ec7a27cc0c8992416c9d8b2a755fbf74cd25442a820166c2cd933f79e3be372bd1f07b5c3989ca74aaff2422b24eb1b475da5df374fd9ad
5689811a183c61a50f98f4babebc2837878049899a52a57be670674cb23d8e90721f90a4d2fa3802cb35762680fd800ecd7551dc18eb899138e3c943d7e503b6
b01d583deee5f99824e290b4ba3f364eac4a430883b3c092d4eca8f946c916422ecab927f52ea42b89a1cd59c254f919b0e85e6535d135a8de20f20b8c12c3b0
0c895fcf6720192de6bf3b9e89ecdbd6596cbcdd8eb28e7c365ecc4ec1ff1460f53fe813d3cc7f5b7f020000ffff0300504b030414000600080000002100a5d6
a7e7c0000000360100000b0000005f72656c732f2e72656c73848fcf6ac3300c87ef85bd83d17d51d2c31825762fa590432fa37d00e1287f68221bdb1bebdb4f
c7060abb0884a4eff7a93dfeae8bf9e194e720169aaa06c3e2433fcb68e1763dbf7f82c985a4a725085b787086a37bdbb55fbc50d1a33ccd311ba548b6309512
0f88d94fbc52ae4264d1c910d24a45db3462247fa791715fd71f989e19e0364cd3f51652d73760ae8fa8c9ffb3c330cc9e4fc17faf2ce545046e37944c69e462
a1a82fe353bd90a865aad41ed0b5b8f9d6fd010000ffff0300504b0304140006000800000021006b799616830000008a0000001c0000007468656d652f746865
6d652f7468656d654d616e616765722e786d6c0ccc4d0ac3201040e17da17790d93763bb284562b2cbaebbf600439c1a41c7a0d29fdbd7e5e38337cedf14d59b
4b0d592c9c070d8a65cd2e88b7f07c2ca71ba8da481cc52c6ce1c715e6e97818c9b48d13df49c873517d23d59085adb5dd20d6b52bd521ef2cdd5eb9246a3d8b
4757e8d3f729e245eb2b260a0238fd010000ffff0300504b03041400060008000000210091474242050800000f220000160000007468656d652f7468656d652f
7468656d65312e786d6cec5a4f6f1bb915bf17e87720e6ae78662cc9921165a1bff1267662444a8a3dd212a561cc190a43cab6b058a0c89e7a5960816dd14317
e8ad87a2e8025da08b5efa61022468b71fa28fe468444a54fc07411114b62f33d4ef3dfef8dee37b6f38f3f0b3ab94a10b920bcab356103d080344b2319fd06c
d60a5e8e0695468084c4d904339e9156b02422f8ecd12f7ff1101fca84a404817c260e712b48a49c1feeed89310c63f180cf4906bf4d799e6209b7f96c6f92e3
4bd09bb2bd380ceb7b29a65980329c82da11c8a00941cfa7533a26c1a395fa3e83393229d4c098e543a59c14321676721e2984588a2ecbd10566ad00669af0cb
11b99201625848f8a11584fa2fd87bf4700f1f16424cee90b5e406faaf902b0426e7b19e339f9d959386fdb8518d4afd1ac0e436aedf50ffa53e0dc0e331acd4
70b17546b57ad8880bac0532971eddcd8368dfc55bfaf7b73847cd7a27ae3afa35c8e8af6ee1c341b3dfab39780d32f8da16be1dc69de6be83d72083af6fe1ab
fdf641dc77f01a94309a9d6fa3eb078d46bd4097902967475e78b35e0f0f7a057c8d826828a34b4d31e599dc156b297ecdf30100149061493324977332c56388
e3f65c72817a54cc195e06688e332e60388ca30842af1ac6e5bfb6383e24d89256bc8089d81a527c9018e7742e5bc113d01a5890773ffdf4f6cd8f6fdffcfded
d75fbf7df357744c678934aa1cb9239ccd6cb99ffff4ed7fbeff35faf7dffef8f377bff5e3858d7fff97dfbcffc73f3fa41eb6dada14ef7ef7c3fb1f7f78f7fb
6ffef5e7ef3cdadb393eb3e1239a12819e914bf482a7b0406d0a973f39cb6f27314a30b525dad94ce00cab593cfafb3271d0cf9698610fae435c3bbeca21d5f8
808f17af1dc2c3245f48ead1f834491de009e7acc373af159eaab92c338f16d9cc3f79beb0712f30bef0cdddc599e3e5fe620e3996fa547613e2d03c65389378
46322291fa8d9f13e259dd17943a763da1e39c0b3e95e80b8a3a987a4d32a2674e34ad858e680a7e59fa0882bf1ddb9cbc421dce7cabee910b17097b03330ff9
11618e191fe385c4a94fe508a7cc36f83196898fe470998f6d5c5f48f0f48c308efa1322844fe6790eebb59cfe144376f3bafd842d5317994b7aeed3798c39b7
913d7ede4d703af76187344b6cece7e21c4214a3532e7df013eeee10750f7ec0d94e77bfa2c471f7f5d9e02564399bd23a40d42f8bdce3cbc7843bf13b5cb229
26be54d3ce5327c5b673ea8d8ece62e684f631210c5fe20921e8e5e71e061d3e776cbe26fd2481ac72447c81f504bbb1aaee332208d2cdcd769e3ca6c209d921
99f11d7c4e961b896789b314e7bb343f03afdb36ef9fe5b0193deb7ccec6e736f019852e10e2c56b94e7027458c1bd53eb69829d02a6ee853f5e97b9e3bf9bec
31d897af1d1a37d89720436e2d0389dd96f9a06d46983913ac036684293af6a55b1071dcbf1651c5558b2dbc725377d3aedd00dd91d3f4a434bba603fadf753e
d05fbcfbc3f79e10fc38dd8e5fb193aa6ed9e7ec4a25471bddcd2edc664fd3e5f9847efa2d4d0f2fb2530255643b5fdd7734f71d4df07fdfd1ecdacff77dccae
6ee3be8f09a0bfb8ef638aa3958fd3c7ac5b17e86ad4f18239e6d1873ee9ce339f29656c28978c1c0b7dec23e0696632804125a74f3c497906384fe052953998
c0c1cd72ac6550cee5afa84c86099ec3d9501428253351a89e0934e7028e8cf4b057b7c2b3457ac227e6a8539f2d85a6b20a2cd7e3610d0e9dcc381c534983ae
1f14838a9f3e4f05be9aed4c1fb3ae0828d9db90b0267349ec7b481cac06af21a14ecd3e0e8ba6874543a95fb96acb1440adf40a3c6e2378486f05b5aa2204a7
e4620cadf944f9c9b87ae55dedcc8fe9e95dc67422008e15cd4ae058bef4745371ddb93cb53a136a37f0b443423bc584954b425b463778228187e0223ad5e84d
68dcd6d7cdb54b1d7aca147a3e88ef358d83c68758dcd5d720b7991b5866670a96a14bd8e3316cba008df1bc154ce1cc182ed339048f508f5c98cde0d5cb58e6
66c7df25b5cc73217b5824c6e23aeb18ffa454921c319ab602b5fed20f2cd349c4906bc2d6fd54c9c56ac37d6ae4c0ebae97c9744ac6d2f6bb35a22c6d6e21c5
9b64e1fd558bdf1dac24f902dc3d4c2697e88c2df2171842ac761029ef4ea88057079171f584c2bbb03293ade36fa33215d9df7e19a563c88c63364f705152ec
6c6ee0baa09474f45d6903ebae583318d432495109cf66aac2da4675ca6959bb0c879d65f77a2165392b6bae8ba6935654d9f4a7316786551dd8b0e5ddaabcc5
6a6562486a768937b97b33e73657c96ea35128cb0418bcb4dfdd6abf456d3d99434d31decec32a6917a36ef1582df01a6a37a91256daafafd46ed8ad2c12dee9
60f04ea51fe436a31686a6abc6525b5abf36b7df6bf3b3d7903c7ad0e62e9879d3cd32b8535129e6a7b9f6ed199f2c8b4b264ca2313e574da942b2ec0599223a
b96a05b1af73346f5ba3a21bd06825a68a5729e8edf65cc102af44cd862d854d8097416536a52b5c4ae899a1f72e85f589a28fb6bc5a5156bd3ae0b509855935
98b6b0145c6d5b115efde7187adba1eeec4cee05da57b2c82f708516396d055f86b576b51bd7ba95b051eb57aafbd5b0d2a8b5f72bed5a6d3fead7a2b0d789bf
027a3249a39af9ee61002f81d8b2f8fa418f6f7d0191aede733d18f3748feb2f1bf6b4f7f5171051ec7c0161be664023f58143008e045a713faac6edb85be9f6
a27aa51af7ea95c6c17ebbd28debbdb80d45bb3e687f15a00b0d8e3abdde60508b2bf52ee0aa61bb566977f6bb957aa3df890751bfda0b015c949f2b788a019b
ad6c01979ad7a3ff020000ffff0300504b0304140006000800000021000dd1909fb60000001b010000270000007468656d652f7468656d652f5f72656c732f74
68656d654d616e616765722e786d6c2e72656c73848f4d0ac2301484f78277086f6fd3ba109126dd88d0add40384e4350d363f2451eced0dae2c082e8761be99
69bb979dc9136332de3168aa1a083ae995719ac16db8ec8e4052164e89d93b64b060828e6f37ed1567914b284d262452282e3198720e274a939cd08a54f980ae
38a38f56e422a3a641c8bbd048f7757da0f19b017cc524bd62107bd5001996509affb3fd381a89672f1f165dfe514173d9850528a2c6cce0239baa4c04ca5bba
bac4df000000ffff0300504b01022d0014000600080000002100e9de0fbfff0000001c0200001300000000000000000000000000000000005b436f6e74656e74
5f54797065735d2e786d6c504b01022d0014000600080000002100a5d6a7e7c0000000360100000b00000000000000000000000000300100005f72656c732f2e
72656c73504b01022d00140006000800000021006b799616830000008a0000001c00000000000000000000000000190200007468656d652f7468656d652f7468
656d654d616e616765722e786d6c504b01022d001400060008000000210091474242050800000f2200001600000000000000000000000000d60200007468656d
652f7468656d652f7468656d65312e786d6c504b01022d00140006000800000021000dd1909fb60000001b01000027000000000000000000000000000f0b00007468656d652f7468656d652f5f72656c732f7468656d654d616e616765722e786d6c2e72656c73504b050600000000050005005d0100000a0c00000000}
{\*\colorschememapping 3c3f786d6c2076657273696f6e3d22312e302220656e636f64696e673d225554462d3822207374616e64616c6f6e653d22796573223f3e0d0a3c613a636c724d
617020786d6c6e733a613d22687474703a2f2f736368656d61732e6f70656e786d6c666f726d6174732e6f72672f64726177696e676d6c2f323030362f6d6169
6e22206267313d226c743122207478313d22646b3122206267323d226c743222207478323d22646b322220616363656e74313d22616363656e74312220616363
656e74323d22616363656e74322220616363656e74333d22616363656e74332220616363656e74343d22616363656e74342220616363656e74353d22616363656e74352220616363656e74363d22616363656e74362220686c696e6b3d22686c696e6b2220666f6c486c696e6b3d22666f6c486c696e6b222f3e}
{\*\latentstyles\lsdstimax376\lsdlockeddef0\lsdsemihiddendef0\lsdunhideuseddef0\lsdqformatdef0\lsdprioritydef99{\lsdlockedexcept \lsdqformat1 \lsdpriority0 \lsdlocked0 Normal;\lsdqformat1 \lsdpriority9 \lsdlocked0 heading 1;
\lsdsemihidden1 \lsdunhideused1 \lsdqformat1 \lsdpriority9 \lsdlocked0 heading 2;\lsdsemihidden1 \lsdunhideused1 \lsdqformat1 \lsdpriority9 \lsdlocked0 heading 3;\lsdsemihidden1 \lsdunhideused1 \lsdqformat1 \lsdpriority9 \lsdlocked0 heading 4;
\lsdsemihidden1 \lsdunhideused1 \lsdqformat1 \lsdpriority9 \lsdlocked0 heading 5;\lsdsemihidden1 \lsdunhideused1 \lsdqformat1 \lsdpriority9 \lsdlocked0 heading 6;\lsdsemihidden1 \lsdunhideused1 \lsdqformat1 \lsdpriority9 \lsdlocked0 heading 7;
\lsdsemihidden1 \lsdunhideused1 \lsdqformat1 \lsdpriority9 \lsdlocked0 heading 8;\lsdsemihidden1 \lsdunhideused1 \lsdqformat1 \lsdpriority9 \lsdlocked0 heading 9;\lsdsemihidden1 \lsdunhideused1 \lsdlocked0 index 1;
\lsdsemihidden1 \lsdunhideused1 \lsdlocked0 index 2;\lsdsemihidden1 \lsdunhideused1 \lsdlocked0 index 3;\lsdsemihidden1 \lsdunhideused1 \lsdlocked0 index 4;\lsdsemihidden1 \lsdunhideused1 \lsdlocked0 index 5;
\lsdsemihidden1 \lsdunhideused1 \lsdlocked0 index 6;\lsdsemihidden1 \lsdunhideused1 \lsdlocked0 index 7;\lsdsemihidden1 \lsdunhideused1 \lsdlocked0 index 8;\lsdsemihidden1 \lsdunhideused1 \lsdlocked0 index 9;
\lsdsemihidden1 \lsdunhideused1 \lsdpriority39 \lsdlocked0 toc 1;\lsdsemihidden1 \lsdunhideused1 \lsdpriority39 \lsdlocked0 toc 2;\lsdsemihidden1 \lsdunhideused1 \lsdpriority39 \lsdlocked0 toc 3;
\lsdsemihidden1 \lsdunhideused1 \lsdpriority39 \lsdlocked0 toc 4;\lsdsemihidden1 \lsdunhideused1 \lsdpriority39 \lsdlocked0 toc 5;\lsdsemihidden1 \lsdunhideused1 \lsdpriority39 \lsdlocked0 toc 6;
\lsdsemihidden1 \lsdunhideused1 \lsdpriority39 \lsdlocked0 toc 7;\lsdsemihidden1 \lsdunhideused1 \lsdpriority39 \lsdlocked0 toc 8;\lsdsemihidden1 \lsdunhideused1 \lsdpriority39 \lsdlocked0 toc 9;\lsdsemihidden1 \lsdunhideused1 \lsdlocked0 Normal Indent;
\lsdsemihidden1 \lsdunhideused1 \lsdlocked0 footnote text;\lsdsemihidden1 \lsdunhideused1 \lsdlocked0 annotation text;\lsdsemihidden1 \lsdunhideused1 \lsdlocked0 header;\lsdsemihidden1 \lsdunhideused1 \lsdlocked0 footer;
\lsdsemihidden1 \lsdunhideused1 \lsdlocked0 index heading;\lsdsemihidden1 \lsdunhideused1 \lsdqformat1 \lsdpriority35 \lsdlocked0 caption;\lsdsemihidden1 \lsdunhideused1 \lsdlocked0 table of figures;
\lsdsemihidden1 \lsdunhideused1 \lsdlocked0 envelope address;\lsdsemihidden1 \lsdunhideused1 \lsdlocked0 envelope return;\lsdsemihidden1 \lsdunhideused1 \lsdlocked0 footnote reference;\lsdsemihidden1 \lsdunhideused1 \lsdlocked0 annotation reference;
\lsdsemihidden1 \lsdunhideused1 \lsdlocked0 line number;\lsdsemihidden1 \lsdunhideused1 \lsdlocked0 page number;\lsdsemihidden1 \lsdunhideused1 \lsdlocked0 endnote reference;\lsdsemihidden1 \lsdunhideused1 \lsdlocked0 endnote text;
\lsdsemihidden1 \lsdunhideused1 \lsdlocked0 table of authorities;\lsdsemihidden1 \lsdunhideused1 \lsdlocked0 macro;\lsdsemihidden1 \lsdunhideused1 \lsdlocked0 toa heading;\lsdsemihidden1 \lsdunhideused1 \lsdlocked0 List;
\lsdsemihidden1 \lsdunhideused1 \lsdlocked0 List Bullet;\lsdsemihidden1 \lsdunhideused1 \lsdlocked0 List Number;\lsdsemihidden1 \lsdunhideused1 \lsdlocked0 List 2;\lsdsemihidden1 \lsdunhideused1 \lsdlocked0 List 3;
\lsdsemihidden1 \lsdunhideused1 \lsdlocked0 List 4;\lsdsemihidden1 \lsdunhideused1 \lsdlocked0 List 5;\lsdsemihidden1 \lsdunhideused1 \lsdlocked0 List Bullet 2;\lsdsemihidden1 \lsdunhideused1 \lsdlocked0 List Bullet 3;
\lsdsemihidden1 \lsdunhideused1 \lsdlocked0 List Bullet 4;\lsdsemihidden1 \lsdunhideused1 \lsdlocked0 List Bullet 5;\lsdsemihidden1 \lsdunhideused1 \lsdlocked0 List Number 2;\lsdsemihidden1 \lsdunhideused1 \lsdlocked0 List Number 3;
\lsdsemihidden1 \lsdunhideused1 \lsdlocked0 List Number 4;\lsdsemihidden1 \lsdunhideused1 \lsdlocked0 List Number 5;\lsdqformat1 \lsdpriority10 \lsdlocked0 Title;\lsdsemihidden1 \lsdunhideused1 \lsdlocked0 Closing;
\lsdsemihidden1 \lsdunhideused1 \lsdlocked0 Signature;\lsdsemihidden1 \lsdunhideused1 \lsdpriority1 \lsdlocked0 Default Paragraph Font;\lsdsemihidden1 \lsdunhideused1 \lsdlocked0 Body Text;\lsdsemihidden1 \lsdunhideused1 \lsdlocked0 Body Text Indent;
\lsdsemihidden1 \lsdunhideused1 \lsdlocked0 List Continue;\lsdsemihidden1 \lsdunhideused1 \lsdlocked0 List Continue 2;\lsdsemihidden1 \lsdunhideused1 \lsdlocked0 List Continue 3;\lsdsemihidden1 \lsdunhideused1 \lsdlocked0 List Continue 4;
\lsdsemihidden1 \lsdunhideused1 \lsdlocked0 List Continue 5;\lsdsemihidden1 \lsdunhideused1 \lsdlocked0 Message Header;\lsdqformat1 \lsdpriority11 \lsdlocked0 Subtitle;\lsdsemihidden1 \lsdunhideused1 \lsdlocked0 Salutation;
\lsdsemihidden1 \lsdunhideused1 \lsdlocked0 Date;\lsdsemihidden1 \lsdunhideused1 \lsdlocked0 Body Text First Indent;\lsdsemihidden1 \lsdunhideused1 \lsdlocked0 Body Text First Indent 2;\lsdsemihidden1 \lsdunhideused1 \lsdlocked0 Note Heading;
\lsdsemihidden1 \lsdunhideused1 \lsdlocked0 Body Text 2;\lsdsemihidden1 \lsdunhideused1 \lsdlocked0 Body Text 3;\lsdsemihidden1 \lsdunhideused1 \lsdlocked0 Body Text Indent 2;\lsdsemihidden1 \lsdunhideused1 \lsdlocked0 Body Text Indent 3;
\lsdsemihidden1 \lsdunhideused1 \lsdlocked0 Block Text;\lsdsemihidden1 \lsdunhideused1 \lsdlocked0 Hyperlink;\lsdsemihidden1 \lsdunhideused1 \lsdlocked0 FollowedHyperlink;\lsdqformat1 \lsdpriority22 \lsdlocked0 Strong;
\lsdqformat1 \lsdpriority20 \lsdlocked0 Emphasis;\lsdsemihidden1 \lsdunhideused1 \lsdlocked0 Document Map;\lsdsemihidden1 \lsdunhideused1 \lsdlocked0 Plain Text;\lsdsemihidden1 \lsdunhideused1 \lsdlocked0 E-mail Signature;
\lsdsemihidden1 \lsdunhideused1 \lsdlocked0 HTML Top of Form;\lsdsemihidden1 \lsdunhideused1 \lsdlocked0 HTML Bottom of Form;\lsdsemihidden1 \lsdunhideused1 \lsdlocked0 Normal (Web);\lsdsemihidden1 \lsdunhideused1 \lsdlocked0 HTML Acronym;
\lsdsemihidden1 \lsdunhideused1 \lsdlocked0 HTML Address;\lsdsemihidden1 \lsdunhideused1 \lsdlocked0 HTML Cite;\lsdsemihidden1 \lsdunhideused1 \lsdlocked0 HTML Code;\lsdsemihidden1 \lsdunhideused1 \lsdlocked0 HTML Definition;
\lsdsemihidden1 \lsdunhideused1 \lsdlocked0 HTML Keyboard;\lsdsemihidden1 \lsdunhideused1 \lsdlocked0 HTML Preformatted;\lsdsemihidden1 \lsdunhideused1 \lsdlocked0 HTML Sample;\lsdsemihidden1 \lsdunhideused1 \lsdlocked0 HTML Typewriter;
\lsdsemihidden1 \lsdunhideused1 \lsdlocked0 HTML Variable;\lsdsemihidden1 \lsdunhideused1 \lsdlocked0 annotation subject;\lsdsemihidden1 \lsdunhideused1 \lsdlocked0 No List;\lsdsemihidden1 \lsdunhideused1 \lsdlocked0 Outline List 1;
\lsdsemihidden1 \lsdunhideused1 \lsdlocked0 Outline List 2;\lsdsemihidden1 \lsdunhideused1 \lsdlocked0 Outline List 3;\lsdsemihidden1 \lsdunhideused1 \lsdlocked0 Balloon Text;\lsdpriority39 \lsdlocked0 Table Grid;
\lsdsemihidden1 \lsdlocked0 Placeholder Text;\lsdqformat1 \lsdpriority1 \lsdlocked0 No Spacing;\lsdpriority60 \lsdlocked0 Light Shading;\lsdpriority61 \lsdlocked0 Light List;\lsdpriority62 \lsdlocked0 Light Grid;
\lsdpriority63 \lsdlocked0 Medium Shading 1;\lsdpriority64 \lsdlocked0 Medium Shading 2;\lsdpriority65 \lsdlocked0 Medium List 1;\lsdpriority66 \lsdlocked0 Medium List 2;\lsdpriority67 \lsdlocked0 Medium Grid 1;\lsdpriority68 \lsdlocked0 Medium Grid 2;
\lsdpriority69 \lsdlocked0 Medium Grid 3;\lsdpriority70 \lsdlocked0 Dark List;\lsdpriority71 \lsdlocked0 Colorful Shading;\lsdpriority72 \lsdlocked0 Colorful List;\lsdpriority73 \lsdlocked0 Colorful Grid;\lsdpriority60 \lsdlocked0 Light Shading Accent 1;
\lsdpriority61 \lsdlocked0 Light List Accent 1;\lsdpriority62 \lsdlocked0 Light Grid Accent 1;\lsdpriority63 \lsdlocked0 Medium Shading 1 Accent 1;\lsdpriority64 \lsdlocked0 Medium Shading 2 Accent 1;\lsdpriority65 \lsdlocked0 Medium List 1 Accent 1;
\lsdsemihidden1 \lsdlocked0 Revision;\lsdqformat1 \lsdpriority34 \lsdlocked0 List Paragraph;\lsdqformat1 \lsdpriority29 \lsdlocked0 Quote;\lsdqformat1 \lsdpriority30 \lsdlocked0 Intense Quote;\lsdpriority66 \lsdlocked0 Medium List 2 Accent 1;
\lsdpriority67 \lsdlocked0 Medium Grid 1 Accent 1;\lsdpriority68 \lsdlocked0 Medium Grid 2 Accent 1;\lsdpriority69 \lsdlocked0 Medium Grid 3 Accent 1;\lsdpriority70 \lsdlocked0 Dark List Accent 1;\lsdpriority71 \lsdlocked0 Colorful Shading Accent 1;
\lsdpriority72 \lsdlocked0 Colorful List Accent 1;\lsdpriority73 \lsdlocked0 Colorful Grid Accent 1;\lsdpriority60 \lsdlocked0 Light Shading Accent 2;\lsdpriority61 \lsdlocked0 Light List Accent 2;\lsdpriority62 \lsdlocked0 Light Grid Accent 2;
\lsdpriority63 \lsdlocked0 Medium Shading 1 Accent 2;\lsdpriority64 \lsdlocked0 Medium Shading 2 Accent 2;\lsdpriority65 \lsdlocked0 Medium List 1 Accent 2;\lsdpriority66 \lsdlocked0 Medium List 2 Accent 2;
\lsdpriority67 \lsdlocked0 Medium Grid 1 Accent 2;\lsdpriority68 \lsdlocked0 Medium Grid 2 Accent 2;\lsdpriority69 \lsdlocked0 Medium Grid 3 Accent 2;\lsdpriority70 \lsdlocked0 Dark List Accent 2;\lsdpriority71 \lsdlocked0 Colorful Shading Accent 2;
\lsdpriority72 \lsdlocked0 Colorful List Accent 2;\lsdpriority73 \lsdlocked0 Colorful Grid Accent 2;\lsdpriority60 \lsdlocked0 Light Shading Accent 3;\lsdpriority61 \lsdlocked0 Light List Accent 3;\lsdpriority62 \lsdlocked0 Light Grid Accent 3;
\lsdpriority63 \lsdlocked0 Medium Shading 1 Accent 3;\lsdpriority64 \lsdlocked0 Medium Shading 2 Accent 3;\lsdpriority65 \lsdlocked0 Medium List 1 Accent 3;\lsdpriority66 \lsdlocked0 Medium List 2 Accent 3;
\lsdpriority67 \lsdlocked0 Medium Grid 1 Accent 3;\lsdpriority68 \lsdlocked0 Medium Grid 2 Accent 3;\lsdpriority69 \lsdlocked0 Medium Grid 3 Accent 3;\lsdpriority70 \lsdlocked0 Dark List Accent 3;\lsdpriority71 \lsdlocked0 Colorful Shading Accent 3;
\lsdpriority72 \lsdlocked0 Colorful List Accent 3;\lsdpriority73 \lsdlocked0 Colorful Grid Accent 3;\lsdpriority60 \lsdlocked0 Light Shading Accent 4;\lsdpriority61 \lsdlocked0 Light List Accent 4;\lsdpriority62 \lsdlocked0 Light Grid Accent 4;
\lsdpriority63 \lsdlocked0 Medium Shading 1 Accent 4;\lsdpriority64 \lsdlocked0 Medium Shading 2 Accent 4;\lsdpriority65 \lsdlocked0 Medium List 1 Accent 4;\lsdpriority66 \lsdlocked0 Medium List 2 Accent 4;
\lsdpriority67 \lsdlocked0 Medium Grid 1 Accent 4;\lsdpriority68 \lsdlocked0 Medium Grid 2 Accent 4;\lsdpriority69 \lsdlocked0 Medium Grid 3 Accent 4;\lsdpriority70 \lsdlocked0 Dark List Accent 4;\lsdpriority71 \lsdlocked0 Colorful Shading Accent 4;
\lsdpriority72 \lsdlocked0 Colorful List Accent 4;\lsdpriority73 \lsdlocked0 Colorful Grid Accent 4;\lsdpriority60 \lsdlocked0 Light Shading Accent 5;\lsdpriority61 \lsdlocked0 Light List Accent 5;\lsdpriority62 \lsdlocked0 Light Grid Accent 5;
\lsdpriority63 \lsdlocked0 Medium Shading 1 Accent 5;\lsdpriority64 \lsdlocked0 Medium Shading 2 Accent 5;\lsdpriority65 \lsdlocked0 Medium List 1 Accent 5;\lsdpriority66 \lsdlocked0 Medium List 2 Accent 5;
\lsdpriority67 \lsdlocked0 Medium Grid 1 Accent 5;\lsdpriority68 \lsdlocked0 Medium Grid 2 Accent 5;\lsdpriority69 \lsdlocked0 Medium Grid 3 Accent 5;\lsdpriority70 \lsdlocked0 Dark List Accent 5;\lsdpriority71 \lsdlocked0 Colorful Shading Accent 5;
\lsdpriority72 \lsdlocked0 Colorful List Accent 5;\lsdpriority73 \lsdlocked0 Colorful Grid Accent 5;\lsdpriority60 \lsdlocked0 Light Shading Accent 6;\lsdpriority61 \lsdlocked0 Light List Accent 6;\lsdpriority62 \lsdlocked0 Light Grid Accent 6;
\lsdpriority63 \lsdlocked0 Medium Shading 1 Accent 6;\lsdpriority64 \lsdlocked0 Medium Shading 2 Accent 6;\lsdpriority65 \lsdlocked0 Medium List 1 Accent 6;\lsdpriority66 \lsdlocked0 Medium List 2 Accent 6;
\lsdpriority67 \lsdlocked0 Medium Grid 1 Accent 6;\lsdpriority68 \lsdlocked0 Medium Grid 2 Accent 6;\lsdpriority69 \lsdlocked0 Medium Grid 3 Accent 6;\lsdpriority70 \lsdlocked0 Dark List Accent 6;\lsdpriority71 \lsdlocked0 Colorful Shading Accent 6;
\lsdpriority72 \lsdlocked0 Colorful List Accent 6;\lsdpriority73 \lsdlocked0 Colorful Grid Accent 6;\lsdqformat1 \lsdpriority19 \lsdlocked0 Subtle Emphasis;\lsdqformat1 \lsdpriority21 \lsdlocked0 Intense Emphasis;
\lsdqformat1 \lsdpriority31 \lsdlocked0 Subtle Reference;\lsdqformat1 \lsdpriority32 \lsdlocked0 Intense Reference;\lsdqformat1 \lsdpriority33 \lsdlocked0 Book Title;\lsdsemihidden1 \lsdunhideused1 \lsdpriority37 \lsdlocked0 Bibliography;
\lsdsemihidden1 \lsdunhideused1 \lsdqformat1 \lsdpriority39 \lsdlocked0 TOC Heading;\lsdpriority41 \lsdlocked0 Plain Table 1;\lsdpriority42 \lsdlocked0 Plain Table 2;\lsdpriority43 \lsdlocked0 Plain Table 3;\lsdpriority44 \lsdlocked0 Plain Table 4;
\lsdpriority45 \lsdlocked0 Plain Table 5;\lsdpriority40 \lsdlocked0 Grid Table Light;\lsdpriority46 \lsdlocked0 Grid Table 1 Light;\lsdpriority47 \lsdlocked0 Grid Table 2;\lsdpriority48 \lsdlocked0 Grid Table 3;\lsdpriority49 \lsdlocked0 Grid Table 4;
\lsdpriority50 \lsdlocked0 Grid Table 5 Dark;\lsdpriority51 \lsdlocked0 Grid Table 6 Colorful;\lsdpriority52 \lsdlocked0 Grid Table 7 Colorful;\lsdpriority46 \lsdlocked0 Grid Table 1 Light Accent 1;\lsdpriority47 \lsdlocked0 Grid Table 2 Accent 1;
\lsdpriority48 \lsdlocked0 Grid Table 3 Accent 1;\lsdpriority49 \lsdlocked0 Grid Table 4 Accent 1;\lsdpriority50 \lsdlocked0 Grid Table 5 Dark Accent 1;\lsdpriority51 \lsdlocked0 Grid Table 6 Colorful Accent 1;
\lsdpriority52 \lsdlocked0 Grid Table 7 Colorful Accent 1;\lsdpriority46 \lsdlocked0 Grid Table 1 Light Accent 2;\lsdpriority47 \lsdlocked0 Grid Table 2 Accent 2;\lsdpriority48 \lsdlocked0 Grid Table 3 Accent 2;
\lsdpriority49 \lsdlocked0 Grid Table 4 Accent 2;\lsdpriority50 \lsdlocked0 Grid Table 5 Dark Accent 2;\lsdpriority51 \lsdlocked0 Grid Table 6 Colorful Accent 2;\lsdpriority52 \lsdlocked0 Grid Table 7 Colorful Accent 2;
\lsdpriority46 \lsdlocked0 Grid Table 1 Light Accent 3;\lsdpriority47 \lsdlocked0 Grid Table 2 Accent 3;\lsdpriority48 \lsdlocked0 Grid Table 3 Accent 3;\lsdpriority49 \lsdlocked0 Grid Table 4 Accent 3;
\lsdpriority50 \lsdlocked0 Grid Table 5 Dark Accent 3;\lsdpriority51 \lsdlocked0 Grid Table 6 Colorful Accent 3;\lsdpriority52 \lsdlocked0 Grid Table 7 Colorful Accent 3;\lsdpriority46 \lsdlocked0 Grid Table 1 Light Accent 4;
\lsdpriority47 \lsdlocked0 Grid Table 2 Accent 4;\lsdpriority48 \lsdlocked0 Grid Table 3 Accent 4;\lsdpriority49 \lsdlocked0 Grid Table 4 Accent 4;\lsdpriority50 \lsdlocked0 Grid Table 5 Dark Accent 4;
\lsdpriority51 \lsdlocked0 Grid Table 6 Colorful Accent 4;\lsdpriority52 \lsdlocked0 Grid Table 7 Colorful Accent 4;\lsdpriority46 \lsdlocked0 Grid Table 1 Light Accent 5;\lsdpriority47 \lsdlocked0 Grid Table 2 Accent 5;
\lsdpriority48 \lsdlocked0 Grid Table 3 Accent 5;\lsdpriority49 \lsdlocked0 Grid Table 4 Accent 5;\lsdpriority50 \lsdlocked0 Grid Table 5 Dark Accent 5;\lsdpriority51 \lsdlocked0 Grid Table 6 Colorful Accent 5;
\lsdpriority52 \lsdlocked0 Grid Table 7 Colorful Accent 5;\lsdpriority46 \lsdlocked0 Grid Table 1 Light Accent 6;\lsdpriority47 \lsdlocked0 Grid Table 2 Accent 6;\lsdpriority48 \lsdlocked0 Grid Table 3 Accent 6;
\lsdpriority49 \lsdlocked0 Grid Table 4 Accent 6;\lsdpriority50 \lsdlocked0 Grid Table 5 Dark Accent 6;\lsdpriority51 \lsdlocked0 Grid Table 6 Colorful Accent 6;\lsdpriority52 \lsdlocked0 Grid Table 7 Colorful Accent 6;
\lsdpriority46 \lsdlocked0 List Table 1 Light;\lsdpriority47 \lsdlocked0 List Table 2;\lsdpriority48 \lsdlocked0 List Table 3;\lsdpriority49 \lsdlocked0 List Table 4;\lsdpriority50 \lsdlocked0 List Table 5 Dark;
\lsdpriority51 \lsdlocked0 List Table 6 Colorful;\lsdpriority52 \lsdlocked0 List Table 7 Colorful;\lsdpriority46 \lsdlocked0 List Table 1 Light Accent 1;\lsdpriority47 \lsdlocked0 List Table 2 Accent 1;\lsdpriority48 \lsdlocked0 List Table 3 Accent 1;
\lsdpriority49 \lsdlocked0 List Table 4 Accent 1;\lsdpriority50 \lsdlocked0 List Table 5 Dark Accent 1;\lsdpriority51 \lsdlocked0 List Table 6 Colorful Accent 1;\lsdpriority52 \lsdlocked0 List Table 7 Colorful Accent 1;
\lsdpriority46 \lsdlocked0 List Table 1 Light Accent 2;\lsdpriority47 \lsdlocked0 List Table 2 Accent 2;\lsdpriority48 \lsdlocked0 List Table 3 Accent 2;\lsdpriority49 \lsdlocked0 List Table 4 Accent 2;
\lsdpriority50 \lsdlocked0 List Table 5 Dark Accent 2;\lsdpriority51 \lsdlocked0 List Table 6 Colorful Accent 2;\lsdpriority52 \lsdlocked0 List Table 7 Colorful Accent 2;\lsdpriority46 \lsdlocked0 List Table 1 Light Accent 3;
\lsdpriority47 \lsdlocked0 List Table 2 Accent 3;\lsdpriority48 \lsdlocked0 List Table 3 Accent 3;\lsdpriority49 \lsdlocked0 List Table 4 Accent 3;\lsdpriority50 \lsdlocked0 List Table 5 Dark Accent 3;
\lsdpriority51 \lsdlocked0 List Table 6 Colorful Accent 3;\lsdpriority52 \lsdlocked0 List Table 7 Colorful Accent 3;\lsdpriority46 \lsdlocked0 List Table 1 Light Accent 4;\lsdpriority47 \lsdlocked0 List Table 2 Accent 4;
\lsdpriority48 \lsdlocked0 List Table 3 Accent 4;\lsdpriority49 \lsdlocked0 List Table 4 Accent 4;\lsdpriority50 \lsdlocked0 List Table 5 Dark Accent 4;\lsdpriority51 \lsdlocked0 List Table 6 Colorful Accent 4;
\lsdpriority52 \lsdlocked0 List Table 7 Colorful Accent 4;\lsdpriority46 \lsdlocked0 List Table 1 Light Accent 5;\lsdpriority47 \lsdlocked0 List Table 2 Accent 5;\lsdpriority48 \lsdlocked0 List Table 3 Accent 5;
\lsdpriority49 \lsdlocked0 List Table 4 Accent 5;\lsdpriority50 \lsdlocked0 List Table 5 Dark Accent 5;\lsdpriority51 \lsdlocked0 List Table 6 Colorful Accent 5;\lsdpriority52 \lsdlocked0 List Table 7 Colorful Accent 5;
\lsdpriority46 \lsdlocked0 List Table 1 Light Accent 6;\lsdpriority47 \lsdlocked0 List Table 2 Accent 6;\lsdpriority48 \lsdlocked0 List Table 3 Accent 6;\lsdpriority49 \lsdlocked0 List Table 4 Accent 6;
\lsdpriority50 \lsdlocked0 List Table 5 Dark Accent 6;\lsdpriority51 \lsdlocked0 List Table 6 Colorful Accent 6;\lsdpriority52 \lsdlocked0 List Table 7 Colorful Accent 6;\lsdsemihidden1 \lsdunhideused1 \lsdlocked0 Mention;
\lsdsemihidden1 \lsdunhideused1 \lsdlocked0 Smart Hyperlink;\lsdsemihidden1 \lsdunhideused1 \lsdlocked0 Hashtag;\lsdsemihidden1 \lsdunhideused1 \lsdlocked0 Unresolved Mention;\lsdsemihidden1 \lsdunhideused1 \lsdlocked0 Smart Link;}}{\*\datastore 01050000
02000000180000004d73786d6c322e534158584d4c5265616465722e362e3000000000000000000000060000
d0cf11e0a1b11ae1000000000000000000000000000000003e000300feff090006000000000000000000000001000000010000000000000000100000feffffff00000000feffffff0000000000000000ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff
ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff
ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff
ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff
fffffffffffffffffdfffffffeffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff
ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff
ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff
ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff
ffffffffffffffffffffffffffffffff52006f006f007400200045006e00740072007900000000000000000000000000000000000000000000000000000000000000000000000000000000000000000016000500ffffffffffffffffffffffff0c6ad98892f1d411a65f0040963251e5000000000000000000000000501d
6b6c7652dc01feffffff00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000ffffffffffffffffffffffff00000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000ffffffffffffffffffffffff0000000000000000000000000000000000000000000000000000
000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000ffffffffffffffffffffffff000000000000000000000000000000000000000000000000
0000000000000000000000000000000000000000000000000105000000000000}}